<!-- TOC -->

- [おまじない](#%E3%81%8A%E3%81%BE%E3%81%98%E3%81%AA%E3%81%84)
    - [shebang](#shebang)
    - [Python バージョン](#python-%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3)
- [文法](#%E6%96%87%E6%B3%95)
    - [命名規則](#%E5%91%BD%E5%90%8D%E8%A6%8F%E5%89%87)
    - [予約語](#%E4%BA%88%E7%B4%84%E8%AA%9E)
    - [演算子](#%E6%BC%94%E7%AE%97%E5%AD%90)
        - [演算子の優先順位](#%E6%BC%94%E7%AE%97%E5%AD%90%E3%81%AE%E5%84%AA%E5%85%88%E9%A0%86%E4%BD%8D)
        - [条件式三項演算子](#%E6%9D%A1%E4%BB%B6%E5%BC%8F%E4%B8%89%E9%A0%85%E6%BC%94%E7%AE%97%E5%AD%90)
        - [比較演算子](#%E6%AF%94%E8%BC%83%E6%BC%94%E7%AE%97%E5%AD%90)
            - [Null 判定](#null-%E5%88%A4%E5%AE%9A)
                - [None との比較](#none-%E3%81%A8%E3%81%AE%E6%AF%94%E8%BC%83)
                - [isNullOrEmpty](#isnullorempty)
            - [同一isと同値==](#%E5%90%8C%E4%B8%80is%E3%81%A8%E5%90%8C%E5%80%A4)
            - [複数条件](#%E8%A4%87%E6%95%B0%E6%9D%A1%E4%BB%B6)
    - [オブジェクト](#%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88)
        - [オブジェクトの識別値](#%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E8%AD%98%E5%88%A5%E5%80%A4)
    - [変数](#%E5%A4%89%E6%95%B0)
        - [多重代入](#%E5%A4%9A%E9%87%8D%E4%BB%A3%E5%85%A5)
        - [代入式（セイウチ演算子、ウォルラス演算子）](#%E4%BB%A3%E5%85%A5%E5%BC%8F%E3%82%BB%E3%82%A4%E3%82%A6%E3%83%81%E6%BC%94%E7%AE%97%E5%AD%90%E3%82%A6%E3%82%A9%E3%83%AB%E3%83%A9%E3%82%B9%E6%BC%94%E7%AE%97%E5%AD%90)
        - [変数のスコープ](#%E5%A4%89%E6%95%B0%E3%81%AE%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%97)
    - [組み込み定数](#%E7%B5%84%E3%81%BF%E8%BE%BC%E3%81%BF%E5%AE%9A%E6%95%B0)
        - [False](#false)
        - [True](#true)
        - [None](#none)
        - [NotImplemented](#notimplemented)
        - [Ellipsis](#ellipsis)
        - [__debug__](#__debug__)
- [データ型](#%E3%83%87%E3%83%BC%E3%82%BF%E5%9E%8B)
    - [データ型](#%E3%83%87%E3%83%BC%E3%82%BF%E5%9E%8B)
        - [データ型の判定](#%E3%83%87%E3%83%BC%E3%82%BF%E5%9E%8B%E3%81%AE%E5%88%A4%E5%AE%9A)
        - [type](#type)
        - [isinstance](#isinstance)
    - [boolean](#boolean)
    - [int](#int)
        - [数値チェック（整数）](#%E6%95%B0%E5%80%A4%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF%E6%95%B4%E6%95%B0)
            - [との比較（整数）](#%E3%81%A8%E3%81%AE%E6%AF%94%E8%BC%83%E6%95%B4%E6%95%B0)
            - [整数文字列か判定](#%E6%95%B4%E6%95%B0%E6%96%87%E5%AD%97%E5%88%97%E3%81%8B%E5%88%A4%E5%AE%9A)
        - [int 型と文字列型](#int-%E5%9E%8B%E3%81%A8%E6%96%87%E5%AD%97%E5%88%97%E5%9E%8B)
            - [int 型のフォーマット](#int-%E5%9E%8B%E3%81%AE%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%83%E3%83%88)
            - [文字列型からのキャスト](#%E6%96%87%E5%AD%97%E5%88%97%E5%9E%8B%E3%81%8B%E3%82%89%E3%81%AE%E3%82%AD%E3%83%A3%E3%82%B9%E3%83%88)
                - [漢数字のキャスト](#%E6%BC%A2%E6%95%B0%E5%AD%97%E3%81%AE%E3%82%AD%E3%83%A3%E3%82%B9%E3%83%88)
                    - [漢数字 1 文字のキャスト](#%E6%BC%A2%E6%95%B0%E5%AD%97-1-%E6%96%87%E5%AD%97%E3%81%AE%E3%82%AD%E3%83%A3%E3%82%B9%E3%83%88)
                    - [漢数字 2 文字以上のキャスト](#%E6%BC%A2%E6%95%B0%E5%AD%97-2-%E6%96%87%E5%AD%97%E4%BB%A5%E4%B8%8A%E3%81%AE%E3%82%AD%E3%83%A3%E3%82%B9%E3%83%88)
                    - [アラビア数字に変換してからキャスト](#%E3%82%A2%E3%83%A9%E3%83%93%E3%82%A2%E6%95%B0%E5%AD%97%E3%81%AB%E5%A4%89%E6%8F%9B%E3%81%97%E3%81%A6%E3%81%8B%E3%82%89%E3%82%AD%E3%83%A3%E3%82%B9%E3%83%88)
                    - [kanjize パッケージを利用](#kanjize-%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E3%82%92%E5%88%A9%E7%94%A8)
        - [n 進数](#n-%E9%80%B2%E6%95%B0)
            - [n 進数のキャスト](#n-%E9%80%B2%E6%95%B0%E3%81%AE%E3%82%AD%E3%83%A3%E3%82%B9%E3%83%88)
            - [ビット演算](#%E3%83%93%E3%83%83%E3%83%88%E6%BC%94%E7%AE%97)
                - [左シフト](#%E5%B7%A6%E3%82%B7%E3%83%95%E3%83%88)
                - [右シフト](#%E5%8F%B3%E3%82%B7%E3%83%95%E3%83%88)
                - [AND 演算](#and-%E6%BC%94%E7%AE%97)
                - [OR 演算](#or-%E6%BC%94%E7%AE%97)
                - [XOR 演算](#xor-%E6%BC%94%E7%AE%97)
            - [進数の補数](#%E9%80%B2%E6%95%B0%E3%81%AE%E8%A3%9C%E6%95%B0)
        - [四捨五入・数値の切り上げ・切り捨て](#%E5%9B%9B%E6%8D%A8%E4%BA%94%E5%85%A5%E3%83%BB%E6%95%B0%E5%80%A4%E3%81%AE%E5%88%87%E3%82%8A%E4%B8%8A%E3%81%92%E3%83%BB%E5%88%87%E3%82%8A%E6%8D%A8%E3%81%A6)
        - [整数の乱数を取得する](#%E6%95%B4%E6%95%B0%E3%81%AE%E4%B9%B1%E6%95%B0%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B)
            - [乱数値を固定する](#%E4%B9%B1%E6%95%B0%E5%80%A4%E3%82%92%E5%9B%BA%E5%AE%9A%E3%81%99%E3%82%8B)
        - [整数の計算](#%E6%95%B4%E6%95%B0%E3%81%AE%E8%A8%88%E7%AE%97)
            - [算術演算子（整数）](#%E7%AE%97%E8%A1%93%E6%BC%94%E7%AE%97%E5%AD%90%E6%95%B4%E6%95%B0)
            - [最小公倍数・最大公約数](#%E6%9C%80%E5%B0%8F%E5%85%AC%E5%80%8D%E6%95%B0%E3%83%BB%E6%9C%80%E5%A4%A7%E5%85%AC%E7%B4%84%E6%95%B0)
    - [float](#float)
        - [数値チェック（小数）](#%E6%95%B0%E5%80%A4%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF%E5%B0%8F%E6%95%B0)
            - [との比較（小数）](#%E3%81%A8%E3%81%AE%E6%AF%94%E8%BC%83%E5%B0%8F%E6%95%B0)
            - [小数文字列か判定](#%E5%B0%8F%E6%95%B0%E6%96%87%E5%AD%97%E5%88%97%E3%81%8B%E5%88%A4%E5%AE%9A)
        - [float 型と文字列型](#float-%E5%9E%8B%E3%81%A8%E6%96%87%E5%AD%97%E5%88%97%E5%9E%8B)
            - [float 型のフォーマット](#float-%E5%9E%8B%E3%81%AE%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%83%E3%83%88)
            - [文字列型からのキャスト](#%E6%96%87%E5%AD%97%E5%88%97%E5%9E%8B%E3%81%8B%E3%82%89%E3%81%AE%E3%82%AD%E3%83%A3%E3%82%B9%E3%83%88)
        - [分数](#%E5%88%86%E6%95%B0)
            - [分母の最大値を指定して近似](#%E5%88%86%E6%AF%8D%E3%81%AE%E6%9C%80%E5%A4%A7%E5%80%A4%E3%82%92%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%A6%E8%BF%91%E4%BC%BC)
        - [数値の指定桁数での四捨五入・切り上げ・切り捨て](#%E6%95%B0%E5%80%A4%E3%81%AE%E6%8C%87%E5%AE%9A%E6%A1%81%E6%95%B0%E3%81%A7%E3%81%AE%E5%9B%9B%E6%8D%A8%E4%BA%94%E5%85%A5%E3%83%BB%E5%88%87%E3%82%8A%E4%B8%8A%E3%81%92%E3%83%BB%E5%88%87%E3%82%8A%E6%8D%A8%E3%81%A6)
        - [絶対値（abs）](#%E7%B5%B6%E5%AF%BE%E5%80%A4abs)
        - [最大値・最小値（数値）](#%E6%9C%80%E5%A4%A7%E5%80%A4%E3%83%BB%E6%9C%80%E5%B0%8F%E5%80%A4%E6%95%B0%E5%80%A4)
        - [平均値（数値）](#%E5%B9%B3%E5%9D%87%E5%80%A4%E6%95%B0%E5%80%A4)
            - [算術平均](#%E7%AE%97%E8%A1%93%E5%B9%B3%E5%9D%87)
            - [調和平均](#%E8%AA%BF%E5%92%8C%E5%B9%B3%E5%9D%87)
        - [統計量](#%E7%B5%B1%E8%A8%88%E9%87%8F)
            - [中央値](#%E4%B8%AD%E5%A4%AE%E5%80%A4)
            - [最頻値](#%E6%9C%80%E9%A0%BB%E5%80%A4)
            - [母標準偏差](#%E6%AF%8D%E6%A8%99%E6%BA%96%E5%81%8F%E5%B7%AE)
            - [母分散](#%E6%AF%8D%E5%88%86%E6%95%A3)
            - [標本標準偏差（不偏標準偏差）](#%E6%A8%99%E6%9C%AC%E6%A8%99%E6%BA%96%E5%81%8F%E5%B7%AE%E4%B8%8D%E5%81%8F%E6%A8%99%E6%BA%96%E5%81%8F%E5%B7%AE)
            - [標本分散（不偏分散）](#%E6%A8%99%E6%9C%AC%E5%88%86%E6%95%A3%E4%B8%8D%E5%81%8F%E5%88%86%E6%95%A3)
        - [小数値の乱数を取得する](#%E5%B0%8F%E6%95%B0%E5%80%A4%E3%81%AE%E4%B9%B1%E6%95%B0%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B)
        - [三角関数](#%E4%B8%89%E8%A7%92%E9%96%A2%E6%95%B0)
            - [円周率 π](#%E5%86%86%E5%91%A8%E7%8E%87-%CF%80)
            - [度（degree）とラジアン（rad）の変換](#%E5%BA%A6degree%E3%81%A8%E3%83%A9%E3%82%B8%E3%82%A2%E3%83%B3rad%E3%81%AE%E5%A4%89%E6%8F%9B)
            - [sin、cos、tan](#sincostan)
            - [asin、acos、atan](#asinacosatan)
        - [実数の計算](#%E5%AE%9F%E6%95%B0%E3%81%AE%E8%A8%88%E7%AE%97)
            - [算術演算子（実数）](#%E7%AE%97%E8%A1%93%E6%BC%94%E7%AE%97%E5%AD%90%E5%AE%9F%E6%95%B0)
            - [平方根](#%E5%B9%B3%E6%96%B9%E6%A0%B9)
            - [指数](#%E6%8C%87%E6%95%B0)
                - [べき乗](#%E3%81%B9%E3%81%8D%E4%B9%97)
                    - [\*\*](#%5C%5C)
                    - [pow](#pow)
                    - [math.pow](#mathpow)
                    - [底が負値の場合](#%E5%BA%95%E3%81%8C%E8%B2%A0%E5%80%A4%E3%81%AE%E5%A0%B4%E5%90%88)
                    - [自然対数の底（ネイピア数）のべき乗](#%E8%87%AA%E7%84%B6%E5%AF%BE%E6%95%B0%E3%81%AE%E5%BA%95%E3%83%8D%E3%82%A4%E3%83%94%E3%82%A2%E6%95%B0%E3%81%AE%E3%81%B9%E3%81%8D%E4%B9%97)
                - [対数](#%E5%AF%BE%E6%95%B0)
                - [自然対数（底が e）・任意の底の対数](#%E8%87%AA%E7%84%B6%E5%AF%BE%E6%95%B0%E5%BA%95%E3%81%8C-e%E3%83%BB%E4%BB%BB%E6%84%8F%E3%81%AE%E5%BA%95%E3%81%AE%E5%AF%BE%E6%95%B0)
                - [底の変換公式](#%E5%BA%95%E3%81%AE%E5%A4%89%E6%8F%9B%E5%85%AC%E5%BC%8F)
                - [進対数（底が 2）](#%E9%80%B2%E5%AF%BE%E6%95%B0%E5%BA%95%E3%81%8C-2)
                - [常用対数（底が 10）](#%E5%B8%B8%E7%94%A8%E5%AF%BE%E6%95%B0%E5%BA%95%E3%81%8C-10)
                - [引数と 1 の和の自然対数](#%E5%BC%95%E6%95%B0%E3%81%A8-1-%E3%81%AE%E5%92%8C%E3%81%AE%E8%87%AA%E7%84%B6%E5%AF%BE%E6%95%B0)
            - [階乗](#%E9%9A%8E%E4%B9%97)
    - [complex虚数](#complex%E8%99%9A%E6%95%B0)
    - [datetime](#datetime)
        - [日時の比較](#%E6%97%A5%E6%99%82%E3%81%AE%E6%AF%94%E8%BC%83)
        - [現在日時](#%E7%8F%BE%E5%9C%A8%E6%97%A5%E6%99%82)
        - [日時の各項目を取得](#%E6%97%A5%E6%99%82%E3%81%AE%E5%90%84%E9%A0%85%E7%9B%AE%E3%82%92%E5%8F%96%E5%BE%97)
        - [日付の生成](#%E6%97%A5%E4%BB%98%E3%81%AE%E7%94%9F%E6%88%90)
            - [一定期間後の日付を生成](#%E4%B8%80%E5%AE%9A%E6%9C%9F%E9%96%93%E5%BE%8C%E3%81%AE%E6%97%A5%E4%BB%98%E3%82%92%E7%94%9F%E6%88%90)
            - [日時の要素を置換](#%E6%97%A5%E6%99%82%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E7%BD%AE%E6%8F%9B)
                - [現在日時を取得し、特定の時刻に変更](#%E7%8F%BE%E5%9C%A8%E6%97%A5%E6%99%82%E3%82%92%E5%8F%96%E5%BE%97%E3%81%97%E7%89%B9%E5%AE%9A%E3%81%AE%E6%99%82%E5%88%BB%E3%81%AB%E5%A4%89%E6%9B%B4)
                    - [今年が閏年かどうか調べる](#%E4%BB%8A%E5%B9%B4%E3%81%8C%E9%96%8F%E5%B9%B4%E3%81%8B%E3%81%A9%E3%81%86%E3%81%8B%E8%AA%BF%E3%81%B9%E3%82%8B)
            - [日付のリスト](#%E6%97%A5%E4%BB%98%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88)
            - [ランダムな日付を生成](#%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%81%AA%E6%97%A5%E4%BB%98%E3%82%92%E7%94%9F%E6%88%90)
        - [指定日までの残り期間を取得](#%E6%8C%87%E5%AE%9A%E6%97%A5%E3%81%BE%E3%81%A7%E3%81%AE%E6%AE%8B%E3%82%8A%E6%9C%9F%E9%96%93%E3%82%92%E5%8F%96%E5%BE%97)
        - [生年月日から年齢を取得](#%E7%94%9F%E5%B9%B4%E6%9C%88%E6%97%A5%E3%81%8B%E3%82%89%E5%B9%B4%E9%BD%A2%E3%82%92%E5%8F%96%E5%BE%97)
        - [タイムゾーンを考慮した datetime](#%E3%82%BF%E3%82%A4%E3%83%A0%E3%82%BE%E3%83%BC%E3%83%B3%E3%82%92%E8%80%83%E6%85%AE%E3%81%97%E3%81%9F-datetime)
            - [datetime パッケージの timezone モジュールを使用する場合](#datetime-%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E3%81%AE-timezone-%E3%83%A2%E3%82%B8%E3%83%A5%E3%83%BC%E3%83%AB%E3%82%92%E4%BD%BF%E7%94%A8%E3%81%99%E3%82%8B%E5%A0%B4%E5%90%88)
                - [生成](#%E7%94%9F%E6%88%90)
                - [タイムゾーンを変更変更前と同じ時刻](#%E3%82%BF%E3%82%A4%E3%83%A0%E3%82%BE%E3%83%BC%E3%83%B3%E3%82%92%E5%A4%89%E6%9B%B4%E5%A4%89%E6%9B%B4%E5%89%8D%E3%81%A8%E5%90%8C%E3%81%98%E6%99%82%E5%88%BB)
                - [タイムゾーンを置換変更前と異なる時刻](#%E3%82%BF%E3%82%A4%E3%83%A0%E3%82%BE%E3%83%BC%E3%83%B3%E3%82%92%E7%BD%AE%E6%8F%9B%E5%A4%89%E6%9B%B4%E5%89%8D%E3%81%A8%E7%95%B0%E3%81%AA%E3%82%8B%E6%99%82%E5%88%BB)
            - [pytz を使用する場合](#pytz-%E3%82%92%E4%BD%BF%E7%94%A8%E3%81%99%E3%82%8B%E5%A0%B4%E5%90%88)
                - [現在日時から生成](#%E7%8F%BE%E5%9C%A8%E6%97%A5%E6%99%82%E3%81%8B%E3%82%89%E7%94%9F%E6%88%90)
                - [任意の日時を生成](#%E4%BB%BB%E6%84%8F%E3%81%AE%E6%97%A5%E6%99%82%E3%82%92%E7%94%9F%E6%88%90)
                - [サマータイム終了時点を跨いだ日時の加算](#%E3%82%B5%E3%83%9E%E3%83%BC%E3%82%BF%E3%82%A4%E3%83%A0%E7%B5%82%E4%BA%86%E6%99%82%E7%82%B9%E3%82%92%E8%B7%A8%E3%81%84%E3%81%A0%E6%97%A5%E6%99%82%E3%81%AE%E5%8A%A0%E7%AE%97)
        - [datetime 型のキャスト](#datetime-%E5%9E%8B%E3%81%AE%E3%82%AD%E3%83%A3%E3%82%B9%E3%83%88)
            - [datetime 型と date 型・time 型](#datetime-%E5%9E%8B%E3%81%A8-date-%E5%9E%8B%E3%83%BBtime-%E5%9E%8B)
                - [datetime 型 から date 型・time 型](#datetime-%E5%9E%8B-%E3%81%8B%E3%82%89-date-%E5%9E%8B%E3%83%BBtime-%E5%9E%8B)
                - [date 型・time 型 から datetime 型](#date-%E5%9E%8B%E3%83%BBtime-%E5%9E%8B-%E3%81%8B%E3%82%89-datetime-%E5%9E%8B)
            - [datetime 型と文字列型](#datetime-%E5%9E%8B%E3%81%A8%E6%96%87%E5%AD%97%E5%88%97%E5%9E%8B)
                - [datetime 型 から 文字列型](#datetime-%E5%9E%8B-%E3%81%8B%E3%82%89-%E6%96%87%E5%AD%97%E5%88%97%E5%9E%8B)
                    - [ロケールを指定して月・曜日を示す文字列を取得する](#%E3%83%AD%E3%82%B1%E3%83%BC%E3%83%AB%E3%82%92%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%A6%E6%9C%88%E3%83%BB%E6%9B%9C%E6%97%A5%E3%82%92%E7%A4%BA%E3%81%99%E6%96%87%E5%AD%97%E5%88%97%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B)
                - [文字列型 から datetime 型、date 型](#%E6%96%87%E5%AD%97%E5%88%97%E5%9E%8B-%E3%81%8B%E3%82%89-datetime-%E5%9E%8Bdate-%E5%9E%8B)
                - [タイムゾーンを考慮した 文字列型 から datetime 型](#%E3%82%BF%E3%82%A4%E3%83%A0%E3%82%BE%E3%83%BC%E3%83%B3%E3%82%92%E8%80%83%E6%85%AE%E3%81%97%E3%81%9F-%E6%96%87%E5%AD%97%E5%88%97%E5%9E%8B-%E3%81%8B%E3%82%89-datetime-%E5%9E%8B)
                - [タイムゾーンを考慮した ISO 形式の 文字列型 から datetime 型](#%E3%82%BF%E3%82%A4%E3%83%A0%E3%82%BE%E3%83%BC%E3%83%B3%E3%82%92%E8%80%83%E6%85%AE%E3%81%97%E3%81%9F-iso-%E5%BD%A2%E5%BC%8F%E3%81%AE-%E6%96%87%E5%AD%97%E5%88%97%E5%9E%8B-%E3%81%8B%E3%82%89-datetime-%E5%9E%8B)
                - [日付時刻の format 文字列に埋め込むディレクティブ](#%E6%97%A5%E4%BB%98%E6%99%82%E5%88%BB%E3%81%AE-format-%E6%96%87%E5%AD%97%E5%88%97%E3%81%AB%E5%9F%8B%E3%82%81%E8%BE%BC%E3%82%80%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%86%E3%82%A3%E3%83%96)
        - [祝日判定](#%E7%A5%9D%E6%97%A5%E5%88%A4%E5%AE%9A)
        - [和暦・元号](#%E5%92%8C%E6%9A%A6%E3%83%BB%E5%85%83%E5%8F%B7)
        - [実行時間を計測](#%E5%AE%9F%E8%A1%8C%E6%99%82%E9%96%93%E3%82%92%E8%A8%88%E6%B8%AC)
            - [小数点以下がミリ秒](#%E5%B0%8F%E6%95%B0%E7%82%B9%E4%BB%A5%E4%B8%8B%E3%81%8C%E3%83%9F%E3%83%AA%E7%A7%92)
            - [ナノ秒単位](#%E3%83%8A%E3%83%8E%E7%A7%92%E5%8D%98%E4%BD%8D)
            - [timeit](#timeit)
    - [str文字列](#str%E6%96%87%E5%AD%97%E5%88%97)
        - [エスケープシーケンス](#%E3%82%A8%E3%82%B9%E3%82%B1%E3%83%BC%E3%83%97%E3%82%B7%E3%83%BC%E3%82%B1%E3%83%B3%E3%82%B9)
        - [RAW 文字列](#raw-%E6%96%87%E5%AD%97%E5%88%97)
        - [ヒアドキュメント](#%E3%83%92%E3%82%A2%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88)
            - [文字列の大小比較](#%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E5%A4%A7%E5%B0%8F%E6%AF%94%E8%BC%83)
            - [文字列の連結](#%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E9%80%A3%E7%B5%90)
        - [文字列のフォーマット](#%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%83%E3%83%88)
            - [ゼロ埋め](#%E3%82%BC%E3%83%AD%E5%9F%8B%E3%82%81)
            - [書式指定子](#%E6%9B%B8%E5%BC%8F%E6%8C%87%E5%AE%9A%E5%AD%90)
            - [format 関数](#format-%E9%96%A2%E6%95%B0)
            - [str.format 関数](#strformat-%E9%96%A2%E6%95%B0)
                - [整列](#%E6%95%B4%E5%88%97)
                - [小数点以下の桁数](#%E5%B0%8F%E6%95%B0%E7%82%B9%E4%BB%A5%E4%B8%8B%E3%81%AE%E6%A1%81%E6%95%B0)
                - [桁区切り文字](#%E6%A1%81%E5%8C%BA%E5%88%87%E3%82%8A%E6%96%87%E5%AD%97)
                - [指数表記](#%E6%8C%87%E6%95%B0%E8%A1%A8%E8%A8%98)
                - [進数、8 進数、16 進数](#%E9%80%B2%E6%95%B08-%E9%80%B2%E6%95%B016-%E9%80%B2%E6%95%B0)
                - [リストの値を代入](#%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E5%80%A4%E3%82%92%E4%BB%A3%E5%85%A5)
                - [タプルの値を代入](#%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E5%80%A4%E3%82%92%E4%BB%A3%E5%85%A5)
                - [辞書の値を代入](#%E8%BE%9E%E6%9B%B8%E3%81%AE%E5%80%A4%E3%82%92%E4%BB%A3%E5%85%A5)
                - [クラスの属性値を代入](#%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%AE%E5%B1%9E%E6%80%A7%E5%80%A4%E3%82%92%E4%BB%A3%E5%85%A5)
            - [f 文字列](#f-%E6%96%87%E5%AD%97%E5%88%97)
- [> # RAW 文字列との組み合わせ](#--raw-%E6%96%87%E5%AD%97%E5%88%97%E3%81%A8%E3%81%AE%E7%B5%84%E3%81%BF%E5%90%88%E3%82%8F%E3%81%9B)
                - [リストの値を代入](#%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E5%80%A4%E3%82%92%E4%BB%A3%E5%85%A5)
                - [タプルの値を代入](#%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E5%80%A4%E3%82%92%E4%BB%A3%E5%85%A5)
                - [辞書の値を代入](#%E8%BE%9E%E6%9B%B8%E3%81%AE%E5%80%A4%E3%82%92%E4%BB%A3%E5%85%A5)
            - [フォーマット演算子](#%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%83%E3%83%88%E6%BC%94%E7%AE%97%E5%AD%90)
        - [文字種チェック](#%E6%96%87%E5%AD%97%E7%A8%AE%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF)
            - [数値チェック](#%E6%95%B0%E5%80%A4%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF)
        - [最大値・最小値（文字列）](#%E6%9C%80%E5%A4%A7%E5%80%A4%E3%83%BB%E6%9C%80%E5%B0%8F%E5%80%A4%E6%96%87%E5%AD%97%E5%88%97)
        - [バイト列byte, Unicode](#%E3%83%90%E3%82%A4%E3%83%88%E5%88%97byte-unicode)
            - [Python 3](#python-3)
            - [Python 2](#python-2)
            - [文字列とバイト列の変換](#%E6%96%87%E5%AD%97%E5%88%97%E3%81%A8%E3%83%90%E3%82%A4%E3%83%88%E5%88%97%E3%81%AE%E5%A4%89%E6%8F%9B)
        - [区切り文字による分割](#%E5%8C%BA%E5%88%87%E3%82%8A%E6%96%87%E5%AD%97%E3%81%AB%E3%82%88%E3%82%8B%E5%88%86%E5%89%B2)
            - [split の引数を指定しないと、空白文字タブ文字、改行文字を含むで分割される](#split-%E3%81%AE%E5%BC%95%E6%95%B0%E3%82%92%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%AA%E3%81%84%E3%81%A8%E7%A9%BA%E7%99%BD%E6%96%87%E5%AD%97%E3%82%BF%E3%83%96%E6%96%87%E5%AD%97%E6%94%B9%E8%A1%8C%E6%96%87%E5%AD%97%E3%82%92%E5%90%AB%E3%82%80%E3%81%A7%E5%88%86%E5%89%B2%E3%81%95%E3%82%8C%E3%82%8B)
            - [split で分割した後、各要素の先頭・末尾の空白文字を除去する](#split-%E3%81%A7%E5%88%86%E5%89%B2%E3%81%97%E3%81%9F%E5%BE%8C%E5%90%84%E8%A6%81%E7%B4%A0%E3%81%AE%E5%85%88%E9%A0%AD%E3%83%BB%E6%9C%AB%E5%B0%BE%E3%81%AE%E7%A9%BA%E7%99%BD%E6%96%87%E5%AD%97%E3%82%92%E9%99%A4%E5%8E%BB%E3%81%99%E3%82%8B)
            - [正規表現で区切り文字を指定して分割](#%E6%AD%A3%E8%A6%8F%E8%A1%A8%E7%8F%BE%E3%81%A7%E5%8C%BA%E5%88%87%E3%82%8A%E6%96%87%E5%AD%97%E3%82%92%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%A6%E5%88%86%E5%89%B2)
        - [部分文字列](#%E9%83%A8%E5%88%86%E6%96%87%E5%AD%97%E5%88%97)
            - [文字ずつ処理する](#%E6%96%87%E5%AD%97%E3%81%9A%E3%81%A4%E5%87%A6%E7%90%86%E3%81%99%E3%82%8B)
                - [インデックスを取得](#%E3%82%A4%E3%83%B3%E3%83%87%E3%83%83%E3%82%AF%E3%82%B9%E3%82%92%E5%8F%96%E5%BE%97)
            - [スライスで指定](#%E3%82%B9%E3%83%A9%E3%82%A4%E3%82%B9%E3%81%A7%E6%8C%87%E5%AE%9A)
            - [部分文字列を全パターン取得する](#%E9%83%A8%E5%88%86%E6%96%87%E5%AD%97%E5%88%97%E3%82%92%E5%85%A8%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B)
            - [文字列をランダムソートする](#%E6%96%87%E5%AD%97%E5%88%97%E3%82%92%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%82%BD%E3%83%BC%E3%83%88%E3%81%99%E3%82%8B)
        - [エンコード・デコード](#%E3%82%A8%E3%83%B3%E3%82%B3%E3%83%BC%E3%83%89%E3%83%BB%E3%83%87%E3%82%B3%E3%83%BC%E3%83%89)
            - [Base64](#base64)
            - [URL safe な Base64](#url-safe-%E3%81%AA-base64)
        - [検索](#%E6%A4%9C%E7%B4%A2)
            - [単純な検索](#%E5%8D%98%E7%B4%94%E3%81%AA%E6%A4%9C%E7%B4%A2)
                - [前方一致](#%E5%89%8D%E6%96%B9%E4%B8%80%E8%87%B4)
                - [後方一致](#%E5%BE%8C%E6%96%B9%E4%B8%80%E8%87%B4)
            - [正規表現による検索](#%E6%AD%A3%E8%A6%8F%E8%A1%A8%E7%8F%BE%E3%81%AB%E3%82%88%E3%82%8B%E6%A4%9C%E7%B4%A2)
                - [メタ文字](#%E3%83%A1%E3%82%BF%E6%96%87%E5%AD%97)
                - [フラグを利用](#%E3%83%95%E3%83%A9%E3%82%B0%E3%82%92%E5%88%A9%E7%94%A8)
                - [パターンのコンパイル](#%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3%E3%81%AE%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB)
                    - [コンパイルしない場合](#%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB%E3%81%97%E3%81%AA%E3%81%84%E5%A0%B4%E5%90%88)
                    - [コンパイルする場合](#%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB%E3%81%99%E3%82%8B%E5%A0%B4%E5%90%88)
                    - [パターンを文字列型変数からコンパイル](#%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3%E3%82%92%E6%96%87%E5%AD%97%E5%88%97%E5%9E%8B%E5%A4%89%E6%95%B0%E3%81%8B%E3%82%89%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB)
                - [文字列の先頭でマッチ](#%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E5%85%88%E9%A0%AD%E3%81%A7%E3%83%9E%E3%83%83%E3%83%81)
                - [文字列の途中でマッチ](#%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E9%80%94%E4%B8%AD%E3%81%A7%E3%83%9E%E3%83%83%E3%83%81)
                    - [マッチした最初の場所](#%E3%83%9E%E3%83%83%E3%83%81%E3%81%97%E3%81%9F%E6%9C%80%E5%88%9D%E3%81%AE%E5%A0%B4%E6%89%80)
                    - [文字列の途中でマッチした全ての箇所のリスト](#%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E9%80%94%E4%B8%AD%E3%81%A7%E3%83%9E%E3%83%83%E3%83%81%E3%81%97%E3%81%9F%E5%85%A8%E3%81%A6%E3%81%AE%E7%AE%87%E6%89%80%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88)
                    - [文字列の途中でマッチした全ての箇所のイテレーター](#%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E9%80%94%E4%B8%AD%E3%81%A7%E3%83%9E%E3%83%83%E3%83%81%E3%81%97%E3%81%9F%E5%85%A8%E3%81%A6%E3%81%AE%E7%AE%87%E6%89%80%E3%81%AE%E3%82%A4%E3%83%86%E3%83%AC%E3%83%BC%E3%82%BF%E3%83%BC)
                - [グループ化](#%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97%E5%8C%96)
                    - [グループ番号](#%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97%E7%95%AA%E5%8F%B7)
                    - [シンボリックグループ名](#%E3%82%B7%E3%83%B3%E3%83%9C%E3%83%AA%E3%83%83%E3%82%AF%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97%E5%90%8D)
                - [先読み・後読み](#%E5%85%88%E8%AA%AD%E3%81%BF%E3%83%BB%E5%BE%8C%E8%AA%AD%E3%81%BF)
                    - [先読み](#%E5%85%88%E8%AA%AD%E3%81%BF)
                    - [否定の先読み](#%E5%90%A6%E5%AE%9A%E3%81%AE%E5%85%88%E8%AA%AD%E3%81%BF)
                    - [後読み](#%E5%BE%8C%E8%AA%AD%E3%81%BF)
                    - [否定の後読み](#%E5%90%A6%E5%AE%9A%E3%81%AE%E5%BE%8C%E8%AA%AD%E3%81%BF)
            - [文字種のフィルタリング](#%E6%96%87%E5%AD%97%E7%A8%AE%E3%81%AE%E3%83%95%E3%82%A3%E3%83%AB%E3%82%BF%E3%83%AA%E3%83%B3%E3%82%B0)
                - [文字列全体が半角英数だけ含まれているか検査](#%E6%96%87%E5%AD%97%E5%88%97%E5%85%A8%E4%BD%93%E3%81%8C%E5%8D%8A%E8%A7%92%E8%8B%B1%E6%95%B0%E3%81%A0%E3%81%91%E5%90%AB%E3%81%BE%E3%82%8C%E3%81%A6%E3%81%84%E3%82%8B%E3%81%8B%E6%A4%9C%E6%9F%BB)
                - [半角カナなどが含まれていないか検査](#%E5%8D%8A%E8%A7%92%E3%82%AB%E3%83%8A%E3%81%AA%E3%81%A9%E3%81%8C%E5%90%AB%E3%81%BE%E3%82%8C%E3%81%A6%E3%81%84%E3%81%AA%E3%81%84%E3%81%8B%E6%A4%9C%E6%9F%BB)
                - [文字種別のパターン](#%E6%96%87%E5%AD%97%E7%A8%AE%E5%88%A5%E3%81%AE%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3)
        - [置換](#%E7%BD%AE%E6%8F%9B)
            - [単純な置換](#%E5%8D%98%E7%B4%94%E3%81%AA%E7%BD%AE%E6%8F%9B)
                - [改行文字を除去](#%E6%94%B9%E8%A1%8C%E6%96%87%E5%AD%97%E3%82%92%E9%99%A4%E5%8E%BB)
                - [前後の空白文字を除去（trim）](#%E5%89%8D%E5%BE%8C%E3%81%AE%E7%A9%BA%E7%99%BD%E6%96%87%E5%AD%97%E3%82%92%E9%99%A4%E5%8E%BBtrim)
                - [大文字化・小文字化](#%E5%A4%A7%E6%96%87%E5%AD%97%E5%8C%96%E3%83%BB%E5%B0%8F%E6%96%87%E5%AD%97%E5%8C%96)
            - [正規表現による置換](#%E6%AD%A3%E8%A6%8F%E8%A1%A8%E7%8F%BE%E3%81%AB%E3%82%88%E3%82%8B%E7%BD%AE%E6%8F%9B)
                - [数字のみ抽出](#%E6%95%B0%E5%AD%97%E3%81%AE%E3%81%BF%E6%8A%BD%E5%87%BA)
                - [ファイル名に使用できない文字を除去](#%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E5%90%8D%E3%81%AB%E4%BD%BF%E7%94%A8%E3%81%A7%E3%81%8D%E3%81%AA%E3%81%84%E6%96%87%E5%AD%97%E3%82%92%E9%99%A4%E5%8E%BB)
            - [文字ごとの置換](#%E6%96%87%E5%AD%97%E3%81%94%E3%81%A8%E3%81%AE%E7%BD%AE%E6%8F%9B)
        - [絵文字](#%E7%B5%B5%E6%96%87%E5%AD%97)
        - [ランダムな文字列の生成](#%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%81%AA%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E7%94%9F%E6%88%90)
        - [形態素解析](#%E5%BD%A2%E6%85%8B%E7%B4%A0%E8%A7%A3%E6%9E%90)
            - [janome による解析](#janome-%E3%81%AB%E3%82%88%E3%82%8B%E8%A7%A3%E6%9E%90)
                - [NEologd 辞書を使用](#neologd-%E8%BE%9E%E6%9B%B8%E3%82%92%E4%BD%BF%E7%94%A8)
    - [リスト](#%E3%83%AA%E3%82%B9%E3%83%88)
        - [リストが空か検査](#%E3%83%AA%E3%82%B9%E3%83%88%E3%81%8C%E7%A9%BA%E3%81%8B%E6%A4%9C%E6%9F%BB)
        - [リストを生成](#%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E7%94%9F%E6%88%90)
            - [空のリストを生成](#%E7%A9%BA%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E7%94%9F%E6%88%90)
            - [初期値を指定して生成](#%E5%88%9D%E6%9C%9F%E5%80%A4%E3%82%92%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%A6%E7%94%9F%E6%88%90)
            - [リストをコピーして生成](#%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E3%82%B3%E3%83%94%E3%83%BC%E3%81%97%E3%81%A6%E7%94%9F%E6%88%90)
            - [逆順のリストを生成](#%E9%80%86%E9%A0%86%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E7%94%9F%E6%88%90)
            - [タプルからリストを生成](#%E3%82%BF%E3%83%97%E3%83%AB%E3%81%8B%E3%82%89%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E7%94%9F%E6%88%90)
            - [rangeを使って連番の要素を持つリストを生成](#range%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E9%80%A3%E7%95%AA%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E6%8C%81%E3%81%A4%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E7%94%9F%E6%88%90)
                - [逆順の連番](#%E9%80%86%E9%A0%86%E3%81%AE%E9%80%A3%E7%95%AA)
            - [文字列からリストを生成](#%E6%96%87%E5%AD%97%E5%88%97%E3%81%8B%E3%82%89%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E7%94%9F%E6%88%90)
                - [リストの文字列表現からリストを生成](#%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E6%96%87%E5%AD%97%E5%88%97%E8%A1%A8%E7%8F%BE%E3%81%8B%E3%82%89%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E7%94%9F%E6%88%90)
        - [リストに要素を追加](#%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AB%E8%A6%81%E7%B4%A0%E3%82%92%E8%BF%BD%E5%8A%A0)
            - [append末尾に追加](#append%E6%9C%AB%E5%B0%BE%E3%81%AB%E8%BF%BD%E5%8A%A0)
            - [insert添え字と要素の値を指定](#insert%E6%B7%BB%E3%81%88%E5%AD%97%E3%81%A8%E8%A6%81%E7%B4%A0%E3%81%AE%E5%80%A4%E3%82%92%E6%8C%87%E5%AE%9A)
            - [スライスを使用して、別のリスト別のイテラブルオブジェクトの要素を指定位置に追加連結／結合する](#%E3%82%B9%E3%83%A9%E3%82%A4%E3%82%B9%E3%82%92%E4%BD%BF%E7%94%A8%E3%81%97%E3%81%A6%E5%88%A5%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88%E5%88%A5%E3%81%AE%E3%82%A4%E3%83%86%E3%83%A9%E3%83%96%E3%83%AB%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E6%8C%87%E5%AE%9A%E4%BD%8D%E7%BD%AE%E3%81%AB%E8%BF%BD%E5%8A%A0%E9%80%A3%E7%B5%90%EF%BC%8F%E7%B5%90%E5%90%88%E3%81%99%E3%82%8B)
            - [別のリスト別のイテラブルオブジェクトの要素を末尾に追加連結／結合する](#%E5%88%A5%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88%E5%88%A5%E3%81%AE%E3%82%A4%E3%83%86%E3%83%A9%E3%83%96%E3%83%AB%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E6%9C%AB%E5%B0%BE%E3%81%AB%E8%BF%BD%E5%8A%A0%E9%80%A3%E7%B5%90%EF%BC%8F%E7%B5%90%E5%90%88%E3%81%99%E3%82%8B)
            - [リストの要素を繰り返す](#%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E7%B9%B0%E3%82%8A%E8%BF%94%E3%81%99)
        - [リストの要素を参照](#%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E5%8F%82%E7%85%A7)
            - [リストの要素をランダム抽出](#%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E6%8A%BD%E5%87%BA)
            - [最大値・最小値（リスト）](#%E6%9C%80%E5%A4%A7%E5%80%A4%E3%83%BB%E6%9C%80%E5%B0%8F%E5%80%A4%E3%83%AA%E3%82%B9%E3%83%88)
                - [最大値／最小値から n 個](#%E6%9C%80%E5%A4%A7%E5%80%A4%EF%BC%8F%E6%9C%80%E5%B0%8F%E5%80%A4%E3%81%8B%E3%82%89-n-%E5%80%8B)
        - [リストの要素を除去](#%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E9%99%A4%E5%8E%BB)
        - [リストの反復処理](#%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E5%8F%8D%E5%BE%A9%E5%87%A6%E7%90%86)
            - [インデックスを取得](#%E3%82%A4%E3%83%B3%E3%83%87%E3%83%83%E3%82%AF%E3%82%B9%E3%82%92%E5%8F%96%E5%BE%97)
            - [複数のリストを同時に繰り返す](#%E8%A4%87%E6%95%B0%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E5%90%8C%E6%99%82%E3%81%AB%E7%B9%B0%E3%82%8A%E8%BF%94%E3%81%99)
            - [リストの要素を連結結合した文字列を取得](#%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E9%80%A3%E7%B5%90%E7%B5%90%E5%90%88%E3%81%97%E3%81%9F%E6%96%87%E5%AD%97%E5%88%97%E3%82%92%E5%8F%96%E5%BE%97)
            - [順列と組み合わせ](#%E9%A0%86%E5%88%97%E3%81%A8%E7%B5%84%E3%81%BF%E5%90%88%E3%82%8F%E3%81%9B)
                - [順列](#%E9%A0%86%E5%88%97)
                - [組み合わせ](#%E7%B5%84%E3%81%BF%E5%90%88%E3%82%8F%E3%81%9B)
                - [重複組み合わせ](#%E9%87%8D%E8%A4%87%E7%B5%84%E3%81%BF%E5%90%88%E3%82%8F%E3%81%9B)
                - [直積](#%E7%9B%B4%E7%A9%8D)
            - [多次元リスト](#%E5%A4%9A%E6%AC%A1%E5%85%83%E3%83%AA%E3%82%B9%E3%83%88)
                - [に平坦化flatten](#%E3%81%AB%E5%B9%B3%E5%9D%A6%E5%8C%96flatten)
                - [次元リストを 1 次元リストに平坦化flatten](#%E6%AC%A1%E5%85%83%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92-1-%E6%AC%A1%E5%85%83%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AB%E5%B9%B3%E5%9D%A6%E5%8C%96flatten)
                - [多次元リストを 1 次元リストに平坦化flatten](#%E5%A4%9A%E6%AC%A1%E5%85%83%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92-1-%E6%AC%A1%E5%85%83%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AB%E5%B9%B3%E5%9D%A6%E5%8C%96flatten)
        - [リストをソート](#%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E3%82%BD%E3%83%BC%E3%83%88)
            - [ソート条件を変える](#%E3%82%BD%E3%83%BC%E3%83%88%E6%9D%A1%E4%BB%B6%E3%82%92%E5%A4%89%E3%81%88%E3%82%8B)
                - [文字数でソート](#%E6%96%87%E5%AD%97%E6%95%B0%E3%81%A7%E3%82%BD%E3%83%BC%E3%83%88)
                - [末尾の文字のアルファベット順でソート](#%E6%9C%AB%E5%B0%BE%E3%81%AE%E6%96%87%E5%AD%97%E3%81%AE%E3%82%A2%E3%83%AB%E3%83%95%E3%82%A1%E3%83%99%E3%83%83%E3%83%88%E9%A0%86%E3%81%A7%E3%82%BD%E3%83%BC%E3%83%88)
            - [リストの要素の型](#%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%81%AE%E5%9E%8B)
                - [リストのリスト](#%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88)
                    - [リスト同士の比較方法既定](#%E3%83%AA%E3%82%B9%E3%83%88%E5%90%8C%E5%A3%AB%E3%81%AE%E6%AF%94%E8%BC%83%E6%96%B9%E6%B3%95%E6%97%A2%E5%AE%9A)
                    - [任意の要素を比較してソート](#%E4%BB%BB%E6%84%8F%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E6%AF%94%E8%BC%83%E3%81%97%E3%81%A6%E3%82%BD%E3%83%BC%E3%83%88)
                    - [次元リスト](#%E6%AC%A1%E5%85%83%E3%83%AA%E3%82%B9%E3%83%88)
                - [辞書のリスト](#%E8%BE%9E%E6%9B%B8%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88)
                - [タプルのリスト](#%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88)
                - [セットのリスト](#%E3%82%BB%E3%83%83%E3%83%88%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88)
        - [リストのランダム処理](#%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E5%87%A6%E7%90%86)
            - [リストから要素を 1 個ランダムに取り出す](#%E3%83%AA%E3%82%B9%E3%83%88%E3%81%8B%E3%82%89%E8%A6%81%E7%B4%A0%E3%82%92-1-%E5%80%8B%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%81%AB%E5%8F%96%E3%82%8A%E5%87%BA%E3%81%99)
            - [リストから要素を複数個ランダムに取り出す重複あり](#%E3%83%AA%E3%82%B9%E3%83%88%E3%81%8B%E3%82%89%E8%A6%81%E7%B4%A0%E3%82%92%E8%A4%87%E6%95%B0%E5%80%8B%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%81%AB%E5%8F%96%E3%82%8A%E5%87%BA%E3%81%99%E9%87%8D%E8%A4%87%E3%81%82%E3%82%8A)
            - [リストから要素を複数個ランダムに取り出す重複なし](#%E3%83%AA%E3%82%B9%E3%83%88%E3%81%8B%E3%82%89%E8%A6%81%E7%B4%A0%E3%82%92%E8%A4%87%E6%95%B0%E5%80%8B%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%81%AB%E5%8F%96%E3%82%8A%E5%87%BA%E3%81%99%E9%87%8D%E8%A4%87%E3%81%AA%E3%81%97)
            - [リストの要素をランダムソートシャッフルする](#%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%82%BD%E3%83%BC%E3%83%88%E3%82%B7%E3%83%A3%E3%83%83%E3%83%95%E3%83%AB%E3%81%99%E3%82%8B)
        - [リストの重複する要素](#%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E9%87%8D%E8%A4%87%E3%81%99%E3%82%8B%E8%A6%81%E7%B4%A0)
            - [リストの重複する要素を除去](#%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E9%87%8D%E8%A4%87%E3%81%99%E3%82%8B%E8%A6%81%E7%B4%A0%E3%82%92%E9%99%A4%E5%8E%BB)
            - [リストの重複する要素を除去](#%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E9%87%8D%E8%A4%87%E3%81%99%E3%82%8B%E8%A6%81%E7%B4%A0%E3%82%92%E9%99%A4%E5%8E%BB)
            - [リストの重複する要素を除去](#%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E9%87%8D%E8%A4%87%E3%81%99%E3%82%8B%E8%A6%81%E7%B4%A0%E3%82%92%E9%99%A4%E5%8E%BB)
                - [リストが入れ子の場合](#%E3%83%AA%E3%82%B9%E3%83%88%E3%81%8C%E5%85%A5%E3%82%8C%E5%AD%90%E3%81%AE%E5%A0%B4%E5%90%88)
            - [リストの重複する要素を抽出](#%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E9%87%8D%E8%A4%87%E3%81%99%E3%82%8B%E8%A6%81%E7%B4%A0%E3%82%92%E6%8A%BD%E5%87%BA)
            - [リストの重複する要素を抽出](#%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E9%87%8D%E8%A4%87%E3%81%99%E3%82%8B%E8%A6%81%E7%B4%A0%E3%82%92%E6%8A%BD%E5%87%BA)
            - [リストの重複する要素を抽出](#%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E9%87%8D%E8%A4%87%E3%81%99%E3%82%8B%E8%A6%81%E7%B4%A0%E3%82%92%E6%8A%BD%E5%87%BA)
        - [高階関数](#%E9%AB%98%E9%9A%8E%E9%96%A2%E6%95%B0)
            - [map要素ごとに処理](#map%E8%A6%81%E7%B4%A0%E3%81%94%E3%81%A8%E3%81%AB%E5%87%A6%E7%90%86)
            - [filter要素のフィルタリング](#filter%E8%A6%81%E7%B4%A0%E3%81%AE%E3%83%95%E3%82%A3%E3%83%AB%E3%82%BF%E3%83%AA%E3%83%B3%E3%82%B0)
            - [reduce畳み込み／集約](#reduce%E7%95%B3%E3%81%BF%E8%BE%BC%E3%81%BF%EF%BC%8F%E9%9B%86%E7%B4%84)
        - [リストの内包表記](#%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E5%86%85%E5%8C%85%E8%A1%A8%E8%A8%98)
            - [map要素ごとに処理](#map%E8%A6%81%E7%B4%A0%E3%81%94%E3%81%A8%E3%81%AB%E5%87%A6%E7%90%86)
            - [filter要素のフィルタリング](#filter%E8%A6%81%E7%B4%A0%E3%81%AE%E3%83%95%E3%82%A3%E3%83%AB%E3%82%BF%E3%83%AA%E3%83%B3%E3%82%B0)
            - [多次元リスト](#%E5%A4%9A%E6%AC%A1%E5%85%83%E3%83%AA%E3%82%B9%E3%83%88)
            - [リスト内包表記で FizzBuzz](#%E3%83%AA%E3%82%B9%E3%83%88%E5%86%85%E5%8C%85%E8%A1%A8%E8%A8%98%E3%81%A7-fizzbuzz)
            - [リスト内包表記の入れ子](#%E3%83%AA%E3%82%B9%E3%83%88%E5%86%85%E5%8C%85%E8%A1%A8%E8%A8%98%E3%81%AE%E5%85%A5%E3%82%8C%E5%AD%90)
    - [辞書](#%E8%BE%9E%E6%9B%B8)
        - [辞書が空か検査](#%E8%BE%9E%E6%9B%B8%E3%81%8C%E7%A9%BA%E3%81%8B%E6%A4%9C%E6%9F%BB)
        - [辞書を生成](#%E8%BE%9E%E6%9B%B8%E3%82%92%E7%94%9F%E6%88%90)
            - [空の辞書を生成](#%E7%A9%BA%E3%81%AE%E8%BE%9E%E6%9B%B8%E3%82%92%E7%94%9F%E6%88%90)
            - [初期値を指定して生成](#%E5%88%9D%E6%9C%9F%E5%80%A4%E3%82%92%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%A6%E7%94%9F%E6%88%90)
            - [辞書をコピーして生成](#%E8%BE%9E%E6%9B%B8%E3%82%92%E3%82%B3%E3%83%94%E3%83%BC%E3%81%97%E3%81%A6%E7%94%9F%E6%88%90)
                - [辞書を代入した場合](#%E8%BE%9E%E6%9B%B8%E3%82%92%E4%BB%A3%E5%85%A5%E3%81%97%E3%81%9F%E5%A0%B4%E5%90%88)
            - [リスト・タプルから生成](#%E3%83%AA%E3%82%B9%E3%83%88%E3%83%BB%E3%82%BF%E3%83%97%E3%83%AB%E3%81%8B%E3%82%89%E7%94%9F%E6%88%90)
                - [リストから生成](#%E3%83%AA%E3%82%B9%E3%83%88%E3%81%8B%E3%82%89%E7%94%9F%E6%88%90)
                    - [連番とリストの要素から生成](#%E9%80%A3%E7%95%AA%E3%81%A8%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%81%8B%E3%82%89%E7%94%9F%E6%88%90)
                - [リストのリストから生成](#%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88%E3%81%8B%E3%82%89%E7%94%9F%E6%88%90)
                - [つのリストから生成](#%E3%81%A4%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88%E3%81%8B%E3%82%89%E7%94%9F%E6%88%90)
                    - [要素数の少ないリストに合わせる](#%E8%A6%81%E7%B4%A0%E6%95%B0%E3%81%AE%E5%B0%91%E3%81%AA%E3%81%84%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AB%E5%90%88%E3%82%8F%E3%81%9B%E3%82%8B)
                    - [要素数の多いリストに合わせる](#%E8%A6%81%E7%B4%A0%E6%95%B0%E3%81%AE%E5%A4%9A%E3%81%84%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AB%E5%90%88%E3%82%8F%E3%81%9B%E3%82%8B)
                    - [条件に合致する要素のみからなる辞書を生成抽出](#%E6%9D%A1%E4%BB%B6%E3%81%AB%E5%90%88%E8%87%B4%E3%81%99%E3%82%8B%E8%A6%81%E7%B4%A0%E3%81%AE%E3%81%BF%E3%81%8B%E3%82%89%E3%81%AA%E3%82%8B%E8%BE%9E%E6%9B%B8%E3%82%92%E7%94%9F%E6%88%90%E6%8A%BD%E5%87%BA)
                - [リストのタプルから生成](#%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E3%82%BF%E3%83%97%E3%83%AB%E3%81%8B%E3%82%89%E7%94%9F%E6%88%90)
                - [タプルのリストから生成](#%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88%E3%81%8B%E3%82%89%E7%94%9F%E6%88%90)
                - [文字列のリストから生成](#%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88%E3%81%8B%E3%82%89%E7%94%9F%E6%88%90)
                - [文字列のタプルから生成](#%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E3%82%BF%E3%83%97%E3%83%AB%E3%81%8B%E3%82%89%E7%94%9F%E6%88%90)
        - [辞書に要素を追加](#%E8%BE%9E%E6%9B%B8%E3%81%AB%E8%A6%81%E7%B4%A0%E3%82%92%E8%BF%BD%E5%8A%A0)
            - [キーを指定して要素を追加](#%E3%82%AD%E3%83%BC%E3%82%92%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%A6%E8%A6%81%E7%B4%A0%E3%82%92%E8%BF%BD%E5%8A%A0)
            - [辞書を連結結合](#%E8%BE%9E%E6%9B%B8%E3%82%92%E9%80%A3%E7%B5%90%E7%B5%90%E5%90%88)
            - [既存のキーと重複する場合に上書きせずにカンマ区切りで追加](#%E6%97%A2%E5%AD%98%E3%81%AE%E3%82%AD%E3%83%BC%E3%81%A8%E9%87%8D%E8%A4%87%E3%81%99%E3%82%8B%E5%A0%B4%E5%90%88%E3%81%AB%E4%B8%8A%E6%9B%B8%E3%81%8D%E3%81%9B%E3%81%9A%E3%81%AB%E3%82%AB%E3%83%B3%E3%83%9E%E5%8C%BA%E5%88%87%E3%82%8A%E3%81%A7%E8%BF%BD%E5%8A%A0)
        - [辞書の要素を参照](#%E8%BE%9E%E6%9B%B8%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E5%8F%82%E7%85%A7)
            - [存在しないキーを指定した場合](#%E5%AD%98%E5%9C%A8%E3%81%97%E3%81%AA%E3%81%84%E3%82%AD%E3%83%BC%E3%82%92%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%9F%E5%A0%B4%E5%90%88)
            - [辞書の要素の存在チェック](#%E8%BE%9E%E6%9B%B8%E3%81%AE%E8%A6%81%E7%B4%A0%E3%81%AE%E5%AD%98%E5%9C%A8%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF)
            - [指定した値を持つキーを取得する](#%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%9F%E5%80%A4%E3%82%92%E6%8C%81%E3%81%A4%E3%82%AD%E3%83%BC%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B)
            - [最大値・最小値（辞書）](#%E6%9C%80%E5%A4%A7%E5%80%A4%E3%83%BB%E6%9C%80%E5%B0%8F%E5%80%A4%E8%BE%9E%E6%9B%B8)
                - [キーの最大値／最小値を返す](#%E3%82%AD%E3%83%BC%E3%81%AE%E6%9C%80%E5%A4%A7%E5%80%A4%EF%BC%8F%E6%9C%80%E5%B0%8F%E5%80%A4%E3%82%92%E8%BF%94%E3%81%99)
                - [値の最大値／最小値を取得する](#%E5%80%A4%E3%81%AE%E6%9C%80%E5%A4%A7%E5%80%A4%EF%BC%8F%E6%9C%80%E5%B0%8F%E5%80%A4%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B)
                - [値が最大／最小の要素を取得する](#%E5%80%A4%E3%81%8C%E6%9C%80%E5%A4%A7%EF%BC%8F%E6%9C%80%E5%B0%8F%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B)
                - [値が最大／最小の要素のキーを取得する](#%E5%80%A4%E3%81%8C%E6%9C%80%E5%A4%A7%EF%BC%8F%E6%9C%80%E5%B0%8F%E3%81%AE%E8%A6%81%E7%B4%A0%E3%81%AE%E3%82%AD%E3%83%BC%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B)
        - [辞書の要素を除去](#%E8%BE%9E%E6%9B%B8%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E9%99%A4%E5%8E%BB)
        - [辞書の反復処理キー・値・インデックスを取得](#%E8%BE%9E%E6%9B%B8%E3%81%AE%E5%8F%8D%E5%BE%A9%E5%87%A6%E7%90%86%E3%82%AD%E3%83%BC%E3%83%BB%E5%80%A4%E3%83%BB%E3%82%A4%E3%83%B3%E3%83%87%E3%83%83%E3%82%AF%E3%82%B9%E3%82%92%E5%8F%96%E5%BE%97)
            - [複数の辞書を同時に繰り返す](#%E8%A4%87%E6%95%B0%E3%81%AE%E8%BE%9E%E6%9B%B8%E3%82%92%E5%90%8C%E6%99%82%E3%81%AB%E7%B9%B0%E3%82%8A%E8%BF%94%E3%81%99)
            - [タプルの要素を連結した文字列を取得](#%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E9%80%A3%E7%B5%90%E3%81%97%E3%81%9F%E6%96%87%E5%AD%97%E5%88%97%E3%82%92%E5%8F%96%E5%BE%97)
            - [辞書のキーと値を交換する](#%E8%BE%9E%E6%9B%B8%E3%81%AE%E3%82%AD%E3%83%BC%E3%81%A8%E5%80%A4%E3%82%92%E4%BA%A4%E6%8F%9B%E3%81%99%E3%82%8B)
        - [辞書をソート](#%E8%BE%9E%E6%9B%B8%E3%82%92%E3%82%BD%E3%83%BC%E3%83%88)
            - [辞書のキーでソート](#%E8%BE%9E%E6%9B%B8%E3%81%AE%E3%82%AD%E3%83%BC%E3%81%A7%E3%82%BD%E3%83%BC%E3%83%88)
            - [辞書の値でソート](#%E8%BE%9E%E6%9B%B8%E3%81%AE%E5%80%A4%E3%81%A7%E3%82%BD%E3%83%BC%E3%83%88)
        - [辞書の内包表記](#%E8%BE%9E%E6%9B%B8%E3%81%AE%E5%86%85%E5%8C%85%E8%A1%A8%E8%A8%98)
            - [文字の出現頻度を調べる](#%E6%96%87%E5%AD%97%E3%81%AE%E5%87%BA%E7%8F%BE%E9%A0%BB%E5%BA%A6%E3%82%92%E8%AA%BF%E3%81%B9%E3%82%8B)
            - [頭文字と単語のリストを辞書にまとめる](#%E9%A0%AD%E6%96%87%E5%AD%97%E3%81%A8%E5%8D%98%E8%AA%9E%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E8%BE%9E%E6%9B%B8%E3%81%AB%E3%81%BE%E3%81%A8%E3%82%81%E3%82%8B)
    - [順序つき辞書OrderedDict](#%E9%A0%86%E5%BA%8F%E3%81%A4%E3%81%8D%E8%BE%9E%E6%9B%B8ordereddict)
    - [タプル](#%E3%82%BF%E3%83%97%E3%83%AB)
        - [タプルが空か検査](#%E3%82%BF%E3%83%97%E3%83%AB%E3%81%8C%E7%A9%BA%E3%81%8B%E6%A4%9C%E6%9F%BB)
        - [タプルを生成](#%E3%82%BF%E3%83%97%E3%83%AB%E3%82%92%E7%94%9F%E6%88%90)
            - [空のタプルを生成](#%E7%A9%BA%E3%81%AE%E3%82%BF%E3%83%97%E3%83%AB%E3%82%92%E7%94%9F%E6%88%90)
            - [初期値を指定して生成](#%E5%88%9D%E6%9C%9F%E5%80%A4%E3%82%92%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%A6%E7%94%9F%E6%88%90)
            - [タプルをコピーして生成](#%E3%82%BF%E3%83%97%E3%83%AB%E3%82%92%E3%82%B3%E3%83%94%E3%83%BC%E3%81%97%E3%81%A6%E7%94%9F%E6%88%90)
            - [タプルに要素を追加した新しいタプルを生成](#%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AB%E8%A6%81%E7%B4%A0%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%97%E3%81%9F%E6%96%B0%E3%81%97%E3%81%84%E3%82%BF%E3%83%97%E3%83%AB%E3%82%92%E7%94%9F%E6%88%90)
            - [リストから生成](#%E3%83%AA%E3%82%B9%E3%83%88%E3%81%8B%E3%82%89%E7%94%9F%E6%88%90)
        - [タプルの要素を参照](#%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E5%8F%82%E7%85%A7)
            - [タプルの要素からインデックス番号を取得](#%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E8%A6%81%E7%B4%A0%E3%81%8B%E3%82%89%E3%82%A4%E3%83%B3%E3%83%87%E3%83%83%E3%82%AF%E3%82%B9%E7%95%AA%E5%8F%B7%E3%82%92%E5%8F%96%E5%BE%97)
            - [タプルの要素の存在チェック](#%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E8%A6%81%E7%B4%A0%E3%81%AE%E5%AD%98%E5%9C%A8%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF)
        - [タプルの要素を削除](#%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E5%89%8A%E9%99%A4)
        - [タプルの反復処理インデックスを取得](#%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E5%8F%8D%E5%BE%A9%E5%87%A6%E7%90%86%E3%82%A4%E3%83%B3%E3%83%87%E3%83%83%E3%82%AF%E3%82%B9%E3%82%92%E5%8F%96%E5%BE%97)
            - [複数のタプルを同時に繰り返す](#%E8%A4%87%E6%95%B0%E3%81%AE%E3%82%BF%E3%83%97%E3%83%AB%E3%82%92%E5%90%8C%E6%99%82%E3%81%AB%E7%B9%B0%E3%82%8A%E8%BF%94%E3%81%99)
            - [多重タプル](#%E5%A4%9A%E9%87%8D%E3%82%BF%E3%83%97%E3%83%AB)
                - [平坦化flatten](#%E5%B9%B3%E5%9D%A6%E5%8C%96flatten)
                    - [重タプルを平坦化flatten](#%E9%87%8D%E3%82%BF%E3%83%97%E3%83%AB%E3%82%92%E5%B9%B3%E5%9D%A6%E5%8C%96flatten)
                    - [多重タプルを平坦化flatten](#%E5%A4%9A%E9%87%8D%E3%82%BF%E3%83%97%E3%83%AB%E3%82%92%E5%B9%B3%E5%9D%A6%E5%8C%96flatten)
            - [タプルの要素を連結した文字列を取得](#%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E9%80%A3%E7%B5%90%E3%81%97%E3%81%9F%E6%96%87%E5%AD%97%E5%88%97%E3%82%92%E5%8F%96%E5%BE%97)
        - [シーケンス・アンパッキング](#%E3%82%B7%E3%83%BC%E3%82%B1%E3%83%B3%E3%82%B9%E3%83%BB%E3%82%A2%E3%83%B3%E3%83%91%E3%83%83%E3%82%AD%E3%83%B3%E3%82%B0)
        - [タプルをソート](#%E3%82%BF%E3%83%97%E3%83%AB%E3%82%92%E3%82%BD%E3%83%BC%E3%83%88)
        - [タプルのランダム処理](#%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E5%87%A6%E7%90%86)
            - [タプルから要素を 1 個ランダムに取り出す](#%E3%82%BF%E3%83%97%E3%83%AB%E3%81%8B%E3%82%89%E8%A6%81%E7%B4%A0%E3%82%92-1-%E5%80%8B%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%81%AB%E5%8F%96%E3%82%8A%E5%87%BA%E3%81%99)
            - [タプルから要素を複数個ランダムに取り出す重複あり](#%E3%82%BF%E3%83%97%E3%83%AB%E3%81%8B%E3%82%89%E8%A6%81%E7%B4%A0%E3%82%92%E8%A4%87%E6%95%B0%E5%80%8B%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%81%AB%E5%8F%96%E3%82%8A%E5%87%BA%E3%81%99%E9%87%8D%E8%A4%87%E3%81%82%E3%82%8A)
            - [タプルから要素を複数個ランダムに取り出す重複なし](#%E3%82%BF%E3%83%97%E3%83%AB%E3%81%8B%E3%82%89%E8%A6%81%E7%B4%A0%E3%82%92%E8%A4%87%E6%95%B0%E5%80%8B%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%81%AB%E5%8F%96%E3%82%8A%E5%87%BA%E3%81%99%E9%87%8D%E8%A4%87%E3%81%AA%E3%81%97)
            - [タプルの要素をランダムソートシャッフルする](#%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%82%BD%E3%83%BC%E3%83%88%E3%82%B7%E3%83%A3%E3%83%83%E3%83%95%E3%83%AB%E3%81%99%E3%82%8B)
        - [タプルの内包表記](#%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E5%86%85%E5%8C%85%E8%A1%A8%E8%A8%98)
    - [セット](#%E3%82%BB%E3%83%83%E3%83%88)
        - [セットが空か判定](#%E3%82%BB%E3%83%83%E3%83%88%E3%81%8C%E7%A9%BA%E3%81%8B%E5%88%A4%E5%AE%9A)
        - [セットを生成](#%E3%82%BB%E3%83%83%E3%83%88%E3%82%92%E7%94%9F%E6%88%90)
            - [空のセットを生成](#%E7%A9%BA%E3%81%AE%E3%82%BB%E3%83%83%E3%83%88%E3%82%92%E7%94%9F%E6%88%90)
            - [初期値を指定して生成](#%E5%88%9D%E6%9C%9F%E5%80%A4%E3%82%92%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%A6%E7%94%9F%E6%88%90)
            - [リストから生成](#%E3%83%AA%E3%82%B9%E3%83%88%E3%81%8B%E3%82%89%E7%94%9F%E6%88%90)
        - [辞書に要素を追加](#%E8%BE%9E%E6%9B%B8%E3%81%AB%E8%A6%81%E7%B4%A0%E3%82%92%E8%BF%BD%E5%8A%A0)
        - [セットの要素を参照](#%E3%82%BB%E3%83%83%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E5%8F%82%E7%85%A7)
            - [セットの要素の存在チェック](#%E3%82%BB%E3%83%83%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%81%AE%E5%AD%98%E5%9C%A8%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF)
        - [セットの演算](#%E3%82%BB%E3%83%83%E3%83%88%E3%81%AE%E6%BC%94%E7%AE%97)
        - [frozenset](#frozenset)
    - [列挙型](#%E5%88%97%E6%8C%99%E5%9E%8B)
- [制御構文](#%E5%88%B6%E5%BE%A1%E6%A7%8B%E6%96%87)
    - [条件分岐](#%E6%9D%A1%E4%BB%B6%E5%88%86%E5%B2%90)
        - [if](#if)
        - [条件演算子三項演算子](#%E6%9D%A1%E4%BB%B6%E6%BC%94%E7%AE%97%E5%AD%90%E4%B8%89%E9%A0%85%E6%BC%94%E7%AE%97%E5%AD%90)
    - [繰り返し](#%E7%B9%B0%E3%82%8A%E8%BF%94%E3%81%97)
        - [for](#for)
            - [for 文の else 節（ for-else ）](#for-%E6%96%87%E3%81%AE-else-%E7%AF%80-for-else-)
            - [途中でループから脱出break](#%E9%80%94%E4%B8%AD%E3%81%A7%E3%83%AB%E3%83%BC%E3%83%97%E3%81%8B%E3%82%89%E8%84%B1%E5%87%BAbreak)
            - [スキップするcontinue](#%E3%82%B9%E3%82%AD%E3%83%83%E3%83%97%E3%81%99%E3%82%8Bcontinue)
            - [ループ回数を与える場合](#%E3%83%AB%E3%83%BC%E3%83%97%E5%9B%9E%E6%95%B0%E3%82%92%E4%B8%8E%E3%81%88%E3%82%8B%E5%A0%B4%E5%90%88)
            - [文字列型を与える場合](#%E6%96%87%E5%AD%97%E5%88%97%E5%9E%8B%E3%82%92%E4%B8%8E%E3%81%88%E3%82%8B%E5%A0%B4%E5%90%88)
            - [ファイルオブジェクトを場合](#%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%92%E5%A0%B4%E5%90%88)
            - [複数リストの直積を取得](#%E8%A4%87%E6%95%B0%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E7%9B%B4%E7%A9%8D%E3%82%92%E5%8F%96%E5%BE%97)
        - [while](#while)
    - [例外処理](#%E4%BE%8B%E5%A4%96%E5%87%A6%E7%90%86)
    - [try](#try)
        - [例外を発生させる](#%E4%BE%8B%E5%A4%96%E3%82%92%E7%99%BA%E7%94%9F%E3%81%95%E3%81%9B%E3%82%8B)
        - [assertアサーション](#assert%E3%82%A2%E3%82%B5%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3)
    - [評価](#%E8%A9%95%E4%BE%A1)
        - [eval](#eval)
        - [exec](#exec)
            - [グローバル名前空間の参照・変更を制限](#%E3%82%B0%E3%83%AD%E3%83%BC%E3%83%90%E3%83%AB%E5%90%8D%E5%89%8D%E7%A9%BA%E9%96%93%E3%81%AE%E5%8F%82%E7%85%A7%E3%83%BB%E5%A4%89%E6%9B%B4%E3%82%92%E5%88%B6%E9%99%90)
    - [del](#del)
    - [exit](#exit)
    - [pass](#pass)
    - [with](#with)
        - [複数の with をまとめる](#%E8%A4%87%E6%95%B0%E3%81%AE-with-%E3%82%92%E3%81%BE%E3%81%A8%E3%82%81%E3%82%8B)
- [関数](#%E9%96%A2%E6%95%B0)
    - [引数なし](#%E5%BC%95%E6%95%B0%E3%81%AA%E3%81%97)
    - [引数あり](#%E5%BC%95%E6%95%B0%E3%81%82%E3%82%8A)
    - [既定値を持つ引数あり](#%E6%97%A2%E5%AE%9A%E5%80%A4%E3%82%92%E6%8C%81%E3%81%A4%E5%BC%95%E6%95%B0%E3%81%82%E3%82%8A)
    - [戻り値あり](#%E6%88%BB%E3%82%8A%E5%80%A4%E3%81%82%E3%82%8A)
    - [docstring あり](#docstring-%E3%81%82%E3%82%8A)
    - [引数のアンパック](#%E5%BC%95%E6%95%B0%E3%81%AE%E3%82%A2%E3%83%B3%E3%83%91%E3%83%83%E3%82%AF)
    - [リストやタプルを受け取る](#%E3%83%AA%E3%82%B9%E3%83%88%E3%82%84%E3%82%BF%E3%83%97%E3%83%AB%E3%82%92%E5%8F%97%E3%81%91%E5%8F%96%E3%82%8B)
    - [辞書を受け取る](#%E8%BE%9E%E6%9B%B8%E3%82%92%E5%8F%97%E3%81%91%E5%8F%96%E3%82%8B)
    - [関数オブジェクト](#%E9%96%A2%E6%95%B0%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88)
        - [関数を変数に代入](#%E9%96%A2%E6%95%B0%E3%82%92%E5%A4%89%E6%95%B0%E3%81%AB%E4%BB%A3%E5%85%A5)
- [I/O](#io)
    - [コマンドライン引数](#%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%83%A9%E3%82%A4%E3%83%B3%E5%BC%95%E6%95%B0)
    - [標準入力](#%E6%A8%99%E6%BA%96%E5%85%A5%E5%8A%9B)
        - [無限ループをキー入力で抜ける](#%E7%84%A1%E9%99%90%E3%83%AB%E3%83%BC%E3%83%97%E3%82%92%E3%82%AD%E3%83%BC%E5%85%A5%E5%8A%9B%E3%81%A7%E6%8A%9C%E3%81%91%E3%82%8B)
        - [入力フォーマット別標準入力結果の抽出方法](#%E5%85%A5%E5%8A%9B%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%83%E3%83%88%E5%88%A5%E6%A8%99%E6%BA%96%E5%85%A5%E5%8A%9B%E7%B5%90%E6%9E%9C%E3%81%AE%E6%8A%BD%E5%87%BA%E6%96%B9%E6%B3%95)
            - [sys.stdin.readline](#sysstdinreadline)
            - [行 1 列](#%E8%A1%8C-1-%E5%88%97)
            - [行 2 列](#%E8%A1%8C-2-%E5%88%97)
            - [行 n 列](#%E8%A1%8C-n-%E5%88%97)
            - [n 行 1 列](#n-%E8%A1%8C-1-%E5%88%97)
            - [n 行 2 列](#n-%E8%A1%8C-2-%E5%88%97)
            - [n 行 m 列（列ごとのリスト）](#n-%E8%A1%8C-m-%E5%88%97%E5%88%97%E3%81%94%E3%81%A8%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88)
            - [n 行 m 列（2 次元配列）](#n-%E8%A1%8C-m-%E5%88%972-%E6%AC%A1%E5%85%83%E9%85%8D%E5%88%97)
    - [標準出力](#%E6%A8%99%E6%BA%96%E5%87%BA%E5%8A%9B)
        - [追記（／改行して追記）ではなく、直前の内容を上書き更新しながら出力](#%E8%BF%BD%E8%A8%98%EF%BC%8F%E6%94%B9%E8%A1%8C%E3%81%97%E3%81%A6%E8%BF%BD%E8%A8%98%E3%81%A7%E3%81%AF%E3%81%AA%E3%81%8F%E7%9B%B4%E5%89%8D%E3%81%AE%E5%86%85%E5%AE%B9%E3%82%92%E4%B8%8A%E6%9B%B8%E3%81%8D%E6%9B%B4%E6%96%B0%E3%81%97%E3%81%AA%E3%81%8C%E3%82%89%E5%87%BA%E5%8A%9B)
        - [末尾に改行文字をつけずに出力する](#%E6%9C%AB%E5%B0%BE%E3%81%AB%E6%94%B9%E8%A1%8C%E6%96%87%E5%AD%97%E3%82%92%E3%81%A4%E3%81%91%E3%81%9A%E3%81%AB%E5%87%BA%E5%8A%9B%E3%81%99%E3%82%8B)
        - [pprintでデータ出力の整然化](#pprint%E3%81%A7%E3%83%87%E3%83%BC%E3%82%BF%E5%87%BA%E5%8A%9B%E3%81%AE%E6%95%B4%E7%84%B6%E5%8C%96)
        - [標準出力の内容をファイルに書き出す](#%E6%A8%99%E6%BA%96%E5%87%BA%E5%8A%9B%E3%81%AE%E5%86%85%E5%AE%B9%E3%82%92%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AB%E6%9B%B8%E3%81%8D%E5%87%BA%E3%81%99)
            - [stdout](#stdout)
            - [print](#print)
        - [プログレスバーを表示](#%E3%83%97%E3%83%AD%E3%82%B0%E3%83%AC%E3%82%B9%E3%83%90%E3%83%BC%E3%82%92%E8%A1%A8%E7%A4%BA)
            - [イテラブルなオブジェクトを指定](#%E3%82%A4%E3%83%86%E3%83%A9%E3%83%96%E3%83%AB%E3%81%AA%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%92%E6%8C%87%E5%AE%9A)
            - [全量と割合を指定](#%E5%85%A8%E9%87%8F%E3%81%A8%E5%89%B2%E5%90%88%E3%82%92%E6%8C%87%E5%AE%9A)
    - [環境変数](#%E7%92%B0%E5%A2%83%E5%A4%89%E6%95%B0)
        - [環境変数の読み出し](#%E7%92%B0%E5%A2%83%E5%A4%89%E6%95%B0%E3%81%AE%E8%AA%AD%E3%81%BF%E5%87%BA%E3%81%97)
            - [一覧の取得](#%E4%B8%80%E8%A6%A7%E3%81%AE%E5%8F%96%E5%BE%97)
            - [環境変数の存在チェック](#%E7%92%B0%E5%A2%83%E5%A4%89%E6%95%B0%E3%81%AE%E5%AD%98%E5%9C%A8%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF)
            - [キーを指定して値を取得](#%E3%82%AD%E3%83%BC%E3%82%92%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%A6%E5%80%A4%E3%82%92%E5%8F%96%E5%BE%97)
        - [環境変数の書き込み](#%E7%92%B0%E5%A2%83%E5%A4%89%E6%95%B0%E3%81%AE%E6%9B%B8%E3%81%8D%E8%BE%BC%E3%81%BF)

<!-- /TOC -->

# おまじない
<a id="markdown-%E3%81%8A%E3%81%BE%E3%81%98%E3%81%AA%E3%81%84" name="%E3%81%8A%E3%81%BE%E3%81%98%E3%81%AA%E3%81%84"></a>


## shebang
<a id="markdown-shebang" name="shebang"></a>

```py
#!/usr/bin/env python
# -*- coding: utf-8 -*-

# #から行末まではコメント
# 1行目または2行目のコメントで、正規表現coding[=:]\s*([-\w.]+)にマッチする場合はエンコーディング宣言として扱われる
```


## Python バージョン
<a id="markdown-python-%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3" name="python-%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3"></a>

スクリプト内から確認する場合

```py
import platform
python_version = int(platform.python_version_tuple()[0])
```

ターミナルから確認する場合

```ps
$ python --version
```


# 文法
<a id="markdown-%E6%96%87%E6%B3%95" name="%E6%96%87%E6%B3%95"></a>


## 命名規則
<a id="markdown-%E5%91%BD%E5%90%8D%E8%A6%8F%E5%89%87" name="%E5%91%BD%E5%90%8D%E8%A6%8F%E5%89%87"></a>

| 項目                 | 文字種       | 区切り文字     |
| -------------------- | ------------ | -------------- |
| パッケージ           | 英数小文字   | -              |
| モジュール           | 英数小文字   | アンダースコア |
| クラス, 例外, 型変数 | 英数大小文字 | 大文字         |
| メソッド, 関数,変数  | 英数小文字   | アンダースコア |
| 定数                 | 英数大文字   | アンダースコア |


## 予約語
<a id="markdown-%E4%BA%88%E7%B4%84%E8%AA%9E" name="%E4%BA%88%E7%B4%84%E8%AA%9E"></a>

キーワードの一覧を確認する

```py
import keyword

print(len(keyword.kwlist))
print(keyword.kwlist)
```

> 35
>
> ['False', 'None', 'True', 'and', 'as', 'assert', 'async', 'await', 'break', 'class', 'continue', 'def', 'del', 'elif', 'else', 'except', 'finally', 'for', 'from', 'global', 'if', 'import', 'in', 'is', 'lambda', 'nonlocal', 'not', 'or', 'pass', 'raise', 'return', 'try', 'while', 'with', 'yield']

ある文字列がキーワードか判定する

```py
import keyword

target = keyword.kwlist[0]
print(keyword.iskeyword(target))
```

> True


## 演算子
<a id="markdown-%E6%BC%94%E7%AE%97%E5%AD%90" name="%E6%BC%94%E7%AE%97%E5%AD%90"></a>


### 演算子の優先順位
<a id="markdown-%E6%BC%94%E7%AE%97%E5%AD%90%E3%81%AE%E5%84%AA%E5%85%88%E9%A0%86%E4%BD%8D" name="%E6%BC%94%E7%AE%97%E5%AD%90%E3%81%AE%E5%84%AA%E5%85%88%E9%A0%86%E4%BD%8D"></a>

https://docs.python.org/ja/3/reference/expressions.html#operator-precedence

| 演算子                                       | 意味                                           |
| -------------------------------------------- | ---------------------------------------------- |
| (1), [1], {1:1}, {1}                         | 式結合／タプル、リスト、辞書、集合             |
| l[1], l[1,2], f(arg), c.attribute            | 添え字指定、スライス、関数呼び出し、属性参照   |
| await                                        | Await 式                                       |
| \*\*                                         | べき乗                                         |
| +x, -x, ~x                                   | 数、負数、ビット単位 NOT                       |
| \*, /, //, %                                 | 乗算、除算、整除除算、剰余／文字列フォーマット |
| +, -                                         | 加算、減算                                     |
| <<, >>                                       | シフト演算                                     |
| &                                            | ビット単位 AND                                 |
| ^                                            | ビット単位 XOR                                 |
|                                              |                                                | ビット単位 OR |
| in, not in, is, is not, <, <=, >, >=, !=, == | 比較                                           |
| not x                                        | NOT                                            |
| and                                          | AND                                            |
| or                                           | OR                                             |
| if -- else                                   | 条件式(三項演算子)                             |
| lambda                                       | ラムダ式                                       |
| :=                                           | 代入式（セイウチ演算子）                       |


### 条件式(三項演算子)
<a id="markdown-%E6%9D%A1%E4%BB%B6%E5%BC%8F%E4%B8%89%E9%A0%85%E6%BC%94%E7%AE%97%E5%AD%90" name="%E6%9D%A1%E4%BB%B6%E5%BC%8F%E4%B8%89%E9%A0%85%E6%BC%94%E7%AE%97%E5%AD%90"></a>

```py
t = 'True'
f = 'False'
c = t if 1 == 1 else f
```

> 'True'


### 比較演算子
<a id="markdown-%E6%AF%94%E8%BC%83%E6%BC%94%E7%AE%97%E5%AD%90" name="%E6%AF%94%E8%BC%83%E6%BC%94%E7%AE%97%E5%AD%90"></a>


#### Null 判定
<a id="markdown-null-%E5%88%A4%E5%AE%9A" name="null-%E5%88%A4%E5%AE%9A"></a>


##### None との比較
<a id="markdown-none-%E3%81%A8%E3%81%AE%E6%AF%94%E8%BC%83" name="none-%E3%81%A8%E3%81%AE%E6%AF%94%E8%BC%83"></a>

```py
x = None

if x is None: # Nullチェック
    print('None')

if x is not None: # Nullチェック
    print('Not None')
```

> None


##### isNullOrEmpty
<a id="markdown-isnullorempty" name="isnullorempty"></a>

C#の String.IsNullOrEmpty メソッドと同様の処理を行う

```py
def isNullOrEmpty(s): # string.isNullOrEmpty()
    if s is None or s == '':
        return True
    else:
        return False

isNullOrEmpty(None)
isNullOrEmpty('')
isNullOrEmpty('a')
```

> True
>
> True
>
> False


#### 同一(is)と同値(==)
<a id="markdown-%E5%90%8C%E4%B8%80is%E3%81%A8%E5%90%8C%E5%80%A4%3D%3D" name="%E5%90%8C%E4%B8%80is%E3%81%A8%E5%90%8C%E5%80%A4%3D%3D"></a>

- 整数同士の比較

| 演算子 | `x = 1234567890` と `x` | `x` と `y = 1234567890` | `x` と `z = 12345678901` |
| ------ | ----------------------- | ----------------------- | ------------------------ |
| `==`   | `True`                  | `True`                  | `True`                   |
| `is`   | `True`                  | `False`                 | `False`                  |

- 文字列同士の比較

| 演算子 | `x = '1234567890'` と `x` | `x` と `y = '1234567890'` | `x` と `z = '12345678901'` |
| ------ | ------------------------- | ------------------------- | -------------------------- |
| `==`   | `True`                    | `True`                    | `True`                     |
| `is`   | `True`                    | `True`                    | `False`                    |

同一(`is`)比較で、オブジェクトが同一でなくても True が返る場合もある

```py
x = '1234567890'
print(len(x) is 10) # 同一
print(len(x) == 10) # 同値
```

> True
>
> True


#### 複数条件
<a id="markdown-%E8%A4%87%E6%95%B0%E6%9D%A1%E4%BB%B6" name="%E8%A4%87%E6%95%B0%E6%9D%A1%E4%BB%B6"></a>

複数の比較を連続して書く（チェーン）ことが可能

```py
a = 2
1 < a and a < 5
1 < a < 5
```

> True
>
> True

```py
content = 'foobarhogepiyo'

# if 'foo' in s and 'bar' in s:
if all(map(content.__contains__, ('foo', 'bar'))):
    print('found')

# if 'foo' in s or 'hoge' in s:
if any(map(content.__contains__, ('foo', 'hoge'))):
    print('found')
```

> found
>
> found


## オブジェクト
<a id="markdown-%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88" name="%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88"></a>

### オブジェクトの識別値
<a id="markdown-%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E8%AD%98%E5%88%A5%E5%80%A4" name="%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E8%AD%98%E5%88%A5%E5%80%A4"></a>

```py
print(id(123))
print(id('foobar'))
print(id([1, 2, 3]))
```

> 140737159276000
>
> 2334706506928
>
> 2334706338880


## 変数
<a id="markdown-%E5%A4%89%E6%95%B0" name="%E5%A4%89%E6%95%B0"></a>

```py
# 変数に値を代入
name = 'Suzuki'
print(name)

# 異なる型の値を代入
name = 3
print(name)

# 変数の削除
del name

print(name)
```

> Suzuki
>
> 3
>
> NameError: name 'name' is not defined


### 多重代入
<a id="markdown-%E5%A4%9A%E9%87%8D%E4%BB%A3%E5%85%A5" name="%E5%A4%9A%E9%87%8D%E4%BB%A3%E5%85%A5"></a>

```py
x = y = z = 2
print(x, y, z)
```


### 代入式（セイウチ演算子、ウォルラス演算子）
<a id="markdown-%E4%BB%A3%E5%85%A5%E5%BC%8F%EF%BC%88%E3%82%BB%E3%82%A4%E3%82%A6%E3%83%81%E6%BC%94%E7%AE%97%E5%AD%90%E3%80%81%E3%82%A6%E3%82%A9%E3%83%AB%E3%83%A9%E3%82%B9%E6%BC%94%E7%AE%97%E5%AD%90%EF%BC%89" name="%E4%BB%A3%E5%85%A5%E5%BC%8F%EF%BC%88%E3%82%BB%E3%82%A4%E3%82%A6%E3%83%81%E6%BC%94%E7%AE%97%E5%AD%90%E3%80%81%E3%82%A6%E3%82%A9%E3%83%AB%E3%83%A9%E3%82%B9%E6%BC%94%E7%AE%97%E5%AD%90%EF%BC%89"></a>

右辺の値を左辺の変数に代入しつつ、式全体の値として返す

```py
x = "abc"

if n := len(x):
    # 非0
    print(n)

if (n := len(x)) > 2:
    print(n)
```

> 3


### 変数のスコープ
<a id="markdown-%E5%A4%89%E6%95%B0%E3%81%AE%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%97" name="%E5%A4%89%E6%95%B0%E3%81%AE%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%97"></a>

| スコープ                         | 特徴                       | 備考                                                     |
| -------------------------------- | -------------------------- | -------------------------------------------------------- |
| ローカルスコープ                 | 関数内で定義               |                                                          |
| エンクロージングローカルスコープ | def や lambda で定義       |                                                          |
| グローバルスコープ               | モジュール内で定義         | 関数内でグローバル変数に書き込む場合は `global` 文を使用 |
| ビルトインスコープ               | 組み込み関数や組み込み変数 |                                                          |

名前が衝突しないか調べるには以下の関数を使用する

```py
'VAR_NAME' in globals()
'VAR_NAME' in locals()
```


## 組み込み定数
<a id="markdown-%E7%B5%84%E3%81%BF%E8%BE%BC%E3%81%BF%E5%AE%9A%E6%95%B0" name="%E7%B5%84%E3%81%BF%E8%BE%BC%E3%81%BF%E5%AE%9A%E6%95%B0"></a>

`None` 、 `False` 、 `True` 、 `__debug__` には再代入できない

### False
<a id="markdown-false" name="false"></a>

bool 型の偽値

### True
<a id="markdown-true" name="true"></a>

bool 型の真値

### None
<a id="markdown-none" name="none"></a>

型 NoneType の唯一の値

### NotImplemented
<a id="markdown-notimplemented" name="notimplemented"></a>

特殊な二項演算のメソッド（例: `__eq__()` , `__lt__()` , `__add__()` , `__rsub__()` など）が、他の型に対して演算が実装されていないことを示すために返す

### Ellipsis
<a id="markdown-ellipsis" name="ellipsis"></a>

```py
...

Ellipsis
```

> Ellipsis
>
> Ellipsis

### `__debug__`
<a id="markdown-__debug__" name="__debug__"></a>

Python が -O オプションを有効にして開始されたのでなければ真


# データ型
<a id="markdown-%E3%83%87%E3%83%BC%E3%82%BF%E5%9E%8B" name="%E3%83%87%E3%83%BC%E3%82%BF%E5%9E%8B"></a>


## データ型
<a id="markdown-%E3%83%87%E3%83%BC%E3%82%BF%E5%9E%8B" name="%E3%83%87%E3%83%BC%E3%82%BF%E5%9E%8B"></a>

| 組み込み型       | 変更不可    | 変更可    | 反復可     | シーケンス | マッピング |
| ---------------- | ----------- | --------- | ---------- | ---------- | ---------- |
| (built-in types) | (immutable) | (mutable) | (iterable) | (sequence) | (mapping)  |
|                  |             |           |            |            |            |
| bool             | ○           |           |            |            |            |
| int              | ○           |           |            |            |            |
| float            | ○           |           |            |            |            |
| complex          | ○           |           |            |            |            |
| str              | ○           |           | ○          | ○          |            |
| list             |             | ○         | ○          | ○          |            |
| tuple            | ○           |           | ○          | ○          |            |
| range            | ○           |           | ○          | ○          |            |
| dict             |             | ○         | ○          |            | ○          |
| set              |             | ○         | ○          |            |            |
| bytes            | ○           |           | ○          | ○          |            |
| bytearray        |             | ○         | ○          | ○          |            |
| file object      | ○           |           | ○          |            |            |

```
組み込み型
(built-in types)	変更不可
(immutable)	変更可
(mutable)	反復可
(iterable)	シーケンス
(sequence)	マッピング
(mapping)	データ
(data)
bool	◎					True,False
int	◎					整数
float	◎					浮動小数点数
complex	◎					複素数
str	◎		◎	◎		文字列
list		◎	◎	◎
tuple	◎		◎	◎
range	◎		◎	◎
dict		◎	◎		◎
set		◎	◎
bytes	◎		◎	◎		バイナリ
bytearray		◎	◎	◎
file object	◎		◎
```


### データ型の判定
<a id="markdown-%E3%83%87%E3%83%BC%E3%82%BF%E5%9E%8B%E3%81%AE%E5%88%A4%E5%AE%9A" name="%E3%83%87%E3%83%BC%E3%82%BF%E5%9E%8B%E3%81%AE%E5%88%A4%E5%AE%9A"></a>

type()と isinstance()がある。継承を考慮する必要があるかで使い分ける。
以下の例では、bool は int のサブクラスなので、isinstance で判定すると継承元の型にも True を返す

| 関数                      | 結果    |
| ------------------------- | ------- |
| `type(False) is bool`     | `True`  |
| `type(False) is int`      | `False` |
| `isinstance(False, bool)` | `True`  |
| `isinstance(False, int)`  | `True`  |


### type
<a id="markdown-type" name="type"></a>

| 関数                    | 結果              |
| ----------------------- | ----------------- |
| `type(True)`            | `<class 'bool'>`  |
| ----------------------- | ----------------- |
| `type(1)`               | `<class 'int'>`   |
| `type(1.23)`            | `<class 'float'>` |
| `type(int('1'))`        | `<class 'int'>`   |
| `type(float('1'))`      | `<class 'float'>` |
| `type(float('1.23'))`   | `<class 'float'>` |
| `type(0b11)` 2 進数     | `<class 'int'>`   |
| `type(0o11)` 8 進数     | `<class 'int'>`   |
| `type(0x11)` 16 進数    | `<class 'int'>`   |
| ----------------------- | ----------------- |
| `type('str')`           | `<class 'str'>`   |
| ----------------------- | ----------------- |
| `type({0:0, 1:1, 2:2})` | `<class 'dict'>`  |
| ----------------------- | ----------------- |
| `type([0, 1, 2])`       | `<class 'list'>`  |
| ----------------------- | ----------------- |
| `type({0, 1, 2})`       | `<class 'set'>`   |
| ----------------------- | ----------------- |
| `type((0, 1, 2))`       | `<class 'tuple'>` |

```py
def is_valid_isinstance(v):
    return type(v) in (int, str)

print(is_valid_isinstance(1))
print(is_valid_isinstance('1'))
print(is_valid_isinstance(1.23))
```

> True
>
> True
>
> False


### isinstance
<a id="markdown-isinstance" name="isinstance"></a>

| 関数                                | 結果    |
| ----------------------------------- | ------- |
| `isinstance(True, bool)`            | `True`  |
| ----------------------------------- | ------- |
| `isinstance(1, int)`                | `True`  |
| `isinstance(1.23, int)`             | `False` |
| `isinstance(1, float)`              | `False` |
| `isinstance(1.23, float)`           | `True`  |
| `isinstance(int('1'), int)`         | `True`  |
| `isinstance(float('1'), float)`     | `True`  |
| `isinstance(0b11, int)` 2 進数      | `True`  |
| `isinstance(0o11, int)` 8 進数      | `True`  |
| `isinstance(0x11, int)` 16 進数     | `True`  |
| ----------------------------------- | ------- |
| `isinstance('str', str)`            | `True`  |
| ----------------------------------- | ------- |
| `isinstance({0:0, 1:1, 2:2}, dict)` | `True`  |
| ----------------------------------- | ------- |
| `isinstance([0, 1, 2], list)`       | `True`  |
| ----------------------------------- | ------- |
| `isinstance({0, 1, 2}, set)`        | `True`  |
| ----------------------------------- | ------- |
| `isinstance((0, 1, 2), tuple)`      | `True`  |


## boolean
<a id="markdown-boolean" name="boolean"></a>

- False を返すオブジェクト
- - 偽であると定義されている定数: None と False
- - 数値型におけるゼロ: 0, 0.0, 0j, Decimal(0), Fraction(0, 1)
- - 空のシーケンスまたはコレクション: '', (), [], {}, set(), range(0)

```py
print(True == bool(0.))

from fractions import Fraction
print(True == Fraction(0, 1))
```

> False
>
> False

| `True`                | `False`    |
| --------------------- | ---------- |
| `bool(1)`, `bool(-3)` | `bool(0)`  |
| `bool(.1)`            | `bool(0.)` |
| `bool(1j)`            | `bool(0j)` |
| `bool('a')`           | `bool('')` |
| `bool([0])`           | `bool([])` |
| `bool((0,))`          | `bool(())` |
| `bool({0})`           | `bool({})` |

```py
print(True == 1)
print(False == 0)
print(True + False)
```

> True
>
> True
>
> 1


## int
<a id="markdown-int" name="int"></a>

Python3 では long 型はなくなり、int 型として扱う

```py
# l = 1234567890123456789012345678901234567890123456789012345678901234567890L # Python 2
l = 1234567890123456789012345678901234567890123456789012345678901234567890
```

可読性のために、アンダースコアで桁を区切ることができる

```py
i = 1_000_000_000 # アンダースコアは無視され、int型として扱われる
print(i)
print('{:,}'.format(i)) # 3桁ごとにセミコロンを入れる
```

> 1000000000
>
> 1,000,000,000


### 数値チェック（整数）
<a id="markdown-%E6%95%B0%E5%80%A4%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF%EF%BC%88%E6%95%B4%E6%95%B0%EF%BC%89" name="%E6%95%B0%E5%80%A4%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF%EF%BC%88%E6%95%B4%E6%95%B0%EF%BC%89"></a>


#### 0 との比較（整数）
<a id="markdown-%E3%81%A8%E3%81%AE%E6%AF%94%E8%BC%83%EF%BC%88%E6%95%B4%E6%95%B0%EF%BC%89" name="%E3%81%A8%E3%81%AE%E6%AF%94%E8%BC%83%EF%BC%88%E6%95%B4%E6%95%B0%EF%BC%89"></a>

```py
x = (-1, 0, 1, 2, 3, 4)

# bool(0) => False
# bool(-1), bool(1), bool(2) => True

for item in x:
    # if item != 0: のように、 0 と比較する必要はない
    if item:
        print(item)
```

> -1
>
> 1
>
> 2
>
> 3
>
> 4


#### 整数文字列か判定
<a id="markdown-%E6%95%B4%E6%95%B0%E6%96%87%E5%AD%97%E5%88%97%E3%81%8B%E5%88%A4%E5%AE%9A" name="%E6%95%B4%E6%95%B0%E6%96%87%E5%AD%97%E5%88%97%E3%81%8B%E5%88%A4%E5%AE%9A"></a>

文字列に対して数値チェック(整数)を行う

| `s`            | `s.isnumeric()`の結果 | 備考                                                                |
| -------------- | --------------------- | ------------------------------------------------------------------- |
| `'1'`          | `True`                |                                                                     |
| `'１２３'`     | `True`                | 全角数字文字列                                                      |
| `'一五一十'`   | `True`                | 全角漢数字文字列(`零 一 二 三 四 五 六 七 八 九 十 百 千 万 億 兆`) |
| `'-1.23'`      | `False`               | `-`や小数点が含まれていると `False`                                 |
| `'－１２．３'` | `False`               | `－`や小数点が含まれていると `False`                                |
| `'10,000'`     | `False`               | 桁区切りのカンマが含まれていると `False`                            |


### int 型と文字列型
<a id="markdown-int-%E5%9E%8B%E3%81%A8%E6%96%87%E5%AD%97%E5%88%97%E5%9E%8B" name="int-%E5%9E%8B%E3%81%A8%E6%96%87%E5%AD%97%E5%88%97%E5%9E%8B"></a>


#### int 型のフォーマット
<a id="markdown-int-%E5%9E%8B%E3%81%AE%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%83%E3%83%88" name="int-%E5%9E%8B%E3%81%AE%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%83%E3%83%88"></a>

フォーマットに利用する関数には以下の種類がある

- 組み込み関数`format()`
- `str.format()`
- f 文字列

| 種別           | 書き方                                    | 結果       |
| -------------- | ----------------------------------------- | ---------- |
| `format()`     | `format(255, '06o')`                      | `'000377'` |
| `str.format()` | `'{:06o}'.format(255)`                    | `'000377'` |
| f 文字列       | `f'right : {255:06o}'`                    | `'000377'` |
|                | `strval=255`<br>`f'right : {strval:06o}'` | `'000377'` |

詳細は[書式指定子](#書式指定子)の項を参照


#### 文字列型からのキャスト
<a id="markdown-%E6%96%87%E5%AD%97%E5%88%97%E5%9E%8B%E3%81%8B%E3%82%89%E3%81%AE%E3%82%AD%E3%83%A3%E3%82%B9%E3%83%88" name="%E6%96%87%E5%AD%97%E5%88%97%E5%9E%8B%E3%81%8B%E3%82%89%E3%81%AE%E3%82%AD%E3%83%A3%E3%82%B9%E3%83%88"></a>

| `s`          | `int(s)`の結果                                       | 備考                                                                                   |
| ------------ | ---------------------------------------------------- | -------------------------------------------------------------------------------------- |
| `'1'`        | `1`                                                  |                                                                                        |
| `'1.23'`     | `ValueError: invalid literal for int() with base 10` |                                                                                        |
| `'１２３'`   | `123`                                                |                                                                                        |
| `'一五一十'` | `ValueError: invalid literal for int() with base 10` | 漢数字だけしか含まれていないため `isnumeric`では `True` が返るが、キャストには失敗する |

```py
s = '10,000'
s = s.replace(',', '') # 桁区切りのカンマが含まれていると isnumeric() は False を返し、キャストにも失敗する
if s.isnumeric():
    print('数値文字列')
    i = int(s)  # 文字列型からのキャスト
    print('{}'.format(i))
```


##### 漢数字のキャスト
<a id="markdown-%E6%BC%A2%E6%95%B0%E5%AD%97%E3%81%AE%E3%82%AD%E3%83%A3%E3%82%B9%E3%83%88" name="%E6%BC%A2%E6%95%B0%E5%AD%97%E3%81%AE%E3%82%AD%E3%83%A3%E3%82%B9%E3%83%88"></a>


###### 漢数字 1 文字のキャスト
<a id="markdown-%E6%BC%A2%E6%95%B0%E5%AD%97-1-%E6%96%87%E5%AD%97%E3%81%AE%E3%82%AD%E3%83%A3%E3%82%B9%E3%83%88" name="%E6%BC%A2%E6%95%B0%E5%AD%97-1-%E6%96%87%E5%AD%97%E3%81%AE%E3%82%AD%E3%83%A3%E3%82%B9%E3%83%88"></a>

```py
import unicodedata

print(unicodedata.numeric('五'))
```

> 5.0


###### 漢数字 2 文字以上のキャスト
<a id="markdown-%E6%BC%A2%E6%95%B0%E5%AD%97-2-%E6%96%87%E5%AD%97%E4%BB%A5%E4%B8%8A%E3%81%AE%E3%82%AD%E3%83%A3%E3%82%B9%E3%83%88" name="%E6%BC%A2%E6%95%B0%E5%AD%97-2-%E6%96%87%E5%AD%97%E4%BB%A5%E4%B8%8A%E3%81%AE%E3%82%AD%E3%83%A3%E3%82%B9%E3%83%88"></a>


###### アラビア数字に変換してからキャスト
<a id="markdown-%E3%82%A2%E3%83%A9%E3%83%93%E3%82%A2%E6%95%B0%E5%AD%97%E3%81%AB%E5%A4%89%E6%8F%9B%E3%81%97%E3%81%A6%E3%81%8B%E3%82%89%E3%82%AD%E3%83%A3%E3%82%B9%E3%83%88" name="%E3%82%A2%E3%83%A9%E3%83%93%E3%82%A2%E6%95%B0%E5%AD%97%E3%81%AB%E5%A4%89%E6%8F%9B%E3%81%97%E3%81%A6%E3%81%8B%E3%82%89%E3%82%AD%E3%83%A3%E3%82%B9%E3%83%88"></a>

```py
import re


re_num = re.compile(r'[十拾百千万億兆\d]+')
re_units = re.compile(r'[十拾百千]|\d+')
re_unitm = re.compile(r'[万億兆]|[^万億兆]+')

TRANSUNIT = {'十': 10, '拾': 10, '百': 100, '千': 1000}
TRANSMANS = {'万': 10000, '億': 100000000, '兆': 1000000000000}


def transformNum(kstring: str, sep=False):
    def _transvalue(sj: str, re_obj=re_units, transdic=TRANSUNIT):
        unit = 1
        result = 0
        for piece in reversed(re_obj.findall(sj)):
            if piece in transdic:
                if unit > 1:
                    result += unit
                unit = transdic[piece]
            else:
                val = int(piece) if piece.isdecimal() else _transvalue(piece)
                result += val * unit
                unit = 1
        if unit > 1:
            result += unit
        return result
    transuji = kstring.translate(str.maketrans('一二三四五六七八九〇壱弐参', '1234567890123'))
    for suji in sorted(set(re_num.findall(transuji)), key=lambda s: len(s),
                           reverse=True):
        if not suji.isdecimal():
            arabic = _transvalue(suji, re_unitm, TRANSMANS)
            arabic = '{:,}'.format(arabic) if sep else str(arabic)
            transuji = transuji.replace(suji, arabic)
        elif sep and len(suji) > 3:
            transuji = transuji.replace(suji, '{:,}'.format(int(suji)))
    return transuji


int(transformNum('１億２３４万５千六百七十八'))
```

> 102345678


###### kanjize パッケージを利用
<a id="markdown-kanjize-%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E3%82%92%E5%88%A9%E7%94%A8" name="kanjize-%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E3%82%92%E5%88%A9%E7%94%A8"></a>

```sh
$ pip install kanjize
```

```py
from kanjize import int2kanji, kanji2int

print(kanji2int('十二億三千四十五万六千七百八十九')) # 漢数字→int
print(int2kanji(1230456789)) # int→漢数字
```

> 1230456789
>
> 十二億三千四十五万六千七百八十九


### n 進数
<a id="markdown-n-%E9%80%B2%E6%95%B0" name="n-%E9%80%B2%E6%95%B0"></a>

10 進数以外の数も、内部的には 10 進数として扱われる

| n 進数  | `i`          | 関数                        | 結果         | 備考                 |
| ------- | ------------ | --------------------------- | ------------ | -------------------- |
| 10 進数 | `123`        | `print(i)`                  | `123`        |                      |
| ------- | ------------ | --------------------------- | ------------ | -------------------- |
| 2 進数  | `0b11111111` | `print(i)`                  | `255`        | 10 進数で表示される  |
|         |              | `print(bin(i))`             | `0b11111111` | 2 進数の文字列       |
|         |              | `print(format(i, 'b'))`     | `11111111`   |                      |
|         |              | `print(format(i, '#b'))`    | `0b11111111` |                      |
|         |              | `print(format(i, '0>10b'))` | `0011111111` | 2 進数をゼロ埋め表示 |
| ------- | ------------ | --------------------------- | ------------ | -------------------- |
| 8 進数  | `0o777`      | `print(i)`                  | `511`        | 10 進数で表示される  |
|         |              | `print(oct(i))`             | `0o777`      | 8 進数の文字列       |
|         |              | `print(format(i, 'o'))`     | `777`        |                      |
|         |              | `print(format(i, '#o'))`    | `0o777`      |                      |
| ------- | ------------ | --------------------------- | ------------ | -------------------- |
| 16 進数 | `0xffff`     | `print(i)`                  | `65535`      | 10 進数で表示される  |
|         |              | `print(hex(i))`             | `0xffff`     | 16 進数の文字列      |
|         |              | `print(format(i, 'x'))`     | `ffff`       |                      |
|         |              | `print(format(i, '#x'))`    | `0xffff`     |                      |


#### n 進数のキャスト
<a id="markdown-n-%E9%80%B2%E6%95%B0%E3%81%AE%E3%82%AD%E3%83%A3%E3%82%B9%E3%83%88" name="n-%E9%80%B2%E6%95%B0%E3%81%AE%E3%82%AD%E3%83%A3%E3%82%B9%E3%83%88"></a>

接頭辞(0b, 0o, 0x)がついていれば、基数に 0 を指定しても変換される

| n 進数  | 関数                   | 結果    |
| ------- | ---------------------- | ------- |
| 2 進数  | `int('0b11111111', 2)` | `255`   |
|         | `int('0b11111111', 0)` | `255`   |
| 8 進数  | `int('0o777', 8)`      | `511`   |
|         | `int('0o777', 0)`      | `511`   |
| 16 進数 | `int('0xffff', 16)`    | `65535` |
|         | `int('0xffff', 0)`     | `65535` |


#### ビット演算
<a id="markdown-%E3%83%93%E3%83%83%E3%83%88%E6%BC%94%E7%AE%97" name="%E3%83%93%E3%83%83%E3%83%88%E6%BC%94%E7%AE%97"></a>


##### 左シフト
<a id="markdown-%E5%B7%A6%E3%82%B7%E3%83%95%E3%83%88" name="%E5%B7%A6%E3%82%B7%E3%83%95%E3%83%88"></a>

| 関数               | 結果          |
| ------------------ | ------------- |
| `bin(0b0101 << 0)` | &nbsp;`0b101` |
| `bin(0b0101 << 1)` | `0b1010`      |


##### 右シフト
<a id="markdown-%E5%8F%B3%E3%82%B7%E3%83%95%E3%83%88" name="%E5%8F%B3%E3%82%B7%E3%83%95%E3%83%88"></a>

| 関数               | 結果         |
| ------------------ | ------------ |
| `bin(0b0111 >> 0)` | `0b111`      |
| `bin(0b0111 >> 1)` | &nbsp;`0b11` |


##### AND 演算
<a id="markdown-and-%E6%BC%94%E7%AE%97" name="and-%E6%BC%94%E7%AE%97"></a>

| 関数                   | 結果       | 備考                                  |
| ---------------------- | ---------- | ------------------------------------- |
| `bin(bin(0b0 & 0b0))`  | `'0b0'`    |                                       |
| `bin(bin(0b0 & 0b1))`  | `'0b0'`    |                                       |
| `bin(bin(0b1 & 0b1))`  | `'0b1'`    |                                       |
| `bin(0b1100 & 0b1010)` | `'0b1000'` | 繰り上がりせず、各桁ごとに AND される |


##### OR 演算
<a id="markdown-or-%E6%BC%94%E7%AE%97" name="or-%E6%BC%94%E7%AE%97"></a>

| 関数         | 結果     | 備考       |
| ------------ | -------- | ---------- |
| `bin(bin(0b0 | 0b0))`   | `'0b0'`    |                                      |
| `bin(bin(0b0 | 0b1))`   | `'0b1'`    |                                      |
| `bin(bin(0b1 | 0b1))`   | `'0b1'`    |                                      |
| `bin(0b1100  | 0b1010)` | `'0b1110'` | 繰り上がりせず、各桁ごとに OR される |


##### XOR 演算
<a id="markdown-xor-%E6%BC%94%E7%AE%97" name="xor-%E6%BC%94%E7%AE%97"></a>

| 関数                   | 結果      | 備考                                  |
| ---------------------- | --------- | ------------------------------------- |
| `bin(bin(0b0 ^ 0b0))`  | `'0b0'`   |                                       |
| `bin(bin(0b0 ^ 0b1))`  | `'0b1'`   |                                       |
| `bin(bin(0b1 ^ 0b1))`  | `'0b0'`   |                                       |
| `bin(0b1100 ^ 0b1010)` | `'0b110'` | 繰り上がりせず、各桁ごとに XOR される |


#### 2 進数の補数
<a id="markdown-%E9%80%B2%E6%95%B0%E3%81%AE%E8%A3%9C%E6%95%B0" name="%E9%80%B2%E6%95%B0%E3%81%AE%E8%A3%9C%E6%95%B0"></a>

```py
x = -36

print(
    '{:>10}\n{:>10}\n1の補数{:>10}\n2の補数{:>10}'.format(
        x,
        bin(x),
        bin((x & 0b11111111) - 1),
        bin(x & 0b11111111)
    )
)
```

```
       -36
 -0b100100
0b11011011
0b11011100
```


### 四捨五入・数値の切り上げ・切り捨て
<a id="markdown-%E5%9B%9B%E6%8D%A8%E4%BA%94%E5%85%A5%E3%83%BB%E6%95%B0%E5%80%A4%E3%81%AE%E5%88%87%E3%82%8A%E4%B8%8A%E3%81%92%E3%83%BB%E5%88%87%E3%82%8A%E6%8D%A8%E3%81%A6" name="%E5%9B%9B%E6%8D%A8%E4%BA%94%E5%85%A5%E3%83%BB%E6%95%B0%E5%80%A4%E3%81%AE%E5%88%87%E3%82%8A%E4%B8%8A%E3%81%92%E3%83%BB%E5%88%87%E3%82%8A%E6%8D%A8%E3%81%A6"></a>

| 処理                      | 関数                | 結果              |
| ------------------------- | ------------------- | ----------------- |
| 四捨五入(偶数への丸め)    | `round(7 / 3)`      | `2`               |
|                           | `round(1 / 2)`      | `0` (`1`ではない) |
| 切り捨て                  | `7 // 3`            | `2`               |
|                           | `int(7 / 3)`        | `2`               |
| 切り上げ                  | `-(-7 // 3)`        | `3`               |
| 切り捨て(math モジュール) | `math.floor(7 / 3)` | `2`               |
| 切り上げ(math モジュール) | `math.ceil(7 / 3)`  | `3`               |

```py
import math
math.floor(7 / 3) # 切り捨て
math.ceil(7 / 3) # 切り上げ
```

> 2
>
> 3

偶数への丸めではなく四捨五入を行いたい時は、decimal モジュールを使用する

```py
from decimal import Decimal, ROUND_HALF_UP, ROUND_DOWN

f = 1234.567

# 四捨五入
print(Decimal(str(f)).quantize(Decimal('0'), rounding=ROUND_HALF_UP))

# int型に戻す
int_value = int(Decimal(str(f)).quantize(Decimal('0'), rounding=ROUND_HALF_UP))

# 切り捨て
print(Decimal(str(f)).quantize(Decimal('0'), rounding=ROUND_DOWN))

# 切り上げ
print(Decimal(str(f)).quantize(Decimal('0'), rounding=ROUND_UP))
```

> \# 四捨五入
>
> 1235

> \# 切り捨て
>
> 1234

> \# 切り上げ
>
> 1235


### 整数の乱数を取得する
<a id="markdown-%E6%95%B4%E6%95%B0%E3%81%AE%E4%B9%B1%E6%95%B0%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B" name="%E6%95%B4%E6%95%B0%E3%81%AE%E4%B9%B1%E6%95%B0%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B"></a>

```py
import random

random.randint(1, 3) # m以上n以下の整数を返す
```

> 1
>
> 3

```py
import random

start=10
stop=100
step=20

# range(start, stop, step)で生成したリストの要素からランダムに抽出
random.randrange(start, stop, step)

# 乱数リストを内包表記で作る
[random.randrange(start, stop, step) for i in range(10)]
```

> 90
>
> 70

> [10, 10, 30, 50, 50, 70, 50, 10, 90, 30]


#### 乱数値を固定する
<a id="markdown-%E4%B9%B1%E6%95%B0%E5%80%A4%E3%82%92%E5%9B%BA%E5%AE%9A%E3%81%99%E3%82%8B" name="%E4%B9%B1%E6%95%B0%E5%80%A4%E3%82%92%E5%9B%BA%E5%AE%9A%E3%81%99%E3%82%8B"></a>

```py
import random

# 乱数シードを設定する
random.seed(123)

random.random()
random.random()
random.random()

# 再度同じ乱数シードを設定する
random.seed(123)

random.random()
random.random()
random.random()
```

> 0.052363598850944326
>
> 0.08718667752263232
>
> 0.4072417636703983

> 0.052363598850944326
>
> 0.08718667752263232
>
> 0.4072417636703983


### 整数の計算
<a id="markdown-%E6%95%B4%E6%95%B0%E3%81%AE%E8%A8%88%E7%AE%97" name="%E6%95%B4%E6%95%B0%E3%81%AE%E8%A8%88%E7%AE%97"></a>


#### 算術演算子（整数）
<a id="markdown-%E7%AE%97%E8%A1%93%E6%BC%94%E7%AE%97%E5%AD%90%EF%BC%88%E6%95%B4%E6%95%B0%EF%BC%89" name="%E7%AE%97%E8%A1%93%E6%BC%94%E7%AE%97%E5%AD%90%EF%BC%88%E6%95%B4%E6%95%B0%EF%BC%89"></a>

```py
# 和（加算）
print(1 + 2)

# 差（減算）
print(1 - 2)

# 積（乗算）
print(1 * 2)
```

> 3
>
> -1
>
> 2

```py
# 商（実数除算）… Python2 では / でも整数除算になる
print(1 / 2)

# 商（整数除算）
print(1 // 2)

# 剰余（<ruby>余り<rt>あまり</rt></ruby>）
print(1 % 2)

# 商と剰余
divmod(7, 3)
```

> 0.5 \# Python2 では / でも整数除算になるので 0
>
> 0
>
> 1
>
> (2, 1)

```py
# 累乗
print(123 ** 2)
```

> 15129


#### 最小公倍数・最大公約数
<a id="markdown-%E6%9C%80%E5%B0%8F%E5%85%AC%E5%80%8D%E6%95%B0%E3%83%BB%E6%9C%80%E5%A4%A7%E5%85%AC%E7%B4%84%E6%95%B0" name="%E6%9C%80%E5%B0%8F%E5%85%AC%E5%80%8D%E6%95%B0%E3%83%BB%E6%9C%80%E5%A4%A7%E5%85%AC%E7%B4%84%E6%95%B0"></a>

```py
# 最大公約数
import math
print(math.gcd(8, 28))
```

> 4

```py
# 最小公倍数
import math
def lcm(x, y):
    return (x * y) // math.gcd(x, y)

print(lcm(8, 28))
```

> 56


## float
<a id="markdown-float" name="float"></a>

| 定義                         | 結果     |
| ---------------------------- | -------- |
| `1.23`                       | `1.23`   |
| `1.2e3` (1.2 \* 10 \*\* 3)   | `1200.0` |
| `1.2E-3` (1.2 \* 10 \*\* -3) | `0.0012` |


### 数値チェック（小数）
<a id="markdown-%E6%95%B0%E5%80%A4%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF%EF%BC%88%E5%B0%8F%E6%95%B0%EF%BC%89" name="%E6%95%B0%E5%80%A4%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF%EF%BC%88%E5%B0%8F%E6%95%B0%EF%BC%89"></a>


#### 0 との比較（小数）
<a id="markdown-%E3%81%A8%E3%81%AE%E6%AF%94%E8%BC%83%EF%BC%88%E5%B0%8F%E6%95%B0%EF%BC%89" name="%E3%81%A8%E3%81%AE%E6%AF%94%E8%BC%83%EF%BC%88%E5%B0%8F%E6%95%B0%EF%BC%89"></a>

```py
x = (-0.1, 0, 0.1, 2.34)

# bool(0) => False
# bool(-0.1), bool(0.1) => True

for item in x:
    # if item != 0: のように、 0 と比較する必要はない
    if item:
        print(item)
```

> -0.1
>
> 0.1
>
> 2.34


#### 小数文字列か判定
<a id="markdown-%E5%B0%8F%E6%95%B0%E6%96%87%E5%AD%97%E5%88%97%E3%81%8B%E5%88%A4%E5%AE%9A" name="%E5%B0%8F%E6%95%B0%E6%96%87%E5%AD%97%E5%88%97%E3%81%8B%E5%88%A4%E5%AE%9A"></a>

文字列に対して数値チェック(小数)を行う

```py
def is_float(s):
  try:
    float(s)
  except:
    return False
  return True


s = '1.23e-4'
if is_float(s):
    f = float(s)  # 文字列型からのキャスト
    print('{}'.format(f))
```

> 0.000123


### float 型と文字列型
<a id="markdown-float-%E5%9E%8B%E3%81%A8%E6%96%87%E5%AD%97%E5%88%97%E5%9E%8B" name="float-%E5%9E%8B%E3%81%A8%E6%96%87%E5%AD%97%E5%88%97%E5%9E%8B"></a>


#### float 型のフォーマット
<a id="markdown-float-%E5%9E%8B%E3%81%AE%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%83%E3%83%88" name="float-%E5%9E%8B%E3%81%AE%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%83%E3%83%88"></a>

フォーマットに利用する関数には以下の種類がある

- 組み込み関数`format()`
- `str.format()`
- f 文字列

| 種別           | 書き方                                        | 結果      |
| -------------- | --------------------------------------------- | --------- |
| `format()`     | `format(1.2345, '0.3f')`                      | `'1.234'` |
| `str.format()` | `'{:0.3f}'.format(1.2345)`                    | `'1.234'` |
| f 文字列       | `f'right : {1.2345:0.3f}'`                    | `'1.234'` |
|                | `strval=1.2345`<br>`f'right : {strval:0.3f}'` | `'1.234'` |

詳細は[書式指定子](#書式指定子)の項を参照


#### 文字列型からのキャスト
<a id="markdown-%E6%96%87%E5%AD%97%E5%88%97%E5%9E%8B%E3%81%8B%E3%82%89%E3%81%AE%E3%82%AD%E3%83%A3%E3%82%B9%E3%83%88" name="%E6%96%87%E5%AD%97%E5%88%97%E5%9E%8B%E3%81%8B%E3%82%89%E3%81%AE%E3%82%AD%E3%83%A3%E3%82%B9%E3%83%88"></a>

| `s`         | `float(s)`の結果 |
| ----------- | ---------------- |
| `'1.23'`    | `1.23`           |
| `'.23'`     | `0.23`           |
| `'1.23e-4'` | `0.000123`       |


### 分数
<a id="markdown-%E5%88%86%E6%95%B0" name="%E5%88%86%E6%95%B0"></a>

```py
from fractions import Fraction
print(Fraction(7, 3))

print(Fraction('7/3'))

print(Fraction(0.5))

x = Fraction('7/3')
print(x.numerator, type(x.numerator), x.denominator, type(x.denominator))
```

> 7/3
>
> 7/3
>
> 1/2
>
> 7 \<class 'int'\> 3 \<class 'int'\>

```py
from fractions import Fraction
result = Fraction(7, 3) + Fraction(7, 3) / Fraction(3, 7)

print(result > Fraction(7, 3))

float(result)
str(result)
```

> Fraction(70, 9)
>
> True
>
> 7.777777777777778
>
> '70/9'

#### 分母の最大値を指定して近似
<a id="markdown-%E5%88%86%E6%AF%8D%E3%81%AE%E6%9C%80%E5%A4%A7%E5%80%A4%E3%82%92%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%A6%E8%BF%91%E4%BC%BC" name="%E5%88%86%E6%AF%8D%E3%81%AE%E6%9C%80%E5%A4%A7%E5%80%A4%E3%82%92%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%A6%E8%BF%91%E4%BC%BC"></a>

浮動小数点数の誤差が出てしまう場合、近似することも可能

```py
print(Fraction(0.2))

print(Fraction(0.2).limit_denominator(5))
```

> Fraction(3602879701896397, 18014398509481984)
>
> 1/5


### 数値の指定桁数での四捨五入・切り上げ・切り捨て
<a id="markdown-%E6%95%B0%E5%80%A4%E3%81%AE%E6%8C%87%E5%AE%9A%E6%A1%81%E6%95%B0%E3%81%A7%E3%81%AE%E5%9B%9B%E6%8D%A8%E4%BA%94%E5%85%A5%E3%83%BB%E5%88%87%E3%82%8A%E4%B8%8A%E3%81%92%E3%83%BB%E5%88%87%E3%82%8A%E6%8D%A8%E3%81%A6" name="%E6%95%B0%E5%80%A4%E3%81%AE%E6%8C%87%E5%AE%9A%E6%A1%81%E6%95%B0%E3%81%A7%E3%81%AE%E5%9B%9B%E6%8D%A8%E4%BA%94%E5%85%A5%E3%83%BB%E5%88%87%E3%82%8A%E4%B8%8A%E3%81%92%E3%83%BB%E5%88%87%E3%82%8A%E6%8D%A8%E3%81%A6"></a>

| 処理                      | 関数                | 結果                     |
| ------------------------- | ------------------- | ------------------------ |
| 四捨五入(偶数への丸め)    | `round(7 / 3, 2)`   | `2.33`                   |
|                           | `round(1 / 4, 1)`   | `0.2` ( `0.25` ではない) |
| 切り捨て                  | `7 // 3`            | `2`                      |
|                           | `int(7 / 3)`        | `2`                      |
| 切り上げ                  | `-(-7 // 3)`        | `3`                      |
| 切り捨て(math モジュール) | `math.floor(7 / 3)` | `2`                      |
| 切り上げ(math モジュール) | `math.ceil(7 / 3)`  | `3`                      |

偶数への丸めではなく四捨五入を行いたい時は、decimal モジュールを使用する

```py
from decimal import Decimal, ROUND_HALF_UP, ROUND_DOWN

f = 1234.567

# 四捨五入
print(Decimal(str(f)).quantize(Decimal('0.1'), rounding=ROUND_HALF_UP))
print(Decimal(str(f)).quantize(Decimal('0.01'), rounding=ROUND_HALF_UP))

# float型に戻す
float_value = float(Decimal(str(f)).quantize(Decimal('0.1'), rounding=ROUND_HALF_UP))

# 切り捨て
print(Decimal(str(f)).quantize(Decimal('0.1'), rounding=ROUND_DOWN))

# 切り上げ
print(Decimal(str(f)).quantize(Decimal('0.1'), rounding=ROUND_UP))
```

> \# 四捨五入
>
> 1234.6
>
> 1234.57

> \# 切り捨て
>
> 1234.5

> \# 切り上げ
>
> 1235.6


### 絶対値（abs）
<a id="markdown-%E7%B5%B6%E5%AF%BE%E5%80%A4%EF%BC%88abs%EF%BC%89" name="%E7%B5%B6%E5%AF%BE%E5%80%A4%EF%BC%88abs%EF%BC%89"></a>

| 関数         | 引数の型 | 結果の型 |
| ------------ | -------- | -------- |
| abs(x)       | int      | int      |
|              | float    | float    |
|              | complex  | float    |
| math.fabs(x) | int      | float    |
|              | float    | float    |

```py
abs(-123)
abs(-1.23)
abs(32 + 1j)
```

> 123
>
> 1.23
>
> 32.01562118716424

```py
import math
math.fabs(-123)
math.fabs(-1.23)
math.fabs(32 + 1j)
```

> 123.0
>
> 1.23
>
> TypeError: can't convert complex to float


### 最大値・最小値（数値）
<a id="markdown-%E6%9C%80%E5%A4%A7%E5%80%A4%E3%83%BB%E6%9C%80%E5%B0%8F%E5%80%A4%EF%BC%88%E6%95%B0%E5%80%A4%EF%BC%89" name="%E6%9C%80%E5%A4%A7%E5%80%A4%E3%83%BB%E6%9C%80%E5%B0%8F%E5%80%A4%EF%BC%88%E6%95%B0%E5%80%A4%EF%BC%89"></a>

```py
print(max(1, 2, -3))
print(min(1, 2, -3))

print(max(1.2, 3.4, -5.6))
print(min(1.2, 3.4, -5.6))
```

> 2
>
> -3
>
> 3.4
>
> -5.6


### 平均値（数値）
<a id="markdown-%E5%B9%B3%E5%9D%87%E5%80%A4%EF%BC%88%E6%95%B0%E5%80%A4%EF%BC%89" name="%E5%B9%B3%E5%9D%87%E5%80%A4%EF%BC%88%E6%95%B0%E5%80%A4%EF%BC%89"></a>

#### 算術平均
<a id="markdown-%E7%AE%97%E8%A1%93%E5%B9%B3%E5%9D%87" name="%E7%AE%97%E8%A1%93%E5%B9%B3%E5%9D%87"></a>

```py
import statistics as st

x = (1.2, 2.3, 4.56)
print(st.mean(x))
x = [1.2, 2.3, 4.56]
print(st.mean(x))

print(st.mean(1.2, 2.3, 4.56))

x = [1.2, 2.3, 4.56, None]
print(st.mean(x))
```

> 2.6866666666666665
>
> 2.6866666666666665

> TypeError: mean() takes 1 positional argument but 3 were given

> TypeError: don't know how to coerce float and NoneType

```py
from decimal import Decimal as D
import statistics as st

x = [D('1.2'), D('2.3'), D('4.56')]
print(st.mean(x))
```

> 2.686666666666666666666666667

```py
from fractions import Fraction as F
import statistics as st

# 1/2, 1/4, 1/8
x = [F(1, 2), F(1, 4), F(1, 8)]
print(st.mean(x))
```

> 7/24

#### 調和平均
<a id="markdown-%E8%AA%BF%E5%92%8C%E5%B9%B3%E5%9D%87" name="%E8%AA%BF%E5%92%8C%E5%B9%B3%E5%9D%87"></a>

```py
import statistics as st

x = (1.2, 2.3, 4.56)
print(st.harmonic_mean(x))
x = [1.2, 2.3, 4.56]
print(st.harmonic_mean(x))
```

> 2.0169230769230766
>
> 2.0169230769230766


### 統計量
<a id="markdown-%E7%B5%B1%E8%A8%88%E9%87%8F" name="%E7%B5%B1%E8%A8%88%E9%87%8F"></a>

#### 中央値
<a id="markdown-%E4%B8%AD%E5%A4%AE%E5%80%A4" name="%E4%B8%AD%E5%A4%AE%E5%80%A4"></a>

```py
import statistics as st

x = (1, 2, 3, 4, 5, 6, 7, 8, 9)
print(st.median(x))
print(st.median_low(x))
print(st.median_high(x))
x = (1, 2, 3, 4, 5, 6, 7, 8, 9, 10)
print(st.median(x))
print(st.median_low(x))
print(st.median_high(x))
```

> 5
>
> 5
>
> 5

要素数が奇数の場合は、中央の 2 要素の平均値

> 5.5
>
> 5
>
> 6

#### 最頻値
<a id="markdown-%E6%9C%80%E9%A0%BB%E5%80%A4" name="%E6%9C%80%E9%A0%BB%E5%80%A4"></a>

```py
import statistics as st

x = (1, 1, 1, 2, 2, 3, 4, 5)
print(st.mode(x))

x = (1, 1, 1, 2, 2, 2, 3, 4, 5)
print(st.mode(x))
```

> 1
>
> 1

```py
import collections

x = [1, 1, 1, 2, 2, 2, 3, 4, 5]
c = collections.Counter(x)

print(type(c), c)
print(c[1])

print(c.items())

print(c.most_common())

# 出現回数が最大の要素
print(c.most_common()[0])
print(c.most_common()[0][0])
print(c.most_common()[0][1])

# 出現頻度が大きい方からn個
print(c.most_common(2))

# 頻度が最小の要素
print(c.most_common()[-1])
```

> \# print(type(c), c)
>
> \<class 'collections.Counter'> Counter({1: 3, 2: 3, 3: 1, 4: 1, 5: 1})
>
> 3

> \# print(c.items())
>
> dict_items([(1, 3), (2, 3), (3, 1), (4, 1), (5, 1)])

> \# print(c.most_common())
>
> [(1, 3), (2, 3), (3, 1), (4, 1), (5, 1)]

> (1, 3)
>
> 1
>
> 3

> [(1, 3), (2, 3)]

> (5, 1)

#### 母標準偏差
<a id="markdown-%E6%AF%8D%E6%A8%99%E6%BA%96%E5%81%8F%E5%B7%AE" name="%E6%AF%8D%E6%A8%99%E6%BA%96%E5%81%8F%E5%B7%AE"></a>

```py
import statistics as st

x = (1, 2, 3, 4, 5, 6, 7, 8, 9, 10)

# print(st.mean(x)) # 5.5

print(st.pstdev(x))
# math.sqrt(st.pvariance(x))
```

> 2.8722813232690143

#### 母分散
<a id="markdown-%E6%AF%8D%E5%88%86%E6%95%A3" name="%E6%AF%8D%E5%88%86%E6%95%A3"></a>

```py
import statistics as st

x = (1, 2, 3, 4, 5, 6, 7, 8, 9, 10)
print(st.pvariance(x))
# sum((i - sum(x) / len(x))**2 for i in x) / len(x)
```

> 8.25

#### 標本標準偏差（不偏標準偏差）
<a id="markdown-%E6%A8%99%E6%9C%AC%E6%A8%99%E6%BA%96%E5%81%8F%E5%B7%AE%EF%BC%88%E4%B8%8D%E5%81%8F%E6%A8%99%E6%BA%96%E5%81%8F%E5%B7%AE%EF%BC%89" name="%E6%A8%99%E6%9C%AC%E6%A8%99%E6%BA%96%E5%81%8F%E5%B7%AE%EF%BC%88%E4%B8%8D%E5%81%8F%E6%A8%99%E6%BA%96%E5%81%8F%E5%B7%AE%EF%BC%89"></a>

```py
import statistics as st

x = (1, 2, 3, 4, 5, 6, 7, 8, 9, 10)
print(st.stdev(x))
# math.sqrt(st.variance(x))
```

> 3.0276503540974917

#### 標本分散（不偏分散）
<a id="markdown-%E6%A8%99%E6%9C%AC%E5%88%86%E6%95%A3%EF%BC%88%E4%B8%8D%E5%81%8F%E5%88%86%E6%95%A3%EF%BC%89" name="%E6%A8%99%E6%9C%AC%E5%88%86%E6%95%A3%EF%BC%88%E4%B8%8D%E5%81%8F%E5%88%86%E6%95%A3%EF%BC%89"></a>

```py
import statistics as st

x = (1, 2, 3, 4, 5, 6, 7, 8, 9, 10)
print(st.variance(x))
# sum((i - sum(x) / len(x))**2 for i in x) / (len(x) - 1)
```

> 9.166666666666666


### 小数値の乱数を取得する
<a id="markdown-%E5%B0%8F%E6%95%B0%E5%80%A4%E3%81%AE%E4%B9%B1%E6%95%B0%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B" name="%E5%B0%8F%E6%95%B0%E5%80%A4%E3%81%AE%E4%B9%B1%E6%95%B0%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B"></a>

```py
import random

random.random() # 0以上1未満の小数を返す
```

> 0.9526105265369583
>
> 0.20576122073048697

```py
import random

# m以上n以下の小数を返す
# ( a + (b-a) * random() の丸められ方によっては「n未満」 )
random.uniform(1, 3)
```

> 2.812125216111861
>
> 1.2485392016103378


### 三角関数
<a id="markdown-%E4%B8%89%E8%A7%92%E9%96%A2%E6%95%B0" name="%E4%B8%89%E8%A7%92%E9%96%A2%E6%95%B0"></a>

#### 円周率 π
<a id="markdown-%E5%86%86%E5%91%A8%E7%8E%87-%CF%80" name="%E5%86%86%E5%91%A8%E7%8E%87-%CF%80"></a>

```py
import math
print(math.pi)
```

#### 度（degree）とラジアン（rad）の変換
<a id="markdown-%E5%BA%A6%EF%BC%88degree%EF%BC%89%E3%81%A8%E3%83%A9%E3%82%B8%E3%82%A2%E3%83%B3%EF%BC%88rad%EF%BC%89%E3%81%AE%E5%A4%89%E6%8F%9B" name="%E5%BA%A6%EF%BC%88degree%EF%BC%89%E3%81%A8%E3%83%A9%E3%82%B8%E3%82%A2%E3%83%B3%EF%BC%88rad%EF%BC%89%E3%81%AE%E5%A4%89%E6%8F%9B"></a>

```py
import math

print(math.degrees(2 * math.pi))
print(math.radians(360))
```

> 360.0
>
> 6.283185307179586

#### sin、cos、tan
<a id="markdown-sin%E3%80%81cos%E3%80%81tan" name="sin%E3%80%81cos%E3%80%81tan"></a>

```py
import math

math.sin(math.radians(0))
math.cos(math.radians(0))
math.tan(math.radians(0))
```

> 0.0
>
> 1.0
>
> 0.0

```py
import math

math.sin(math.radians(45))
math.cos(math.radians(45))
math.tan(math.radians(45))

x = math.tan(math.radians(45))
print(round(x, 3))
print(math.isclose(x, 1.0))
print(math.isclose(x, 0.9))
```

> 0.7071067811865475
>
> 0.7071067811865476
>
> 0.9999999999999999

> 1.0
>
> True
>
> False

#### asin、acos、atan
<a id="markdown-asin%E3%80%81acos%E3%80%81atan" name="asin%E3%80%81acos%E3%80%81atan"></a>

```py
import math

x = math.degrees(math.asin(0.5))
print(x)
print(round(x, 3))

x = math.degrees(math.acos(0.5))
print(x)
print(round(x, 3))

x = math.degrees(math.atan(math.inf))
print(x)
print(round(x, 3))
```

> 29.999999999999996
>
> 30.0

> 59.99999999999999
>
> 60.0

> 90.0
>
> 90.0


### 実数の計算
<a id="markdown-%E5%AE%9F%E6%95%B0%E3%81%AE%E8%A8%88%E7%AE%97" name="%E5%AE%9F%E6%95%B0%E3%81%AE%E8%A8%88%E7%AE%97"></a>


#### 算術演算子（実数）
<a id="markdown-%E7%AE%97%E8%A1%93%E6%BC%94%E7%AE%97%E5%AD%90%EF%BC%88%E5%AE%9F%E6%95%B0%EF%BC%89" name="%E7%AE%97%E8%A1%93%E6%BC%94%E7%AE%97%E5%AD%90%EF%BC%88%E5%AE%9F%E6%95%B0%EF%BC%89"></a>

```py
# 和（加算）
print(1.23 + 2)

# 差（減算）
print(1.23 - 2)

# 積（乗算）
print(1.23 * 2)
```

> 3.23
>
> -0.77
>
> 2.46

```py
# 商（実数除算）… Python2 では / でも整数除算になる
print(1.23 / 2)

# 商（整数除算）
print(1.23 // 2)

# 剰余（<ruby>余り<rt>あまり</rt></ruby>）
print(1.23 % 2)

# 商と剰余
divmod(1.23, 2)
```

> 0.61
>
> 0.0
>
> 1.23
>
> (0.0, 1.23)

```py
# べき乗（累乗）
print(1.23 ** 2)
```

> 15129


#### 平方根
<a id="markdown-%E5%B9%B3%E6%96%B9%E6%A0%B9" name="%E5%B9%B3%E6%96%B9%E6%A0%B9"></a>

複素数に対して `**` 、 `pow()` 、 `math.sqrt()` で平方根を求めると誤差が発生する

```py
n = 13 ** 2
o = -1
p = -3 + 4j

n ** 0.5
o ** 0.5
p ** 0.5

pow(n, 0.5)
pow(o, 0.5)
pow(p, 0.5)

import math
math.sqrt(n)
math.sqrt(o)
math.sqrt(p)
```

> 13.0
>
> (6.123233995736766e-17+1j)
>
> (1.0000000000000002+2j)

> 13.0
>
> (6.123233995736766e-17+1j)
>
> (1.0000000000000002+2j)

> 13.0
>
> ValueError: math domain error
>
> TypeError: can't convert complex to float

より高精度の結果を得るためには cmath.sqrt()を使う

```py
import cmath
cmath.sqrt(n)
cmath.sqrt(o)
cmath.sqrt(p)
```

> (13+0j)
>
> 1j
>
> (1+2j)


#### 指数
<a id="markdown-%E6%8C%87%E6%95%B0" name="%E6%8C%87%E6%95%B0"></a>


##### べき乗
<a id="markdown-%E3%81%B9%E3%81%8D%E4%B9%97" name="%E3%81%B9%E3%81%8D%E4%B9%97"></a>

###### \*\*
<a id="markdown-%5C*%5C*" name="%5C*%5C*"></a>

```py
print(0**0)
print(2**6)
print(2.1**6)
print(2.1**6.5)

print((1 + 2j) ** 3)
print((1 + 2j) ** (3 + 4j))
```

> 1
>
> 64
>
> 85.76612100000003
>
> 124.286917147027
>
> (-11-2j)
>
> (0.12900959407446697+0.03392409290517014j)

###### `pow()`
<a id="markdown-pow" name="pow"></a>

```py
print(pow(0, 0))
print(pow(2, 6))
print(pow(2.1, 6))
print(pow(2.1, 6.5))

print(pow(1 + 2j, 3))
print(pow(1 + 2j, 3 + 4j))
```

> 1
>
> 64
>
> 85.76612100000003
>
> 124.286917147027
>
> (-11-2j)
>
> (0.12900959407446697+0.03392409290517014j)

`pow()` に第 3 引数を与えると、第 3 引数で割った時の剰余を返す

```py
print(pow(2, 6, 5))
```

> 4

###### `math.pow()`
<a id="markdown-math.pow" name="math.pow"></a>

```py
import math

print(math.pow(0, 0))
print(math.pow(2, 6))
print(math.pow(2.1, 6))
print(math.pow(2.1, 6.5))

# float型にキャストして計算するため、float型にキャストできないcomplex型などの値は引数にとれない
print(math.pow(1 + 2j, 3))
```

> 1.0
>
> 64.0
>
> 85.76612100000003
>
> 124.286917147027
>
> TypeError: can't convert complex to float

###### 底が負値の場合
<a id="markdown-%E5%BA%95%E3%81%8C%E8%B2%A0%E5%80%A4%E3%81%AE%E5%A0%B4%E5%90%88" name="%E5%BA%95%E3%81%8C%E8%B2%A0%E5%80%A4%E3%81%AE%E5%A0%B4%E5%90%88"></a>

```py
print(pow(125, 1/3))
print(pow(-125, 1/3)) # 複素数の解が返る

# 複素数ではなく実数の解を求めたい場合
def pow2(x, y):
    if x >= 0:
        p = pow(x, y)
    else:
        p = - pow(abs(-x), y)
    return p

print(pow2(-125, 1/3))
```

> 5.0
>
> (2.5000000000000004+4.330127018922193j)

> -5.0


###### 自然対数の底（ネイピア数）のべき乗
<a id="markdown-%E8%87%AA%E7%84%B6%E5%AF%BE%E6%95%B0%E3%81%AE%E5%BA%95%EF%BC%88%E3%83%8D%E3%82%A4%E3%83%94%E3%82%A2%E6%95%B0%EF%BC%89%E3%81%AE%E3%81%B9%E3%81%8D%E4%B9%97" name="%E8%87%AA%E7%84%B6%E5%AF%BE%E6%95%B0%E3%81%AE%E5%BA%95%EF%BC%88%E3%83%8D%E3%82%A4%E3%83%94%E3%82%A2%E6%95%B0%EF%BC%89%E3%81%AE%E3%81%B9%E3%81%8D%E4%B9%97"></a>

```py
import math

# math.e**2 だと精度が低い
print(math.exp(2))
```

> 7.38905609893065


##### 対数
<a id="markdown-%E5%AF%BE%E6%95%B0" name="%E5%AF%BE%E6%95%B0"></a>

##### 自然対数（底が e）・任意の底の対数
<a id="markdown-%E8%87%AA%E7%84%B6%E5%AF%BE%E6%95%B0%EF%BC%88%E5%BA%95%E3%81%8C-e%EF%BC%89%E3%83%BB%E4%BB%BB%E6%84%8F%E3%81%AE%E5%BA%95%E3%81%AE%E5%AF%BE%E6%95%B0" name="%E8%87%AA%E7%84%B6%E5%AF%BE%E6%95%B0%EF%BC%88%E5%BA%95%E3%81%8C-e%EF%BC%89%E3%83%BB%E4%BB%BB%E6%84%8F%E3%81%AE%E5%BA%95%E3%81%AE%E5%AF%BE%E6%95%B0"></a>

```py
# mathモジュールをインポート
import math

# 底（第2引数）を省略するとeが使われる
print(math.log(1))

# ネイピア数は math.e
print(math.log(math.e))

# +∞はfloat("inf")
print(math.log(float("inf")))

# 底（第2引数）を指定
print(math.log(3, 2))
```

> 0.0
>
> 1.0
>
> inf
>
> 1.5849625007211563

##### 底の変換公式
<a id="markdown-%E5%BA%95%E3%81%AE%E5%A4%89%E6%8F%9B%E5%85%AC%E5%BC%8F" name="%E5%BA%95%E3%81%AE%E5%A4%89%E6%8F%9B%E5%85%AC%E5%BC%8F"></a>

```py
# math.log(3, 2)と同じ
print(math.log(3) / math.log(2))
```

> 1.5849625007211563

##### 2 進対数（底が 2）
<a id="markdown-%E9%80%B2%E5%AF%BE%E6%95%B0%EF%BC%88%E5%BA%95%E3%81%8C-2%EF%BC%89" name="%E9%80%B2%E5%AF%BE%E6%95%B0%EF%BC%88%E5%BA%95%E3%81%8C-2%EF%BC%89"></a>

```py
import math
print(math.log2(1024))
```

> 10.0

##### 常用対数（底が 10）
<a id="markdown-%E5%B8%B8%E7%94%A8%E5%AF%BE%E6%95%B0%EF%BC%88%E5%BA%95%E3%81%8C-10%EF%BC%89" name="%E5%B8%B8%E7%94%A8%E5%AF%BE%E6%95%B0%EF%BC%88%E5%BA%95%E3%81%8C-10%EF%BC%89"></a>

```py
import math
print(math.log10(100))
```

> 2.0

##### 引数と 1 の和の自然対数
<a id="markdown-%E5%BC%95%E6%95%B0%E3%81%A8-1-%E3%81%AE%E5%92%8C%E3%81%AE%E8%87%AA%E7%84%B6%E5%AF%BE%E6%95%B0" name="%E5%BC%95%E6%95%B0%E3%81%A8-1-%E3%81%AE%E5%92%8C%E3%81%AE%E8%87%AA%E7%84%B6%E5%AF%BE%E6%95%B0"></a>

x の値が小さい場合に使用する

```py
import math

print(math.log(1.01))
print(math.log1p(0.01)) # math.logと比べて、より高精度
```

> 0.009950330853168092
> 0.009950330853168083


#### 階乗
<a id="markdown-%E9%9A%8E%E4%B9%97" name="%E9%9A%8E%E4%B9%97"></a>

```py
import math
print(math.factorial(10))

# 再帰呼び出しで書く場合
def factorial(x):
    if x == 0:
        return 1
    else:
        return x * factorial(x - 1)

print(factorial(10))
```

> 3628800
>
> 3628800


## complex(虚数)
<a id="markdown-complex%E8%99%9A%E6%95%B0" name="complex%E8%99%9A%E6%95%B0"></a>

```py
c = 1j
c = 2.3J
```


## datetime
<a id="markdown-datetime" name="datetime"></a>


### 日時の比較
<a id="markdown-%E6%97%A5%E6%99%82%E3%81%AE%E6%AF%94%E8%BC%83" name="%E6%97%A5%E6%99%82%E3%81%AE%E6%AF%94%E8%BC%83"></a>

```py
import datetime
d1 = datetime.datetime(2016, 12, 31, 23, 59, 59)
d2 = datetime.datetime(2016, 1, 1, 0, 0, 0)
td = d1 - d2
print(td)
print(td.days)
print(td.seconds)

print(d2 < d1)
print(d2 > d1)
print(d1 == d2)
```

| 項目         | 値                   |
| ------------ | -------------------- |
| `td`         | `365 days, 23:59:59` |
| `td.days`    | `365`                |
| `td.seconds` | `86399`              |
| `d1 > d2`    | `True`               |
| `d1 < d2`    | `False`              |
| `d1 == d2`   | `False`              |


### 現在日時
<a id="markdown-%E7%8F%BE%E5%9C%A8%E6%97%A5%E6%99%82" name="%E7%8F%BE%E5%9C%A8%E6%97%A5%E6%99%82"></a>

```py
from datetime import datetime

dt = datetime.today()
print(dt)

dt = datetime.now()
print(dt)
```

> 2019-08-02 08:34:17.354115
>
> 2019-08-02 08:34:17.354115


### 日時の各項目を取得
<a id="markdown-%E6%97%A5%E6%99%82%E3%81%AE%E5%90%84%E9%A0%85%E7%9B%AE%E3%82%92%E5%8F%96%E5%BE%97" name="%E6%97%A5%E6%99%82%E3%81%AE%E5%90%84%E9%A0%85%E7%9B%AE%E3%82%92%E5%8F%96%E5%BE%97"></a>

| 項目              | 値                             | 備考           |
| ----------------- | ------------------------------ | -------------- |
| `type(dt)`        | `<class 'datetime.datetime'\>` |                |
| `dt.year`         | `2019`                         |                |
| `dt.month`        | `8`                            |                |
| `dt.day`          | `2`                            |                |
| `dt.weekday()`    | `4`                            | 0:月曜; 6:日曜 |
| `dt.isoweekday()` | `5`                            | 1:月曜; 7:日曜 |
| `dt.hour`         | `8`                            |                |
| `dt.minute`       | `34`                           |                |
| `dt.second`       | `17`                           |                |
| `dt.microsecond`  | `354115`                       |                |


### 日付の生成
<a id="markdown-%E6%97%A5%E4%BB%98%E3%81%AE%E7%94%9F%E6%88%90" name="%E6%97%A5%E4%BB%98%E3%81%AE%E7%94%9F%E6%88%90"></a>

```py
from datetime import datetime
# 年・月・日は必須
dt = datetime(2019, 8, 2)
dt = datetime(2019, 8, 2, 1, 2, 3)
```

| 関数                             | 結果                                  |
| -------------------------------- | ------------------------------------- |
| `datetime(2019, 8, 2)`           | `2019-08-02 00:00:00`                 |
| `datetime(2019, 8, 2, 1, 2, 3)`  | `2019-08-02 01:02:03`                 |
| `datetime(2019, 8, 2, 1, 1, 63)` | `ValueError: second must be in 0..59` |


#### 一定期間後の日付を生成
<a id="markdown-%E4%B8%80%E5%AE%9A%E6%9C%9F%E9%96%93%E5%BE%8C%E3%81%AE%E6%97%A5%E4%BB%98%E3%82%92%E7%94%9F%E6%88%90" name="%E4%B8%80%E5%AE%9A%E6%9C%9F%E9%96%93%E5%BE%8C%E3%81%AE%E6%97%A5%E4%BB%98%E3%82%92%E7%94%9F%E6%88%90"></a>

```py
from datetime import datetime
from datetime import timedelta

dt = datetime(2019, 8, 2)

# 一定期間後の日付を生成する場合はtimedeltaを使用
dt += timedelta(weeks=1, days=2, hours=3, minutes=4, seconds=5, milliseconds=6, microseconds=7)
print(dt)
```

> 2019-08-11 03:04:05.006007


#### 日時の要素を置換
<a id="markdown-%E6%97%A5%E6%99%82%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E7%BD%AE%E6%8F%9B" name="%E6%97%A5%E6%99%82%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E7%BD%AE%E6%8F%9B"></a>

```py
from datetime import datetime
from datetime import timedelta

dt = datetime(2019, 8, 2)

# 日時の要素を置換
print(dt.replace(day=22))
```

> 2019-08-22 00:00:00


##### 現在日時を取得し、特定の時刻に変更
<a id="markdown-%E7%8F%BE%E5%9C%A8%E6%97%A5%E6%99%82%E3%82%92%E5%8F%96%E5%BE%97%E3%81%97%E3%80%81%E7%89%B9%E5%AE%9A%E3%81%AE%E6%99%82%E5%88%BB%E3%81%AB%E5%A4%89%E6%9B%B4" name="%E7%8F%BE%E5%9C%A8%E6%97%A5%E6%99%82%E3%82%92%E5%8F%96%E5%BE%97%E3%81%97%E3%80%81%E7%89%B9%E5%AE%9A%E3%81%AE%E6%99%82%E5%88%BB%E3%81%AB%E5%A4%89%E6%9B%B4"></a>

```py
from datetime import datetime

dt = datetime.now()

# 日時の要素を置換
print(dt.replace(hour=2,minute=0,second=0,microsecond=0))
```

> 2020-01-27 02:00:00


###### 今年が閏年かどうか調べる
<a id="markdown-%E4%BB%8A%E5%B9%B4%E3%81%8C%E9%96%8F%E5%B9%B4%E3%81%8B%E3%81%A9%E3%81%86%E3%81%8B%E8%AA%BF%E3%81%B9%E3%82%8B" name="%E4%BB%8A%E5%B9%B4%E3%81%8C%E9%96%8F%E5%B9%B4%E3%81%8B%E3%81%A9%E3%81%86%E3%81%8B%E8%AA%BF%E3%81%B9%E3%82%8B"></a>

```py
from datetime import datetime
from datetime import timedelta

dt = datetime.now()
dt = dt.replace(month=3,day=1,hour=0,minute=0,second=0,microsecond=0)
dt += timedelta(days=-1)
print(dt)

if 29 == dt.day:
    print('閏年')
else:
    print('not 閏年')
```


#### 日付のリスト
<a id="markdown-%E6%97%A5%E4%BB%98%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88" name="%E6%97%A5%E4%BB%98%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88"></a>

```py
from datetime import date
from datetime import timedelta

f = '%Y-%m-%d'
n = 5
d = date(2019, 8, 2)
td = timedelta(weeks=1)

l = [(d + i * td).strftime(f) for i in range(n)]
print(l)
```

> ['2019-08-02', '2019-08-09', '2019-08-16', '2019-08-23', '2019-08-30']


#### ランダムな日付を生成
<a id="markdown-%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%81%AA%E6%97%A5%E4%BB%98%E3%82%92%E7%94%9F%E6%88%90" name="%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%81%AA%E6%97%A5%E4%BB%98%E3%82%92%E7%94%9F%E6%88%90"></a>

```py
import random
import time

def generate_random_datetime(start, end, format = '%Y/%m/%d %H:%M:%S'):
    start_datetime = time.mktime(time.strptime(start, format))
    end_datetime = time.mktime(time.strptime(end, format))
    generated = start_datetime + random.random() * (end_datetime - start_datetime)
    return time.strftime(format, time.localtime(generated))


print(generate_random_datetime('2020/10/01 00:00:00', '2020/10/31 23:59:59'))
```

> 2020/10/07 04:17:34
>
> 2020/10/31 07:40:03
>
> 2020/10/01 04:21:58
>
> 2020/10/24 21:50:26
>
> 2020/10/27 17:41:34


### 指定日までの残り期間を取得
<a id="markdown-%E6%8C%87%E5%AE%9A%E6%97%A5%E3%81%BE%E3%81%A7%E3%81%AE%E6%AE%8B%E3%82%8A%E6%9C%9F%E9%96%93%E3%82%92%E5%8F%96%E5%BE%97" name="%E6%8C%87%E5%AE%9A%E6%97%A5%E3%81%BE%E3%81%A7%E3%81%AE%E6%AE%8B%E3%82%8A%E6%9C%9F%E9%96%93%E3%82%92%E5%8F%96%E5%BE%97"></a>

```py
from datetime import datetime
from datetime import timedelta

td = datetime(2019, 12, 24) - datetime(2019, 8, 2, 9, 0, 0)
print(td)
```

> 143 days, 15:00:00


### 生年月日から年齢を取得
<a id="markdown-%E7%94%9F%E5%B9%B4%E6%9C%88%E6%97%A5%E3%81%8B%E3%82%89%E5%B9%B4%E9%BD%A2%E3%82%92%E5%8F%96%E5%BE%97" name="%E7%94%9F%E5%B9%B4%E6%9C%88%E6%97%A5%E3%81%8B%E3%82%89%E5%B9%B4%E9%BD%A2%E3%82%92%E5%8F%96%E5%BE%97"></a>

```sh
$ python -m pip install python-dateutil
```

```py
from datetime import date
from dateutil.relativedelta import relativedelta

birthday = date(2000, 2, 29)
today = date.today()

delta = relativedelta(today, birthday)
print(today, birthday, delta)
print(delta.years)
```

> 2020-10-21 2000-02-29 relativedelta(years=+20, months=+7, days=+22)
>
> 20


### タイムゾーンを考慮した datetime
<a id="markdown-%E3%82%BF%E3%82%A4%E3%83%A0%E3%82%BE%E3%83%BC%E3%83%B3%E3%82%92%E8%80%83%E6%85%AE%E3%81%97%E3%81%9F-datetime" name="%E3%82%BF%E3%82%A4%E3%83%A0%E3%82%BE%E3%83%BC%E3%83%B3%E3%82%92%E8%80%83%E6%85%AE%E3%81%97%E3%81%9F-datetime"></a>


#### datetime パッケージの timezone モジュールを使用する場合
<a id="markdown-datetime-%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E3%81%AE-timezone-%E3%83%A2%E3%82%B8%E3%83%A5%E3%83%BC%E3%83%AB%E3%82%92%E4%BD%BF%E7%94%A8%E3%81%99%E3%82%8B%E5%A0%B4%E5%90%88" name="datetime-%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E3%81%AE-timezone-%E3%83%A2%E3%82%B8%E3%83%A5%E3%83%BC%E3%83%AB%E3%82%92%E4%BD%BF%E7%94%A8%E3%81%99%E3%82%8B%E5%A0%B4%E5%90%88"></a>

UTC からの時間差を指定して最低限の処理をすればよい場合

| 種類  | 内容                                                   |
| ----- | ------------------------------------------------------ |
| aware | TimeZone 情報を持つ datetime オブジェクト(tzinfo 属性) |
| naive | TimeZone 情報を持たない datetime オブジェクト          |

```py
from datetime import datetime, timedelta, timezone

# 現在時刻
print(datetime.now())
# 2019-08-08 12:17:51.835080

print(datetime.utcnow())
# 2019-08-08 03:17:53.033335
```


##### 生成
<a id="markdown-%E7%94%9F%E6%88%90" name="%E7%94%9F%E6%88%90"></a>

```py
from datetime import datetime, timedelta, timezone

# 任意の時刻を設定
print(datetime(2019, 8, 7, 6, 54, 32, 1000))
# 2019-08-07 06:54:32.001000

print(type(datetime(2019, 8, 7, 6, 54, 32, 1000)))
# <class 'datetime.datetime'>

print(datetime(2019, 8, 7, 6, 54, 32, 1000).tzinfo)
# None

print(datetime(2019, 8, 7, 6, 54, 32, 1000, tzinfo=timezone.utc))
# 2019-08-07 06:54:32.001000+00:00

print(datetime(2019, 8, 7, 6, 54, 32, 1000, tzinfo=timezone.utc).tzinfo)
# UTC

print(datetime(2019, 8, 7, 6, 54, 32, 1000, tzinfo=timezone(timedelta(hours=9))))
# 2019-08-07 06:54:32.001000+09:00
```


##### タイムゾーンを変更(変更前と同じ時刻)
<a id="markdown-%E3%82%BF%E3%82%A4%E3%83%A0%E3%82%BE%E3%83%BC%E3%83%B3%E3%82%92%E5%A4%89%E6%9B%B4%E5%A4%89%E6%9B%B4%E5%89%8D%E3%81%A8%E5%90%8C%E3%81%98%E6%99%82%E5%88%BB" name="%E3%82%BF%E3%82%A4%E3%83%A0%E3%82%BE%E3%83%BC%E3%83%B3%E3%82%92%E5%A4%89%E6%9B%B4%E5%A4%89%E6%9B%B4%E5%89%8D%E3%81%A8%E5%90%8C%E3%81%98%E6%99%82%E5%88%BB"></a>

```py
print(datetime(2019, 8, 7, 6, 54, 32, 1000, tzinfo=timezone(timedelta(hours=9))).astimezone(timezone(timedelta(hours=8))))
# 2019-08-07 06:54:32.001000+09:00 → 2019-08-07 05:54:32.001000+08:00

# Python3.6以降の場合、naiveなdatetimeオブジェクトにもastimezone関数を実行できる(ローカルのタイムゾーンから変換される)
print(datetime(2019, 8, 7, 6, 54, 32, 1000).astimezone(timezone(timedelta(hours=8))))
# 2019-08-07 06:54:32.001000+09:00 → 2019-08-07 05:54:32.001000+08:00
```


##### タイムゾーンを置換(変更前と異なる時刻)
<a id="markdown-%E3%82%BF%E3%82%A4%E3%83%A0%E3%82%BE%E3%83%BC%E3%83%B3%E3%82%92%E7%BD%AE%E6%8F%9B%E5%A4%89%E6%9B%B4%E5%89%8D%E3%81%A8%E7%95%B0%E3%81%AA%E3%82%8B%E6%99%82%E5%88%BB" name="%E3%82%BF%E3%82%A4%E3%83%A0%E3%82%BE%E3%83%BC%E3%83%B3%E3%82%92%E7%BD%AE%E6%8F%9B%E5%A4%89%E6%9B%B4%E5%89%8D%E3%81%A8%E7%95%B0%E3%81%AA%E3%82%8B%E6%99%82%E5%88%BB"></a>

```py
print(datetime(2019, 8, 7, 6, 54, 32, 1000, tzinfo=timezone(timedelta(hours=9))).replace(tzinfo=timezone.utc))
# 2019-08-07 06:54:32.001000+09:00 → 2019-08-07 06:54:32.001000+00:00

# タイムゾーンの削除
print(datetime(2019, 8, 7, 6, 54, 32, 1000, tzinfo=timezone(timedelta(hours=9))).replace(tzinfo=None))
# 2019-08-07 06:54:32.001000+09:00 → 2019-08-07 06:54:32.001000
```


#### pytz を使用する場合
<a id="markdown-pytz-%E3%82%92%E4%BD%BF%E7%94%A8%E3%81%99%E3%82%8B%E5%A0%B4%E5%90%88" name="pytz-%E3%82%92%E4%BD%BF%E7%94%A8%E3%81%99%E3%82%8B%E5%A0%B4%E5%90%88"></a>


##### 現在日時から生成
<a id="markdown-%E7%8F%BE%E5%9C%A8%E6%97%A5%E6%99%82%E3%81%8B%E3%82%89%E7%94%9F%E6%88%90" name="%E7%8F%BE%E5%9C%A8%E6%97%A5%E6%99%82%E3%81%8B%E3%82%89%E7%94%9F%E6%88%90"></a>

```sh
$ pip install pytz
```

```py
from pytz import timezone
from datetime import datetime
```

- 型

| 項目                           | 値                                 |
| ------------------------------ | ---------------------------------- |
| `type(datetime.now())`         | `<class 'datetime.datetime'>`      |
| `type(timezone('UTC'))`        | `<class 'pytz.UTC'>`               |
| `type(timezone('Asia/Tokyo'))` | `<class 'pytz.tzfile.Asia/Tokyo'>` |

| 項目                                                                                    | 値                                 |
| --------------------------------------------------------------------------------------- | ---------------------------------- |
| `print(datetime.now())`                                                                 | `2019-08-07 12:45:18.487441`       |
|                                                                                         |                                    |
| `print(datetime.now(timezone('UTC')))`                                                  | `2019-08-07 03:45:18.553981+00:00` |
| `print(datetime.now(tz=timezone('Europe/London')))`                                     | `2019-08-07 04:45:18.553981+01:00` |
| `print(datetime.now(tz=timezone('Asia/Tokyo')))`                                        | `2019-08-07 12:45:18.553981+09:00` |
|                                                                                         |                                    |
| `print(datetime.now(timezone('UTC')).astimezone(timezone('Europe/London')))`            | `2019-08-07 04:45:18.634371+01:00` |
| `print(datetime.now(timezone('UTC')).astimezone(timezone('Asia/Tokyo')))`               | `2019-08-07 12:45:18.754351+09:00` |
|                                                                                         |                                    |
| `print(timezone('Europe/London').localize(datetime.now()))`                             | `2019-08-07 12:45:20.011410+01:00` |
| `print(timezone('Asia/Tokyo').localize(datetime.now()))`                                | `2019-08-07 12:45:20.011410+09:00` |
|                                                                                         |                                    |
| `print(timezone('UTC').localize(datetime.now()))`                                       | `2019-08-07 12:45:18.760637+00:00` |
|                                                                                         |                                    |
| `print(timezone('UTC').localize(datetime.now()).astimezone(timezone('Europe/London')))` | `2019-08-07 13:45:18.760637+09:00` |
| `print(timezone('UTC').localize(datetime.now()).astimezone(timezone('Asia/Tokyo')))`    | `2019-08-07 21:45:18.760637+09:00` |


##### 任意の日時を生成
<a id="markdown-%E4%BB%BB%E6%84%8F%E3%81%AE%E6%97%A5%E6%99%82%E3%82%92%E7%94%9F%E6%88%90" name="%E4%BB%BB%E6%84%8F%E3%81%AE%E6%97%A5%E6%99%82%E3%82%92%E7%94%9F%E6%88%90"></a>

```py
from datetime import datetime
from pytz import timezone

date = datetime(2019, 8, 9, 10)

tz = timezone('Asia/Tokyo')
print(tz.localize(date))

tz = timezone('Europe/London')
print(tz.localize(date))

tz = timezone('UTC')
print(tz.localize(date))
```

> 2019-08-09 10:11:12+09:00
>
> 2019-08-09 10:11:12+01:00
>
> 2019-08-10 02:00:00+00:00


##### サマータイム終了時点を跨いだ日時の加算
<a id="markdown-%E3%82%B5%E3%83%9E%E3%83%BC%E3%82%BF%E3%82%A4%E3%83%A0%E7%B5%82%E4%BA%86%E6%99%82%E7%82%B9%E3%82%92%E8%B7%A8%E3%81%84%E3%81%A0%E6%97%A5%E6%99%82%E3%81%AE%E5%8A%A0%E7%AE%97" name="%E3%82%B5%E3%83%9E%E3%83%BC%E3%82%BF%E3%82%A4%E3%83%A0%E7%B5%82%E4%BA%86%E6%99%82%E7%82%B9%E3%82%92%E8%B7%A8%E3%81%84%E3%81%A0%E6%97%A5%E6%99%82%E3%81%AE%E5%8A%A0%E7%AE%97"></a>

```py
from datetime import datetime, timedelta
from pytz import timezone

tz = timezone('Europe/London')
dt = datetime(year=2019, month=10, day=27, hour=0, minute=58)
localized = tz.normalize(tz.normalize(tz.localize(dt)) + timedelta(minutes=1))
print(localized)

dt = datetime(year=2019, month=10, day=27, hour=0, minute=59)
localized = tz.normalize(tz.normalize(tz.localize(dt)) + timedelta(minutes=1))
print(localized)

dt = datetime(year=2019, month=10, day=27, hour=0, minute=59, second=59)
localized = tz.normalize(tz.normalize(tz.localize(dt)) + timedelta(seconds=1))
print(localized)

dt = datetime(year=2019, month=10, day=27, hour=1, minute=0, second=0)
localized = tz.normalize(tz.normalize(tz.localize(dt)) + timedelta(seconds=1))
print(localized)

dt = datetime(year=2019, month=10, day=27, hour=1, minute=0)
localized = tz.normalize(tz.normalize(tz.localize(dt)) + timedelta(minutes=1))
print(localized)
```

> 2019-10-27 00:59:00+01:00
>
> 2019-10-27 01:00:00+01:00
>
> 2019-10-27 01:00:00+01:00
>
> 2019-10-27 01:00:01+00:00
>
> 2019-10-27 01:01:00+00:00


### datetime 型のキャスト
<a id="markdown-datetime-%E5%9E%8B%E3%81%AE%E3%82%AD%E3%83%A3%E3%82%B9%E3%83%88" name="datetime-%E5%9E%8B%E3%81%AE%E3%82%AD%E3%83%A3%E3%82%B9%E3%83%88"></a>


#### datetime 型と date 型・time 型
<a id="markdown-datetime-%E5%9E%8B%E3%81%A8-date-%E5%9E%8B%E3%83%BBtime-%E5%9E%8B" name="datetime-%E5%9E%8B%E3%81%A8-date-%E5%9E%8B%E3%83%BBtime-%E5%9E%8B"></a>


##### datetime 型 から date 型・time 型
<a id="markdown-datetime-%E5%9E%8B-%E3%81%8B%E3%82%89-date-%E5%9E%8B%E3%83%BBtime-%E5%9E%8B" name="datetime-%E5%9E%8B-%E3%81%8B%E3%82%89-date-%E5%9E%8B%E3%83%BBtime-%E5%9E%8B"></a>

```py
from datetime import datetime

dt = datetime(2019, 8, 2)

# date型
print(dt.date())
print(type(dt.date()))

# time型
print(dt.time())
print(type(dt.time()))

print(dt.date().weekday())
```

> 2019-08-02
>
> \<class 'datetime.date'\>
>
> 00:00:00
>
> \<class 'datetime.time'>
>
> 4


##### date 型・time 型 から datetime 型
<a id="markdown-date-%E5%9E%8B%E3%83%BBtime-%E5%9E%8B-%E3%81%8B%E3%82%89-datetime-%E5%9E%8B" name="date-%E5%9E%8B%E3%83%BBtime-%E5%9E%8B-%E3%81%8B%E3%82%89-datetime-%E5%9E%8B"></a>

```py
import datetime

# 今日の日付(date)
date = datetime.date.today()

# time
# 範囲外の数値を指定するとエラー
# ValueError: second must be in 0..59
time = datetime.time(hour=12, minute=34, second=56)

dt = datetime.datetime.combine(date, time)
print(dt)
```

> 2019-08-02 12:34:56


#### datetime 型と文字列型
<a id="markdown-datetime-%E5%9E%8B%E3%81%A8%E6%96%87%E5%AD%97%E5%88%97%E5%9E%8B" name="datetime-%E5%9E%8B%E3%81%A8%E6%96%87%E5%AD%97%E5%88%97%E5%9E%8B"></a>


##### datetime 型 から 文字列型
<a id="markdown-datetime-%E5%9E%8B-%E3%81%8B%E3%82%89-%E6%96%87%E5%AD%97%E5%88%97%E5%9E%8B" name="datetime-%E5%9E%8B-%E3%81%8B%E3%82%89-%E6%96%87%E5%AD%97%E5%88%97%E5%9E%8B"></a>

```py
from datetime import datetime
now = datetime.now().strftime('%Y%m%d%H%M%S') # YYYYmmddHHMMSS
print(now)

print(datetime.now().isoformat()) # ISO形式
```

> 20190730121658
>
> 2019-07-30T12:16:58.427664


###### ロケールを指定して月・曜日を示す文字列を取得する
<a id="markdown-%E3%83%AD%E3%82%B1%E3%83%BC%E3%83%AB%E3%82%92%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%A6%E6%9C%88%E3%83%BB%E6%9B%9C%E6%97%A5%E3%82%92%E7%A4%BA%E3%81%99%E6%96%87%E5%AD%97%E5%88%97%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B" name="%E3%83%AD%E3%82%B1%E3%83%BC%E3%83%AB%E3%82%92%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%A6%E6%9C%88%E3%83%BB%E6%9B%9C%E6%97%A5%E3%82%92%E7%A4%BA%E3%81%99%E6%96%87%E5%AD%97%E5%88%97%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B"></a>

```py
import datetime
import locale

dt = datetime.datetime(2020, 1, 23)
print(dt) # 2020-01-23 00:00:00

print(locale.getlocale(locale.LC_TIME))
print(dt.strftime('%A, %a, %B, %b'))

locale.setlocale(locale.LC_TIME, 'en_US.UTF-8')
print(dt.strftime('%A, %a, %B, %b'))

locale.setlocale(locale.LC_TIME, 'ja_JP.UTF-8')
print(dt.strftime('%A, %a, %B, %b'))
```

| locale          | `%A`       | `%a`  | `%B`      | `%b`  |
| --------------- | ---------- | ----- | --------- | ----- |
| `(None, None)`  | `Thursday` | `Thu` | `January` | `Jan` |
| `'en_US.UTF-8'` | `Thursday` | `Thu` | `January` | `Jan` |
| `'ja_JP.UTF-8'` | `木曜日`   | `木`  | `1月`     | `1`   |


##### 文字列型 から datetime 型、date 型
<a id="markdown-%E6%96%87%E5%AD%97%E5%88%97%E5%9E%8B-%E3%81%8B%E3%82%89-datetime-%E5%9E%8B%E3%80%81date-%E5%9E%8B" name="%E6%96%87%E5%AD%97%E5%88%97%E5%9E%8B-%E3%81%8B%E3%82%89-datetime-%E5%9E%8B%E3%80%81date-%E5%9E%8B"></a>

```py
from datetime import date
from datetime import datetime
tstr = '2019-07-30 12:16:58'
tdatetime = datetime.strptime(tstr, '%Y-%m-%d %H:%M:%S') # YYYY-mm-dd HH:MM:SS
tdate = date(tdatetime.year, tdatetime.month, tdatetime.day)
print(tdatetime)
print(tdate)

tstr = '2019-07-30T12:16:58.001000'
tdatetime = datetime.fromisoformat(tstr) # ISO形式 (Python3.7以降)
print(tdatetime)

#      '2019-07-30T12:16:58.001000+00:00'
tstr = '2019-07-30T12:16:58.001000Z'
tdatetime = datetime.fromisoformat(tstr.replace('Z', '+00:00')) # ISO形式 (Python3.7以降) 末尾にUTCを示すZがついているとエラーになるので置換する
print(tdatetime)

tstr = '2019-07-30T12:16:58.001000+09:00'
tdatetime = datetime.fromisoformat(tstr) # ISO形式 (Python3.7以降)
print(tdatetime)
```

> 2019-07-30 12:16:58
>
> 2019-07-30
>
> 2019-07-30 12:16:58.001000
>
> 2019-07-30 12:16:58.001000+00:00
>
> 2019-07-30 12:16:58.001000+09:00


##### タイムゾーンを考慮した 文字列型 から datetime 型
<a id="markdown-%E3%82%BF%E3%82%A4%E3%83%A0%E3%82%BE%E3%83%BC%E3%83%B3%E3%82%92%E8%80%83%E6%85%AE%E3%81%97%E3%81%9F-%E6%96%87%E5%AD%97%E5%88%97%E5%9E%8B-%E3%81%8B%E3%82%89-datetime-%E5%9E%8B" name="%E3%82%BF%E3%82%A4%E3%83%A0%E3%82%BE%E3%83%BC%E3%83%B3%E3%82%92%E8%80%83%E6%85%AE%E3%81%97%E3%81%9F-%E6%96%87%E5%AD%97%E5%88%97%E5%9E%8B-%E3%81%8B%E3%82%89-datetime-%E5%9E%8B"></a>

```py
from datetime import datetime
tstr = '2019/08/08 12:23:34+0900'
tdatetime = datetime.strptime(tstr, '%Y/%m/%d %H:%M:%S%z')
print(tdatetime)
print(tdatetime.tzinfo)
```

> 2019-08-08 12:23:34+09:00
>
> UTC+09:00


##### タイムゾーンを考慮した ISO 形式の 文字列型 から datetime 型
<a id="markdown-%E3%82%BF%E3%82%A4%E3%83%A0%E3%82%BE%E3%83%BC%E3%83%B3%E3%82%92%E8%80%83%E6%85%AE%E3%81%97%E3%81%9F-iso-%E5%BD%A2%E5%BC%8F%E3%81%AE-%E6%96%87%E5%AD%97%E5%88%97%E5%9E%8B-%E3%81%8B%E3%82%89-datetime-%E5%9E%8B" name="%E3%82%BF%E3%82%A4%E3%83%A0%E3%82%BE%E3%83%BC%E3%83%B3%E3%82%92%E8%80%83%E6%85%AE%E3%81%97%E3%81%9F-iso-%E5%BD%A2%E5%BC%8F%E3%81%AE-%E6%96%87%E5%AD%97%E5%88%97%E5%9E%8B-%E3%81%8B%E3%82%89-datetime-%E5%9E%8B"></a>

dateutil.parser を利用する

```sh
$ pip install python-dateutil
```

```py
from datetime import datetime, timedelta, timezone
from dateutil.parser import parse


tstr = '2019-08-07T03:04:05.432100Z'

JST = timezone(timedelta(hours=+9), 'JST')
print(parse(tstr))
tdatetime = parse(tstr).astimezone(JST)
print(tdatetime)

print(tdatetime.astimezone(timezone('UTC'))) # 再度UTCに戻す
```

> 2019-08-07 03:04:05.432100+00:00
>
> 2019-08-07 12:04:05.432100+09:00

```py
import datetime
from dateutil.parser import parse


JST = datetime.timezone(datetime.timedelta(hours=+9), 'JST')

print(parse('2019-08-07T03:04:05.432100+00:00').astimezone(JST))
print(parse('2019-08-07T03:04:05.432100+0000').astimezone(JST))
print(parse('2019-08-07T03:04:05.432100+00').astimezone(JST))
print(parse('2019-08-07T03:04:05.432100Z').astimezone(JST))
print(parse('20190807T030405+00:00').astimezone(JST))
print(parse('20190807T030405Z').astimezone(JST))

print(parse('2019-08-07T03:04:05.432100+09:00').astimezone(JST))
print(parse('2019-08-07T03:04:05.432100JST').astimezone(JST))
```

> 2019-08-07 12:04:05.432100+09:00
>
> 2019-08-07 12:04:05.432100+09:00
>
> 2019-08-07 12:04:05.432100+09:00
>
> 2019-08-07 12:04:05.432100+09:00
>
> 2019-08-07 12:04:05+09:00
>
> 2019-08-07 12:04:05+09:00

> 2019-08-07 03:04:05.432100+09:00
>
> 2019-08-07 03:04:05.432100+09:00


##### 日付時刻の format 文字列に埋め込むディレクティブ
<a id="markdown-%E6%97%A5%E4%BB%98%E6%99%82%E5%88%BB%E3%81%AE-format-%E6%96%87%E5%AD%97%E5%88%97%E3%81%AB%E5%9F%8B%E3%82%81%E8%BE%BC%E3%82%80%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%86%E3%82%A3%E3%83%96" name="%E6%97%A5%E4%BB%98%E6%99%82%E5%88%BB%E3%81%AE-format-%E6%96%87%E5%AD%97%E5%88%97%E3%81%AB%E5%9F%8B%E3%82%81%E8%BE%BC%E3%82%80%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%86%E3%82%A3%E3%83%96"></a>

https://docs.python.org/ja/3/library/time.html#time.strftime

| ディレクティブ | 意味                                                                                                                                                  | 注釈 |
| -------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------- | ---- |
| %a             | ロケールにおける省略形の曜日名。                                                                                                                      |      |
| %A             | ロケールにおける省略なしの曜日名。                                                                                                                    |      |
| %b             | ロケールにおける省略形の月名。                                                                                                                        |      |
| %B             | ロケールにおける省略なしの月名。                                                                                                                      |      |
| %c             | ロケールにおける適切な日付および時刻表現。                                                                                                            |      |
| %d             | 月の始めから何日目かを表す 10 進数 [01,31]。                                                                                                          |      |
| %H             | (24 時間計での) 時を表す 10 進数 [00,23]。                                                                                                            |      |
| %I             | (12 時間計での) 時を表す 10 進数 [01,12]。                                                                                                            |      |
| %j             | 年の初めから何日目かを表す 10 進数 [001,366]。                                                                                                        |      |
| %m             | 月を表す 10 進数 [01,12]。                                                                                                                            |      |
| %M             | 分を表す 10 進数 [00,59]。                                                                                                                            |      |
| %p             | ロケールにおける AM または PM に対応する文字列。                                                                                                      | (1)  |
| %S             | 秒を表す 10 進数 [00,61]。                                                                                                                            | (2)  |
| %U             | 年の初めから何週目か (日曜を週の始まりとします)を表す<br>10 進数 [00,53]。年が明けてから最初の日曜日までの全ての曜日は 0 週目に属すると見なされます。 | (3)  |
| %w             | 曜日を表す 10 進数 [0(日曜日),6]。                                                                                                                    |      |
| %W             | 年の初めから何週目か (日曜を週の始まりとします)を表す<br>10 進数 [00,53]。年が明けてから最初の月曜日までの全ての曜日は 0 週目に属すると見なされます。 | (3)  |
| %x             | ロケールにおける適切な日付の表現。                                                                                                                    |      |
| %X             | ロケールにおける適切な時刻の表現。                                                                                                                    |      |
| %y             | 上 2 桁なしの西暦年を表す 10 進数 [00,99]。                                                                                                           |      |
| %Y             | 上 2 桁付きの西暦年を表す 10 進数。                                                                                                                   |      |
| %Z             | タイムゾーンの名前 (タイムゾーンがない場合には空文字列)。                                                                                             |      |
| %%             | 文字 “%” 自体の表現。                                                                                                                                 |      |

1. strptime() 関数で使う場合、%p ディレクティブが出力結果の時刻フィールドに影響を及ぼすのは、時刻を解釈するために %I を使ったときのみです。
1. 値の幅は実際に 0 から 61 です; 60 は うるう秒\<leap seconds\> を表し、 61 は歴史的理由によりサポートされています。
1. strptime() 関数で使う場合、%U および %W を計算に使うのは曜日と年を指定したときだけです。


### 祝日判定
<a id="markdown-%E7%A5%9D%E6%97%A5%E5%88%A4%E5%AE%9A" name="%E7%A5%9D%E6%97%A5%E5%88%A4%E5%AE%9A"></a>

[emasaka/jpholidayp](https://github.com/emasaka/jpholidayp)


### 和暦・元号
<a id="markdown-%E5%92%8C%E6%9A%A6%E3%83%BB%E5%85%83%E5%8F%B7" name="%E5%92%8C%E6%9A%A6%E3%83%BB%E5%85%83%E5%8F%B7"></a>

[nagataaaas/Japanera](https://github.com/nagataaaas/Japanera)

```bash
$ pip install japanera
```

```python
from datetime import date
from japanera import Japanera


janera = Japanera()

c_era = janera.era(date.today())
print("{}({})".format(c_era.kanji, c_era.english))
```

> 令和(Reiwa)

```python
import datetime
from japanera import Japanera, EraDate, EraDateTime


janera = Japanera()


c_era = janera.era(datetime.date(1873, 1, 1))
# <Era 明治:Meiji 23/01/1868 - 30/07/1912>

eradate = EraDate(1873, 1, 1)
eradate = EraDate.fromdate(datetime.date(1873, 1, 1))
# Era.eradate(明治: Meiji, 1873, 1, 1)

eradatetime = EraDateTime(1873, 1, 1)
eradatetime = EraDateTime.fromdatetime(datetime.datetime(1873, 1, 1))
# Era.eradate(明治: Meiji, 1873, 1, 1, 0, 0, 0, 0)


# ##########


print(c_era.kanji)                 # 明治
print(c_era.english)               # Meiji
print(c_era.english_shorten_vowel) # Meiji
print(c_era.english_head)          # M
print(c_era.start)                 # 1868-01-23
print(c_era.end)                   # 1912-07-30


print(eradate.era.kanji)                         # 明治
print(eradate.strftime("%-E%-O年%m月%d日"))      # 明治06年01月01日
print(eradate.strftime("%-E%-kO年%-km月%-kd日")) # 明治六年一月一日


print(eradatetime.era.kanji)                         # 明治
print(eradatetime.strftime("%-E%-O年%m月%d日"))      # 明治06年01月01日
print(eradatetime.strftime("%-E%-kO年%-km月%-kd日")) # 明治六年一月一日


# ##########


print(janera.strptime("明治06年01月01日", "%-E%-O年%m月%d日"))
print(janera.strptime("明治六年一月一日", "%-E%-kO年%-km月%-kd日"))
# [datetime.datetime(1873, 1, 1, 0, 0)]
```


### 実行時間を計測
<a id="markdown-%E5%AE%9F%E8%A1%8C%E6%99%82%E9%96%93%E3%82%92%E8%A8%88%E6%B8%AC" name="%E5%AE%9F%E8%A1%8C%E6%99%82%E9%96%93%E3%82%92%E8%A8%88%E6%B8%AC"></a>

#### 小数点以下がミリ秒
<a id="markdown-%E5%B0%8F%E6%95%B0%E7%82%B9%E4%BB%A5%E4%B8%8B%E3%81%8C%E3%83%9F%E3%83%AA%E7%A7%92" name="%E5%B0%8F%E6%95%B0%E7%82%B9%E4%BB%A5%E4%B8%8B%E3%81%8C%E3%83%9F%E3%83%AA%E7%A7%92"></a>

```py
import time # 計測
import random, string # ランダム文字列生成


started = time.perf_counter()

print(
    [random.choice(string.ascii_letters + string.digits) for i in range(10000)]
)

print(time.perf_counter() - started)
```

#### ナノ秒単位
<a id="markdown-%E3%83%8A%E3%83%8E%E7%A7%92%E5%8D%98%E4%BD%8D" name="%E3%83%8A%E3%83%8E%E7%A7%92%E5%8D%98%E4%BD%8D"></a>

```
import time # 計測
import random, string # ランダム文字列生成


started = time.perf_counter_ns()

print(
    [random.choice(string.ascii_letters + string.digits) for i in range(10000)]
)

print(time.perf_counter_ns() - started)
```

#### timeit
<a id="markdown-timeit" name="timeit"></a>

```py
import time # 計測
import timeit # 計測
import random, string # ランダム文字列生成


def long_long_proc(n=10000):
    print(
        [random.choice(string.ascii_letters + string.digits) for i in range(n)]
    )


result = timeit.timeit(long_long_proc, number=1)
print(result)


result = timeit.repeat('long_long_proc(1000)', globals=globals(), number=10, repeat=3)
print(result)
```


## str(文字列)
<a id="markdown-str%E6%96%87%E5%AD%97%E5%88%97" name="str%E6%96%87%E5%AD%97%E5%88%97"></a>

```py
print('str\nstr')
print("str\nstr")
print(str(123))
print('cq' * 3) # 文字列の繰り返し
print('cq' + 'cq') # 文字列をつなげる(連結／結合)
print('cq' 'cq' 'cq') # 文字列を演算子なしでつなげる
```

> str
>
> str

> str
>
> str

> 123

> cqcqcq
>
> cqcqcq


### エスケープシーケンス
<a id="markdown-%E3%82%A8%E3%82%B9%E3%82%B1%E3%83%BC%E3%83%97%E3%82%B7%E3%83%BC%E3%82%B1%E3%83%B3%E3%82%B9" name="%E3%82%A8%E3%82%B9%E3%82%B1%E3%83%BC%E3%83%97%E3%82%B7%E3%83%BC%E3%82%B1%E3%83%B3%E3%82%B9"></a>

| 項目         | 内容                                                                  |
| ------------ | --------------------------------------------------------------------- |
| '\\'         | \                                                                     |
| '\''         | '                                                                     |
| "\""         | "                                                                     |
| '\a'         | ベル                                                                  |
| '\b'         | バックスペース                                                        |
| '\f'         | フォームフィード                                                      |
| '\n'         | LF                                                                    |
| '\r'         | CR                                                                    |
| '\t'         | タブ                                                                  |
| '\v'         | 垂直タブ                                                              |
| '\nnn'       | 8 進表記文字(n は 0 ～ 7)                                             |
| '\xnn'       | 16 進表記文字(n は 0 ～ f)                                            |
| '\uxxxx'     | ユニコード文字 xxxx (xxxx は 10 進数　例: u'\u3042'→'あ')             |
| '\Uxxxxxxxx' | ユニコード文字 xxxxxxxx (xxxxxxxx は 10 進数　例: U'\U00003042'→'あ') |
| '\N{name}'   | Unicode データベース文字 (例: u'\N{HIRAGANA LETTER A}'→'あ')          |


### RAW 文字列
<a id="markdown-raw-%E6%96%87%E5%AD%97%E5%88%97" name="raw-%E6%96%87%E5%AD%97%E5%88%97"></a>

```py
print(r'str\nstr') # エスケープシーケンスが無視される
print(R'str\nstr') # エスケープシーケンスが無視される
```

> str\nstr
>
> str\nstr


### ヒアドキュメント
<a id="markdown-%E3%83%92%E3%82%A2%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88" name="%E3%83%92%E3%82%A2%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88"></a>

```py
hoge = '''abc
def
ghi'''

print(hoge)
```

> abc
>
> def
>
> ghi

```py
piyo = 'abc \
def'

print(piyo)

fuga = ('abc'
    'def'
    'ghi')

print(fuga)
```

> abc def
>
> abcdefghi


#### 文字列の大小比較
<a id="markdown-%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E5%A4%A7%E5%B0%8F%E6%AF%94%E8%BC%83" name="%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E5%A4%A7%E5%B0%8F%E6%AF%94%E8%BC%83"></a>

```py
left = 'A'
right = 'a'
print(left < right)
left = 'abc'
right = 'abb'
print(left < right)
```

> True
>
> False


#### 文字列の連結
<a id="markdown-%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E9%80%A3%E7%B5%90" name="%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E9%80%A3%E7%B5%90"></a>

```py
import random, string


# 低速
s = [random.choice(string.ascii_letters + string.digits) for i in range(10000)]
result = ''
for c in s:
    result += c
print(result)


# 高速
s = [random.choice(string.ascii_letters + string.digits) for i in range(10000)]
result = []
for c in s:
    result.append(c)
print(''.join(result))
```


### 文字列のフォーマット
<a id="markdown-%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%83%E3%83%88" name="%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%83%E3%83%88"></a>

フォーマットに利用する関数には以下の種類がある

- 組み込み関数`format()`
- `str.format()`
- f 文字列

| 種別           | 書き方                                                          | 結果                                      |
| -------------- | --------------------------------------------------------------- | ----------------------------------------- |
| `format()`     | `format(255, '06o')`                                            | `'000377'`                                |
| `str.format()` | `'{:06d}'.format(255)`                                          | `'000255'`                                |
| f 文字列       | `f'value : {255:04}'`                                           | `'value : 0255'`                          |
|                | `strval=255`<br>`f'value : {strval:06o}'`                       | `'value : 000377'`                        |
|                | `strval=255`<br>`f'value : {strval=:06x}'`                      | `'value : strval=0000ff'`<br>変数名も表示 |
|                | `strval=255`<br>`length=6`<br>`f'value : {strval=:0{length}o}'` | `'value : strval=000377'`<br>入れ子       |

print('{n:0{i}}'.format(n=n, i=i))

詳細は[書式指定子](#書式指定子)の項を参照


#### ゼロ埋め
<a id="markdown-%E3%82%BC%E3%83%AD%E5%9F%8B%E3%82%81" name="%E3%82%BC%E3%83%AD%E5%9F%8B%E3%82%81"></a>

| 関数                            | 値           |                  |
| ------------------------------- | ------------ | ---------------- |
| `print('12345'.zfill(8))`       | `00012345`   |                  |
| `print('1234567890'.zfill(8))`  | `1234567890` |                  |
| `print('+1234'.zfill(8))`       | `+0001234`   | +の後ろに 0 埋め |
| `print('-1234'.zfill(8))`       | `-0001234`   | -の後ろに 0 埋め |
| `print('-a1234'.zfill(8))`      | `-00a1234`   |                  |
| `print('xyz'.zfill(8))`         | `00000xyz`   |                  |
| `print(str(12345).zfill(8))`    | `00012345`   |                  |
|                                 |              |                  |
| `print('1234'.rjust(8, '0'))`   | `00001234`   |                  |
| `print('1234'.ljust(8, '0'))`   | `12340000`   |                  |
| `print('1234'.center(8, '0'))`  | `00123400`   |                  |
| `print('-1234'.rjust(8, '0'))`  | `000-1234`   |                  |
| `print('-1234'.ljust(8, '0'))`  | `-1234000`   |                  |
| `print('-1234'.center(8, '0'))` | `0-123400`   |                  |


#### 書式指定子
<a id="markdown-%E6%9B%B8%E5%BC%8F%E6%8C%87%E5%AE%9A%E5%AD%90" name="%E6%9B%B8%E5%BC%8F%E6%8C%87%E5%AE%9A%E5%AD%90"></a>

| 項目 | \*  | fill                              | \*           | align | \*                 | sign     | \*        | `#`  | `0`    | width        | \*           | grouping_option | \*         | precision             | \*                                      | type   | \*                                   |
| ---- | --- | --------------------------------- | ------------ | ----- | ------------------ | -------- | --------- | ---- | ------ | ------------ | ------------ | --------------- | ---------- | --------------------- | --------------------------------------- | ------ | ------------------------------------ |
|      |     | パディングに使う文字<sup>\*</sup> | (任意の文字) | 方向  |                    | 符号     |           | n 進 | 0 埋め | フィールド幅 | (任意の数値) | 桁区切り        |            | 小数桁数(type=f のみ) |                                         | 表現型 |                                      |
|      |     |                                   |              | `<`   | 左詰め             | `+`      | `+／-`    |      |        |              |              | `,`             | 3 桁区切り | `.<桁数>`             |                                         | `b`    | 2 進数                               |
|      |     |                                   |              | `>`   | 右詰め             | `-`      | `-` のみ  |      |        |              |              |                 |            | `.1`                  | 小数点以下１桁（小数点 2 位を四捨五入） | `c`    | Unicode 文字                         |
|      |     |                                   |              | `=`   | 符号の後ろを埋める | 半角空白 | `空白／-` |      |        |              |              |                 |            |                       |                                         | `d`    | 10 進数                              |
|      |     |                                   |              | `^`   | 中央               |          |           |      |        |              |              |                 |            |                       |                                         | `e`    | 指数表記                             |
|      |     |                                   |              |       |                    |          |           |      |        |              |              |                 |            |                       |                                         | `E`    | 大文字の `E` を使う指数表記          |
|      |     |                                   |              |       |                    |          |           |      |        |              |              |                 |            |                       |                                         | `f`    | 固定小数点数表記                     |
|      |     |                                   |              |       |                    |          |           |      |        |              |              |                 |            |                       |                                         | `F`    | (`nan` => `NAN`、`inf` => `INF`)     |
|      |     |                                   |              |       |                    |          |           |      |        |              |              |                 |            |                       |                                         | `g`    | 桁に応じて固定小数点か指数表記で表示 |
|      |     |                                   |              |       |                    |          |           |      |        |              |              |                 |            |                       |                                         | `G`    | (指数表記の時に`E`を使う)            |
|      |     |                                   |              |       |                    |          |           |      |        |              |              |                 |            |                       |                                         | `n`    | 数値(数値分割文字が挿入される)       |
|      |     |                                   |              |       |                    |          |           |      |        |              |              |                 |            |                       |                                         | `o`    | 8 進数                               |
|      |     |                                   |              |       |                    |          |           |      |        |              |              |                 |            |                       |                                         | `s`    | 文字列                               |
|      |     |                                   |              |       |                    |          |           |      |        |              |              |                 |            |                       |                                         | `x`    | 16 進数                              |
|      |     |                                   |              |       |                    |          |           |      |        |              |              |                 |            |                       |                                         | `X`    | `A`以降の数字に大文字を使う 16 進数  |
|      |     |                                   |              |       |                    |          |           |      |        |              |              |                 |            |                       |                                         | `%`    | 数値を 100 倍して%表記               |

注)f 文字列や str.format()では、fill に `{` と `}`を使えない


#### format 関数
<a id="markdown-format-%E9%96%A2%E6%95%B0" name="format-%E9%96%A2%E6%95%B0"></a>


#### str.format 関数
<a id="markdown-str.format-%E9%96%A2%E6%95%B0" name="str.format-%E9%96%A2%E6%95%B0"></a>

| 関数                            | 値           |                                     |
| ------------------------------- | ------------ | ----------------------------------- |
| `print('{}'.format(1))`         | `1`          |                                     |
| `print('{{}}'.format(1))`       | `{}`         | {}自体を記述したい場合は 2 つ重ねる |
| `print('{:+}'.format(1))`       | `+1`         | 正の数でも符号を表示                |
| `print('{:0=10}'.format(100))`  | `0000000100` | ゼロ埋め                            |
| `print('{:010}'.format(100))`   | `0000000100` |                                     |
| `print('{:0=10}'.format(-100))` | `-000000100` |                                     |
| `print('{:010}'.format(-100))`  | `-000000100` |                                     |
| `print('{:w<10}'.format(1))`    | `1wwwwwwwww` | 左寄せ                              |
| `print('{:0<10}'.format(1))`    | `1000000000` |                                     |
| `print('{:w>10}'.format(1))`    | `wwwwwwwww1` | 右寄せ                              |
| `print('{:0>10}'.format(1))`    | `0000000001` |                                     |
| `print('{:w^10}'.format(1))`    | `wwww1wwwww` | センタリング(中央寄せ)              |
| `print('{:0^10}'.format(1))`    | `0000100000` |                                     |

- 入れ子

```py
val = 15
digits = 6

'{:0>{width}b}'.format(val, width=digits)
'{0:0>{1}b}'.format(val, digits)
'{:0>{}{}}'.format(val, digits, 'b')
'{:{}{}{}}'.format(val, '0>',digits, 'b')
```


##### 整列
<a id="markdown-%E6%95%B4%E5%88%97" name="%E6%95%B4%E5%88%97"></a>

| 関数                                                         | 値      |                        |
| ------------------------------------------------------------ | ------- | ---------------------- |
| `print('{} {} {}'.format(1, 2, 3))`                          | `1 2 3` | 複数の値を埋め込む     |
| `print('{2} {0} {1}'.format(1, 2, 3))`                       | `3 1 2` | 埋め込み順序を指定する |
| `print('{one} {three} {two}'.format(one=1, two=2, three=3))` | `1 3 2` | 埋め込み順序を指定する |


##### 小数点以下の桁数
<a id="markdown-%E5%B0%8F%E6%95%B0%E7%82%B9%E4%BB%A5%E4%B8%8B%E3%81%AE%E6%A1%81%E6%95%B0" name="%E5%B0%8F%E6%95%B0%E7%82%B9%E4%BB%A5%E4%B8%8B%E3%81%AE%E6%A1%81%E6%95%B0"></a>

```py
print('{:.0f}'.format(1.5))
print('{:.0f}'.format(2.5)) # 偶数への丸め(JIS Z 8401)なので、3ではなく2となる(round関数と同様)
```

> 2
>
> 2


##### 桁区切り文字
<a id="markdown-%E6%A1%81%E5%8C%BA%E5%88%87%E3%82%8A%E6%96%87%E5%AD%97" name="%E6%A1%81%E5%8C%BA%E5%88%87%E3%82%8A%E6%96%87%E5%AD%97"></a>

```py
print('{:,}'.format(1234567))
```

> 1,234,567


##### 指数表記
<a id="markdown-%E6%8C%87%E6%95%B0%E8%A1%A8%E8%A8%98" name="%E6%8C%87%E6%95%B0%E8%A1%A8%E8%A8%98"></a>

```py
print('{:.3e}'.format(1.234567))
```

> 1.235e+00


##### 2 進数、8 進数、16 進数
<a id="markdown-%E9%80%B2%E6%95%B0%E3%80%818-%E9%80%B2%E6%95%B0%E3%80%8116-%E9%80%B2%E6%95%B0" name="%E9%80%B2%E6%95%B0%E3%80%818-%E9%80%B2%E6%95%B0%E3%80%8116-%E9%80%B2%E6%95%B0"></a>

| 関数                         | 値           |                     |
| ---------------------------- | ------------ | ------------------- |
| `print('{:d}'.format(255))`  | `255`        | 10 進数             |
|                              |              |                     |
| `print('{:b}'.format(255))`  | `11111111`   | 2 進数              |
| `print('{:o}'.format(255))`  | `377`        | 8 進数              |
| `print('{:x}'.format(255))`  | `ff`         | 16 進数             |
| `print('{:#b}'.format(255))` | `0b11111111` | 2 進数(接頭辞付き)  |
| `print('{:#o}'.format(255))` | `0o377`      | 8 進数(接頭辞付き)  |
| `print('{:#x}'.format(255))` | `0xff`       | 16 進数(接頭辞付き) |


##### リストの値を代入
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E5%80%A4%E3%82%92%E4%BB%A3%E5%85%A5" name="%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E5%80%A4%E3%82%92%E4%BB%A3%E5%85%A5"></a>

```py
lst = ['first', 'second', 'third']
mes = '{}: {}{}'.format(*lst)
print(mes)

mes = '{0[0]}: {0[1]}{0[2]}'.format(lst)
print(mes)
```

> first: secondthird
>
> first: secondthird

```py
# 複数のリストから値を埋め込む
lst1 = ['first', 'second', 'third']
lst2 = ['one', 'two', 'three']
mes = '{0[0]}: {0[1]}{0[2]}\t{1[0]}: {1[1]}{1[2]}'.format(lst1, lst2)
print(mes)
```

> first: secondthird one: twothree


##### タプルの値を代入
<a id="markdown-%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E5%80%A4%E3%82%92%E4%BB%A3%E5%85%A5" name="%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E5%80%A4%E3%82%92%E4%BB%A3%E5%85%A5"></a>

```py
tpl = ('first', 'second', 'third')
mes = '{}: {}{}'.format(*tpl)
print(mes)

mes = '{0[0]}: {0[1]}{0[2]}'.format(tpl)
print(mes)
```

> first: secondthird
>
> first: secondthird


##### 辞書の値を代入
<a id="markdown-%E8%BE%9E%E6%9B%B8%E3%81%AE%E5%80%A4%E3%82%92%E4%BB%A3%E5%85%A5" name="%E8%BE%9E%E6%9B%B8%E3%81%AE%E5%80%A4%E3%82%92%E4%BB%A3%E5%85%A5"></a>

```py
dct = { 'aaa':'first', 'bbb':'second', 'ccc':'third'}
mes = '{aaa}: {bbb}{ccc}'.format(**dct)
print(mes)
```

> first: secondthird


##### クラスの属性値を代入
<a id="markdown-%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%AE%E5%B1%9E%E6%80%A7%E5%80%A4%E3%82%92%E4%BB%A3%E5%85%A5" name="%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%AE%E5%B1%9E%E6%80%A7%E5%80%A4%E3%82%92%E4%BB%A3%E5%85%A5"></a>

```py
class MyClass:
    id = 1
    name = 'n1'

myClass = MyClass()
print('{0.id} {0.name}'.format(myClass)) # クラスの属性を指定する
```

> 1 n1 \# クラスの属性を指定する


#### f 文字列
<a id="markdown-f-%E6%96%87%E5%AD%97%E5%88%97" name="f-%E6%96%87%E5%AD%97%E5%88%97"></a>

```py
one = 'first'
two = 2
three = '3rd'
mes = f'{one}: {two}{three}'
print(mes)
```

> first: 23rd

```py
strval=255
mes = f'value : {strval=:06d}'
print(mes)

# RAW文字列との組み合わせ
length=32
mes = fr'value :\t{strval=:0{length}o}'
print(mes)
```

> value : strval=000255
>
> # RAW 文字列との組み合わせ
<a id="markdown-%3E-%23-raw-%E6%96%87%E5%AD%97%E5%88%97%E3%81%A8%E3%81%AE%E7%B5%84%E3%81%BF%E5%90%88%E3%82%8F%E3%81%9B" name="%3E-%23-raw-%E6%96%87%E5%AD%97%E5%88%97%E3%81%A8%E3%81%AE%E7%B5%84%E3%81%BF%E5%90%88%E3%82%8F%E3%81%9B"></a>
>
> value :\tstrval=00000000000000000000000000000377


##### リストの値を代入
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E5%80%A4%E3%82%92%E4%BB%A3%E5%85%A5" name="%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E5%80%A4%E3%82%92%E4%BB%A3%E5%85%A5"></a>

```py
lst = ['first', 'second', 'third']
mes = f'{lst[0]}: {lst[1]}{lst[2]}'
print(mes)
```

> first: secondthird


##### タプルの値を代入
<a id="markdown-%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E5%80%A4%E3%82%92%E4%BB%A3%E5%85%A5" name="%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E5%80%A4%E3%82%92%E4%BB%A3%E5%85%A5"></a>

```py
tpl = ('first', 'second', 'third')
mes = f'{tpl[0]}: {tpl[1]}{tpl[2]}'
print(mes)
```

> first: secondthird


##### 辞書の値を代入
<a id="markdown-%E8%BE%9E%E6%9B%B8%E3%81%AE%E5%80%A4%E3%82%92%E4%BB%A3%E5%85%A5" name="%E8%BE%9E%E6%9B%B8%E3%81%AE%E5%80%A4%E3%82%92%E4%BB%A3%E5%85%A5"></a>

`f""` の中では `"` は使えず、 `f''`の中では `'` は使えない(バックスラッシュでエスケープできない)

```py
dct = { 'aaa':'first', 'bbb':'second', 'ccc':'third'}
mes = f"{dct['aaa']}: {dct['bbb']}{dct['ccc']}"
print(mes)
```

> first: secondthird


#### フォーマット演算子
<a id="markdown-%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%83%E3%83%88%E6%BC%94%E7%AE%97%E5%AD%90" name="%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%83%E3%83%88%E6%BC%94%E7%AE%97%E5%AD%90"></a>

- 種類

| 関数                  | 種類    | 値             |
| --------------------- | ------- | -------------- |
| `print('%c' % 'A')`   | 文字    | `A`            |
| `print('%s' % 'ABC')` | 文字列  | `ABC`          |
| `print('%r' % 'ABC')` |         | `ABC`          |
|                       |         |                |
| `print('%d' % 123)`   | 整数    | `123`          |
| `print('%i' % 123)`   |         | `123`          |
|                       |         |                |
| `print('%e' % 1.23)`  | 指数    | `1.230000e+00` |
| `print('%E' % 1.23)`  |         | `1.230000E+00` |
| `print('%f' % 1.23)`  | 実数    | `1.23`         |
| `print('%F' % 1.23)`  |         | `1.23`         |
|                       |         |                |
| `print('%o' % 255)`   | 8 進数  | `377`          |
| `print('%b' % 255)`   |         | `377`          |
|                       |         |                |
| `print('%x' % 255)`   | 16 進数 | `ff`           |
| `print('%X' % 255)`   |         | `FF`           |
|                       |         |                |
| `print('%d%%' % 100)` | %自体   | `100%`         |

- 配置

| 関数     | 値    | 備考        |
| -------- | ----- | ----------- |
| `print(' | %4s   | ' % 'ABC')` | ` | ABC   | ` | 右寄せ            |
| `print(' | %-4s  | ' % 'ABC')` | ` | ABC   | ` | 左寄せ            |
| `print(' | %4d   | ' % 123)`   | ` | 123   | ` | 右寄せ            |
| `print(' | %-4d  | ' % 123)`   | ` | 123   | ` | 左寄せ            |
| `print(' | %+5d  | ' % 123)`   | ` | +123  | ` | ± 符号付き        |
| `print(' | %5.2f | ' % 1.23)`  | ` | 1.23  | ` | 桁数.小数部の桁数 |
| `print(' | %05d  | ' % 123)`   | ` | 00123 | ` | 0 埋め            |


### 文字種チェック
<a id="markdown-%E6%96%87%E5%AD%97%E7%A8%AE%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF" name="%E6%96%87%E5%AD%97%E7%A8%AE%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF"></a>


#### 数値チェック
<a id="markdown-%E6%95%B0%E5%80%A4%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF" name="%E6%95%B0%E5%80%A4%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF"></a>

```py
def is_int(intstr):
    try:
        int(intstr)
        return True
    except ValueError:
        return False
```

```py
def check_numstr(numstr):
    print(
        '{} {} {} {}'.format(
            numstr,
            numstr.isdigit(),
            numstr.isdecimal(),
            numstr.isnumeric()
        )
    )
```

| numstr | isdigit() | isdecimal() | isnumeric() |
| ------ | --------- | ----------- | ----------- |
| `1`    | True      | True        | True        |
| `01`   | True      | True        | True        |
| `１`   | True      | True        | True        |
| `①`    | True      |             | True        |
| `一`   |           |             | True        |
| `1`    |           |             |             |
| `0x11` |           |             |             |
| `1.1`  |           |             |             |

```py
import itertools

print('| chr | isdigit | isdecimal | isnumeric')
print('---------------------------------------')
for number in range(0, 12000):
    char = chr(number)
    if (char.isdigit() or char.isdecimal() or char.isnumeric()):
        print('| {0:>3} | {1:^7} | {2:^9} | {3:9} '.format(
            char,
            'True' if char.isdigit() else ' ',
            'True' if char.isdecimal() else ' ',
            'True' if char.isnumeric() else ' '
        )
    )

```

```
|   0 |  True   |   True    | True
|   1 |  True   |   True    | True
|   2 |  True   |   True    | True
|   3 |  True   |   True    | True
|   4 |  True   |   True    | True
|   5 |  True   |   True    | True
|   6 |  True   |   True    | True
|   7 |  True   |   True    | True
|   8 |  True   |   True    | True
|   9 |  True   |   True    | True
|   ² |  True   |           | True
|   ³ |  True   |           | True
|   ¹ |  True   |           | True
|   ¼ |         |           | True
|   ½ |         |           | True
|   ¾ |         |           | True
|   ٠ |  True   |   True    | True
|   ١ |  True   |   True    | True
|   ٢ |  True   |   True    | True
|   ٣ |  True   |   True    | True
|   ٤ |  True   |   True    | True
|   ٥ |  True   |   True    | True
|   ٦ |  True   |   True    | True
|   ٧ |  True   |   True    | True
|   ٨ |  True   |   True    | True
|   ٩ |  True   |   True    | True
|   ۰ |  True   |   True    | True
|   ۱ |  True   |   True    | True
|   ۲ |  True   |   True    | True
|   ۳ |  True   |   True    | True
|   ۴ |  True   |   True    | True
|   ۵ |  True   |   True    | True
|   ۶ |  True   |   True    | True
|   ۷ |  True   |   True    | True
|   ۸ |  True   |   True    | True
|   ۹ |  True   |   True    | True
|   ߀ |  True   |   True    | True
|   ߁ |  True   |   True    | True
|   ߂ |  True   |   True    | True
|   ߃ |  True   |   True    | True
|   ߄ |  True   |   True    | True
|   ߅ |  True   |   True    | True
|   ߆ |  True   |   True    | True
|   ߇ |  True   |   True    | True
|   ߈ |  True   |   True    | True
|   ߉ |  True   |   True    | True
|   ० |  True   |   True    | True
|   १ |  True   |   True    | True
|   २ |  True   |   True    | True
|   ३ |  True   |   True    | True
|   ४ |  True   |   True    | True
|   ५ |  True   |   True    | True
|   ६ |  True   |   True    | True
|   ७ |  True   |   True    | True
|   ८ |  True   |   True    | True
|   ९ |  True   |   True    | True
|   ০ |  True   |   True    | True
|   ১ |  True   |   True    | True
|   ২ |  True   |   True    | True
|   ৩ |  True   |   True    | True
|   ৪ |  True   |   True    | True
|   ৫ |  True   |   True    | True
|   ৬ |  True   |   True    | True
|   ৭ |  True   |   True    | True
|   ৮ |  True   |   True    | True
|   ৯ |  True   |   True    | True
|   ৴ |         |           | True
|   ৵ |         |           | True
|   ৶ |         |           | True
|   ৷ |         |           | True
|   ৸ |         |           | True
|   ৹ |         |           | True
|   ੦ |  True   |   True    | True
|   ੧ |  True   |   True    | True
|   ੨ |  True   |   True    | True
|   ੩ |  True   |   True    | True
|   ੪ |  True   |   True    | True
|   ੫ |  True   |   True    | True
|   ੬ |  True   |   True    | True
|   ੭ |  True   |   True    | True
|   ੮ |  True   |   True    | True
|   ੯ |  True   |   True    | True
|   ૦ |  True   |   True    | True
|   ૧ |  True   |   True    | True
|   ૨ |  True   |   True    | True
|   ૩ |  True   |   True    | True
|   ૪ |  True   |   True    | True
|   ૫ |  True   |   True    | True
|   ૬ |  True   |   True    | True
|   ૭ |  True   |   True    | True
|   ૮ |  True   |   True    | True
|   ૯ |  True   |   True    | True
|   ୦ |  True   |   True    | True
|   ୧ |  True   |   True    | True
|   ୨ |  True   |   True    | True
|   ୩ |  True   |   True    | True
|   ୪ |  True   |   True    | True
|   ୫ |  True   |   True    | True
|   ୬ |  True   |   True    | True
|   ୭ |  True   |   True    | True
|   ୮ |  True   |   True    | True
|   ୯ |  True   |   True    | True
|   ୲ |         |           | True
|   ୳ |         |           | True
|   ୴ |         |           | True
|   ୵ |         |           | True
|   ୶ |         |           | True
|   ୷ |         |           | True
|   ௦ |  True   |   True    | True
|   ௧ |  True   |   True    | True
|   ௨ |  True   |   True    | True
|   ௩ |  True   |   True    | True
|   ௪ |  True   |   True    | True
|   ௫ |  True   |   True    | True
|   ௬ |  True   |   True    | True
|   ௭ |  True   |   True    | True
|   ௮ |  True   |   True    | True
|   ௯ |  True   |   True    | True
|   ௰ |         |           | True
|   ௱ |         |           | True
|   ௲ |         |           | True
|   ౦ |  True   |   True    | True
|   ౧ |  True   |   True    | True
|   ౨ |  True   |   True    | True
|   ౩ |  True   |   True    | True
|   ౪ |  True   |   True    | True
|   ౫ |  True   |   True    | True
|   ౬ |  True   |   True    | True
|   ౭ |  True   |   True    | True
|   ౮ |  True   |   True    | True
|   ౯ |  True   |   True    | True
|   ౸ |         |           | True
|   ౹ |         |           | True
|   ౺ |         |           | True
|   ౻ |         |           | True
|   ౼ |         |           | True
|   ౽ |         |           | True
|   ౾ |         |           | True
|   ೦ |  True   |   True    | True
|   ೧ |  True   |   True    | True
|   ೨ |  True   |   True    | True
|   ೩ |  True   |   True    | True
|   ೪ |  True   |   True    | True
|   ೫ |  True   |   True    | True
|   ೬ |  True   |   True    | True
|   ೭ |  True   |   True    | True
|   ೮ |  True   |   True    | True
|   ೯ |  True   |   True    | True
|   ൘ |         |           | True
|   ൙ |         |           | True
|   ൚ |         |           | True
|   ൛ |         |           | True
|   ൜ |         |           | True
|   ൝ |         |           | True
|   ൞ |         |           | True
|   ൦ |  True   |   True    | True
|   ൧ |  True   |   True    | True
|   ൨ |  True   |   True    | True
|   ൩ |  True   |   True    | True
|   ൪ |  True   |   True    | True
|   ൫ |  True   |   True    | True
|   ൬ |  True   |   True    | True
|   ൭ |  True   |   True    | True
|   ൮ |  True   |   True    | True
|   ൯ |  True   |   True    | True
|   ൰ |         |           | True
|   ൱ |         |           | True
|   ൲ |         |           | True
|   ൳ |         |           | True
|   ൴ |         |           | True
|   ൵ |         |           | True
|   ൶ |         |           | True
|   ൷ |         |           | True
|   ൸ |         |           | True
|   ෦ |  True   |   True    | True
|   ෧ |  True   |   True    | True
|   ෨ |  True   |   True    | True
|   ෩ |  True   |   True    | True
|   ෪ |  True   |   True    | True
|   ෫ |  True   |   True    | True
|   ෬ |  True   |   True    | True
|   ෭ |  True   |   True    | True
|   ෮ |  True   |   True    | True
|   ෯ |  True   |   True    | True
|   ๐ |  True   |   True    | True
|   ๑ |  True   |   True    | True
|   ๒ |  True   |   True    | True
|   ๓ |  True   |   True    | True
|   ๔ |  True   |   True    | True
|   ๕ |  True   |   True    | True
|   ๖ |  True   |   True    | True
|   ๗ |  True   |   True    | True
|   ๘ |  True   |   True    | True
|   ๙ |  True   |   True    | True
|   ໐ |  True   |   True    | True
|   ໑ |  True   |   True    | True
|   ໒ |  True   |   True    | True
|   ໓ |  True   |   True    | True
|   ໔ |  True   |   True    | True
|   ໕ |  True   |   True    | True
|   ໖ |  True   |   True    | True
|   ໗ |  True   |   True    | True
|   ໘ |  True   |   True    | True
|   ໙ |  True   |   True    | True
|   ༠ |  True   |   True    | True
|   ༡ |  True   |   True    | True
|   ༢ |  True   |   True    | True
|   ༣ |  True   |   True    | True
|   ༤ |  True   |   True    | True
|   ༥ |  True   |   True    | True
|   ༦ |  True   |   True    | True
|   ༧ |  True   |   True    | True
|   ༨ |  True   |   True    | True
|   ༩ |  True   |   True    | True
|   ༪ |         |           | True
|   ༫ |         |           | True
|   ༬ |         |           | True
|   ༭ |         |           | True
|   ༮ |         |           | True
|   ༯ |         |           | True
|   ༰ |         |           | True
|   ༱ |         |           | True
|   ༲ |         |           | True
|   ༳ |         |           | True
|   ၀ |  True   |   True    | True
|   ၁ |  True   |   True    | True
|   ၂ |  True   |   True    | True
|   ၃ |  True   |   True    | True
|   ၄ |  True   |   True    | True
|   ၅ |  True   |   True    | True
|   ၆ |  True   |   True    | True
|   ၇ |  True   |   True    | True
|   ၈ |  True   |   True    | True
|   ၉ |  True   |   True    | True
|   ႐ |  True   |   True    | True
|   ႑ |  True   |   True    | True
|   ႒ |  True   |   True    | True
|   ႓ |  True   |   True    | True
|   ႔ |  True   |   True    | True
|   ႕ |  True   |   True    | True
|   ႖ |  True   |   True    | True
|   ႗ |  True   |   True    | True
|   ႘ |  True   |   True    | True
|   ႙ |  True   |   True    | True
|   ፩ |  True   |           | True
|   ፪ |  True   |           | True
|   ፫ |  True   |           | True
|   ፬ |  True   |           | True
|   ፭ |  True   |           | True
|   ፮ |  True   |           | True
|   ፯ |  True   |           | True
|   ፰ |  True   |           | True
|   ፱ |  True   |           | True
|   ፲ |         |           | True
|   ፳ |         |           | True
|   ፴ |         |           | True
|   ፵ |         |           | True
|   ፶ |         |           | True
|   ፷ |         |           | True
|   ፸ |         |           | True
|   ፹ |         |           | True
|   ፺ |         |           | True
|   ፻ |         |           | True
|   ፼ |         |           | True
|   ᛮ |         |           | True
|   ᛯ |         |           | True
|   ᛰ |         |           | True
|   ០ |  True   |   True    | True
|   ១ |  True   |   True    | True
|   ២ |  True   |   True    | True
|   ៣ |  True   |   True    | True
|   ៤ |  True   |   True    | True
|   ៥ |  True   |   True    | True
|   ៦ |  True   |   True    | True
|   ៧ |  True   |   True    | True
|   ៨ |  True   |   True    | True
|   ៩ |  True   |   True    | True
|   ៰ |         |           | True
|   ៱ |         |           | True
|   ៲ |         |           | True
|   ៳ |         |           | True
|   ៴ |         |           | True
|   ៵ |         |           | True
|   ៶ |         |           | True
|   ៷ |         |           | True
|   ៸ |         |           | True
|   ៹ |         |           | True
|   ᠐ |  True   |   True    | True
|   ᠑ |  True   |   True    | True
|   ᠒ |  True   |   True    | True
|   ᠓ |  True   |   True    | True
|   ᠔ |  True   |   True    | True
|   ᠕ |  True   |   True    | True
|   ᠖ |  True   |   True    | True
|   ᠗ |  True   |   True    | True
|   ᠘ |  True   |   True    | True
|   ᠙ |  True   |   True    | True
|   ᥆ |  True   |   True    | True
|   ᥇ |  True   |   True    | True
|   ᥈ |  True   |   True    | True
|   ᥉ |  True   |   True    | True
|   ᥊ |  True   |   True    | True
|   ᥋ |  True   |   True    | True
|   ᥌ |  True   |   True    | True
|   ᥍ |  True   |   True    | True
|   ᥎ |  True   |   True    | True
|   ᥏ |  True   |   True    | True
|   ᧐ |  True   |   True    | True
|   ᧑ |  True   |   True    | True
|   ᧒ |  True   |   True    | True
|   ᧓ |  True   |   True    | True
|   ᧔ |  True   |   True    | True
|   ᧕ |  True   |   True    | True
|   ᧖ |  True   |   True    | True
|   ᧗ |  True   |   True    | True
|   ᧘ |  True   |   True    | True
|   ᧙ |  True   |   True    | True
|   ᧚ |  True   |           | True
|   ᪀ |  True   |   True    | True
|   ᪁ |  True   |   True    | True
|   ᪂ |  True   |   True    | True
|   ᪃ |  True   |   True    | True
|   ᪄ |  True   |   True    | True
|   ᪅ |  True   |   True    | True
|   ᪆ |  True   |   True    | True
|   ᪇ |  True   |   True    | True
|   ᪈ |  True   |   True    | True
|   ᪉ |  True   |   True    | True
|   ᪐ |  True   |   True    | True
|   ᪑ |  True   |   True    | True
|   ᪒ |  True   |   True    | True
|   ᪓ |  True   |   True    | True
|   ᪔ |  True   |   True    | True
|   ᪕ |  True   |   True    | True
|   ᪖ |  True   |   True    | True
|   ᪗ |  True   |   True    | True
|   ᪘ |  True   |   True    | True
|   ᪙ |  True   |   True    | True
|   ᭐ |  True   |   True    | True
|   ᭑ |  True   |   True    | True
|   ᭒ |  True   |   True    | True
|   ᭓ |  True   |   True    | True
|   ᭔ |  True   |   True    | True
|   ᭕ |  True   |   True    | True
|   ᭖ |  True   |   True    | True
|   ᭗ |  True   |   True    | True
|   ᭘ |  True   |   True    | True
|   ᭙ |  True   |   True    | True
|   ᮰ |  True   |   True    | True
|   ᮱ |  True   |   True    | True
|   ᮲ |  True   |   True    | True
|   ᮳ |  True   |   True    | True
|   ᮴ |  True   |   True    | True
|   ᮵ |  True   |   True    | True
|   ᮶ |  True   |   True    | True
|   ᮷ |  True   |   True    | True
|   ᮸ |  True   |   True    | True
|   ᮹ |  True   |   True    | True
|   ᱀ |  True   |   True    | True
|   ᱁ |  True   |   True    | True
|   ᱂ |  True   |   True    | True
|   ᱃ |  True   |   True    | True
|   ᱄ |  True   |   True    | True
|   ᱅ |  True   |   True    | True
|   ᱆ |  True   |   True    | True
|   ᱇ |  True   |   True    | True
|   ᱈ |  True   |   True    | True
|   ᱉ |  True   |   True    | True
|   ᱐ |  True   |   True    | True
|   ᱑ |  True   |   True    | True
|   ᱒ |  True   |   True    | True
|   ᱓ |  True   |   True    | True
|   ᱔ |  True   |   True    | True
|   ᱕ |  True   |   True    | True
|   ᱖ |  True   |   True    | True
|   ᱗ |  True   |   True    | True
|   ᱘ |  True   |   True    | True
|   ᱙ |  True   |   True    | True
|   ⁰ |  True   |           | True
|   ⁴ |  True   |           | True
|   ⁵ |  True   |           | True
|   ⁶ |  True   |           | True
|   ⁷ |  True   |           | True
|   ⁸ |  True   |           | True
|   ⁹ |  True   |           | True
|   ₀ |  True   |           | True
|   ₁ |  True   |           | True
|   ₂ |  True   |           | True
|   ₃ |  True   |           | True
|   ₄ |  True   |           | True
|   ₅ |  True   |           | True
|   ₆ |  True   |           | True
|   ₇ |  True   |           | True
|   ₈ |  True   |           | True
|   ₉ |  True   |           | True
|   ⅐ |         |           | True
|   ⅑ |         |           | True
|   ⅒ |         |           | True
|   ⅓ |         |           | True
|   ⅔ |         |           | True
|   ⅕ |         |           | True
|   ⅖ |         |           | True
|   ⅗ |         |           | True
|   ⅘ |         |           | True
|   ⅙ |         |           | True
|   ⅚ |         |           | True
|   ⅛ |         |           | True
|   ⅜ |         |           | True
|   ⅝ |         |           | True
|   ⅞ |         |           | True
|   ⅟ |         |           | True
|   Ⅰ |         |           | True
|   Ⅱ |         |           | True
|   Ⅲ |         |           | True
|   Ⅳ |         |           | True
|   Ⅴ |         |           | True
|   Ⅵ |         |           | True
|   Ⅶ |         |           | True
|   Ⅷ |         |           | True
|   Ⅸ |         |           | True
|   Ⅹ |         |           | True
|   Ⅺ |         |           | True
|   Ⅻ |         |           | True
|   Ⅼ |         |           | True
|   Ⅽ |         |           | True
|   Ⅾ |         |           | True
|   Ⅿ |         |           | True
|   ⅰ |         |           | True
|   ⅱ |         |           | True
|   ⅲ |         |           | True
|   ⅳ |         |           | True
|   ⅴ |         |           | True
|   ⅵ |         |           | True
|   ⅶ |         |           | True
|   ⅷ |         |           | True
|   ⅸ |         |           | True
|   ⅹ |         |           | True
|   ⅺ |         |           | True
|   ⅻ |         |           | True
|   ⅼ |         |           | True
|   ⅽ |         |           | True
|   ⅾ |         |           | True
|   ⅿ |         |           | True
|   ↀ |         |           | True
|   ↁ |         |           | True
|   ↂ |         |           | True
|   ↅ |         |           | True
|   ↆ |         |           | True
|   ↇ |         |           | True
|   ↈ |         |           | True
|   ↉ |         |           | True
|   ① |  True   |           | True
|   ② |  True   |           | True
|   ③ |  True   |           | True
|   ④ |  True   |           | True
|   ⑤ |  True   |           | True
|   ⑥ |  True   |           | True
|   ⑦ |  True   |           | True
|   ⑧ |  True   |           | True
|   ⑨ |  True   |           | True
|   ⑩ |         |           | True
|   ⑪ |         |           | True
|   ⑫ |         |           | True
|   ⑬ |         |           | True
|   ⑭ |         |           | True
|   ⑮ |         |           | True
|   ⑯ |         |           | True
|   ⑰ |         |           | True
|   ⑱ |         |           | True
|   ⑲ |         |           | True
|   ⑳ |         |           | True
|   ⑴ |  True   |           | True
|   ⑵ |  True   |           | True
|   ⑶ |  True   |           | True
|   ⑷ |  True   |           | True
|   ⑸ |  True   |           | True
|   ⑹ |  True   |           | True
|   ⑺ |  True   |           | True
|   ⑻ |  True   |           | True
|   ⑼ |  True   |           | True
|   ⑽ |         |           | True
|   ⑾ |         |           | True
|   ⑿ |         |           | True
|   ⒀ |         |           | True
|   ⒁ |         |           | True
|   ⒂ |         |           | True
|   ⒃ |         |           | True
|   ⒄ |         |           | True
|   ⒅ |         |           | True
|   ⒆ |         |           | True
|   ⒇ |         |           | True
|   ⒈ |  True   |           | True
|   ⒉ |  True   |           | True
|   ⒊ |  True   |           | True
|   ⒋ |  True   |           | True
|   ⒌ |  True   |           | True
|   ⒍ |  True   |           | True
|   ⒎ |  True   |           | True
|   ⒏ |  True   |           | True
|   ⒐ |  True   |           | True
|   ⒑ |         |           | True
|   ⒒ |         |           | True
|   ⒓ |         |           | True
|   ⒔ |         |           | True
|   ⒕ |         |           | True
|   ⒖ |         |           | True
|   ⒗ |         |           | True
|   ⒘ |         |           | True
|   ⒙ |         |           | True
|   ⒚ |         |           | True
|   ⒛ |         |           | True
|   ⓪ |  True   |           | True
|   ⓫ |         |           | True
|   ⓬ |         |           | True
|   ⓭ |         |           | True
|   ⓮ |         |           | True
|   ⓯ |         |           | True
|   ⓰ |         |           | True
|   ⓱ |         |           | True
|   ⓲ |         |           | True
|   ⓳ |         |           | True
|   ⓴ |         |           | True
|   ⓵ |  True   |           | True
|   ⓶ |  True   |           | True
|   ⓷ |  True   |           | True
|   ⓸ |  True   |           | True
|   ⓹ |  True   |           | True
|   ⓺ |  True   |           | True
|   ⓻ |  True   |           | True
|   ⓼ |  True   |           | True
|   ⓽ |  True   |           | True
|   ⓾ |         |           | True
|   ⓿ |  True   |           | True
|   ❶ |  True   |           | True
|   ❷ |  True   |           | True
|   ❸ |  True   |           | True
|   ❹ |  True   |           | True
|   ❺ |  True   |           | True
|   ❻ |  True   |           | True
|   ❼ |  True   |           | True
|   ❽ |  True   |           | True
|   ❾ |  True   |           | True
|   ❿ |         |           | True
|   ➀ |  True   |           | True
|   ➁ |  True   |           | True
|   ➂ |  True   |           | True
|   ➃ |  True   |           | True
|   ➄ |  True   |           | True
|   ➅ |  True   |           | True
|   ➆ |  True   |           | True
|   ➇ |  True   |           | True
|   ➈ |  True   |           | True
|   ➉ |         |           | True
|   ➊ |  True   |           | True
|   ➋ |  True   |           | True
|   ➌ |  True   |           | True
|   ➍ |  True   |           | True
|   ➎ |  True   |           | True
|   ➏ |  True   |           | True
|   ➐ |  True   |           | True
|   ➑ |  True   |           | True
|   ➒ |  True   |           | True
|   ➓ |         |           | True
|   ⳽  |         |           | True

```


### 最大値・最小値（文字列）
<a id="markdown-%E6%9C%80%E5%A4%A7%E5%80%A4%E3%83%BB%E6%9C%80%E5%B0%8F%E5%80%A4%EF%BC%88%E6%96%87%E5%AD%97%E5%88%97%EF%BC%89" name="%E6%9C%80%E5%A4%A7%E5%80%A4%E3%83%BB%E6%9C%80%E5%B0%8F%E5%80%A4%EF%BC%88%E6%96%87%E5%AD%97%E5%88%97%EF%BC%89"></a>

```py
print(max('abcxyz'))
print(min('abcxyz'))
```

> z
>
> a


### バイト列(byte), Unicode
<a id="markdown-%E3%83%90%E3%82%A4%E3%83%88%E5%88%97byte%2C-unicode" name="%E3%83%90%E3%82%A4%E3%83%88%E5%88%97byte%2C-unicode"></a>


#### Python 3
<a id="markdown-python-3" name="python-3"></a>

```py
print('あいうえお')
print(len('あいうえお'))        # uをつけなくてもUnicodeとして扱われる
print(b'あいうえお')
print(len(b'あいうえお'))       # バイト列として扱われる
print(r'あいう\nえお')          # Raw文字列
print(len(r'あいう\nえお'))
```

> あいうえお
>
> 5
>
> SyntaxError: bytes can only contain ASCII literal characters.
>
> SyntaxError: bytes can only contain ASCII literal characters.
>
> あいう\n えお
>
> 7


#### Python 2
<a id="markdown-python-2" name="python-2"></a>

```py
print u'あいうえお'
print len(u'あいうえお')
print 'あいうえお'
print len('あいうえお')        # バイト列として扱われる
```

> あいうえお
>
> 5
>
> あいうえお
>
> 15


#### 文字列とバイト列の変換
<a id="markdown-%E6%96%87%E5%AD%97%E5%88%97%E3%81%A8%E3%83%90%E3%82%A4%E3%83%88%E5%88%97%E3%81%AE%E5%A4%89%E6%8F%9B" name="%E6%96%87%E5%AD%97%E5%88%97%E3%81%A8%E3%83%90%E3%82%A4%E3%83%88%E5%88%97%E3%81%AE%E5%A4%89%E6%8F%9B"></a>

```py
'foobar'.encode() # b'foobar'
b'foobar'.decode() # 'foobar'

# 文字コードを明示
'foobar'.encode(encoding='utf-8') # b'foobar'
b'foobar'.decode(encoding='utf-8') # 'foobar'
bytes('abcd', encoding='utf-8')
str(b'abcd', encoding='utf-8')

# UnicodeDecodeErrorを無視する
b'\xff'.decode() # UnicodeDecodeError: 'utf-8' codec can't decode byte 0xff in position 0: invalid start byte

b'\xff'.decode('utf-8', 'replace') # '�'
b'\xff'.decode(encoding='utf-8', errors='replace') # '�'

bytes('abcd', encoding='utf-8', errors='replace') # b'abcd'
str(b'abcd', encoding='utf-8', errors='replace') # 'abcd'

```


### 区切り文字による分割
<a id="markdown-%E5%8C%BA%E5%88%87%E3%82%8A%E6%96%87%E5%AD%97%E3%81%AB%E3%82%88%E3%82%8B%E5%88%86%E5%89%B2" name="%E5%8C%BA%E5%88%87%E3%82%8A%E6%96%87%E5%AD%97%E3%81%AB%E3%82%88%E3%82%8B%E5%88%86%E5%89%B2"></a>

```py
hoge = 'abc\ndef\nghi\njkl\nmno\npqr\nstu\nvwx\nyz'
parts = hoge.split('\n')
for key, value in enumerate(parts):
    print('{0}:{1}'.format(key, value))
```

> 0:abc
>
> 1:def
>
> 2:ghi
>
> 3:jkl
>
> 4:mno
>
> 5:pqr
>
> 6:stu
>
> 7:vwx
>
> 8:yz


#### split の引数を指定しないと、空白文字(タブ文字、改行文字を含む)で分割される
<a id="markdown-split-%E3%81%AE%E5%BC%95%E6%95%B0%E3%82%92%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%AA%E3%81%84%E3%81%A8%E3%80%81%E7%A9%BA%E7%99%BD%E6%96%87%E5%AD%97%E3%82%BF%E3%83%96%E6%96%87%E5%AD%97%E3%80%81%E6%94%B9%E8%A1%8C%E6%96%87%E5%AD%97%E3%82%92%E5%90%AB%E3%82%80%E3%81%A7%E5%88%86%E5%89%B2%E3%81%95%E3%82%8C%E3%82%8B" name="split-%E3%81%AE%E5%BC%95%E6%95%B0%E3%82%92%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%AA%E3%81%84%E3%81%A8%E3%80%81%E7%A9%BA%E7%99%BD%E6%96%87%E5%AD%97%E3%82%BF%E3%83%96%E6%96%87%E5%AD%97%E3%80%81%E6%94%B9%E8%A1%8C%E6%96%87%E5%AD%97%E3%82%92%E5%90%AB%E3%82%80%E3%81%A7%E5%88%86%E5%89%B2%E3%81%95%E3%82%8C%E3%82%8B"></a>

```py
hoge = 'a bc\nde f\nghi\njkl\nmno\npqr\nstu\nvwx\ny z'
parts = hoge.split('\n')
print(parts)
```

> ['a bc', 'de f', 'ghi', 'jkl', 'mno', 'pqr', 'stu', 'vwx', 'y z']

| 文字          |
| ------------- |
| スペース ``   |
| タブ `\t`     |
| 改行 `\n`     |
| 復帰 `\r`     |
| 改頁 `\f`     |
| 垂直タブ `\v` |


#### split で分割した後、各要素の先頭・末尾の空白文字を除去する
<a id="markdown-split-%E3%81%A7%E5%88%86%E5%89%B2%E3%81%97%E3%81%9F%E5%BE%8C%E3%80%81%E5%90%84%E8%A6%81%E7%B4%A0%E3%81%AE%E5%85%88%E9%A0%AD%E3%83%BB%E6%9C%AB%E5%B0%BE%E3%81%AE%E7%A9%BA%E7%99%BD%E6%96%87%E5%AD%97%E3%82%92%E9%99%A4%E5%8E%BB%E3%81%99%E3%82%8B" name="split-%E3%81%A7%E5%88%86%E5%89%B2%E3%81%97%E3%81%9F%E5%BE%8C%E3%80%81%E5%90%84%E8%A6%81%E7%B4%A0%E3%81%AE%E5%85%88%E9%A0%AD%E3%83%BB%E6%9C%AB%E5%B0%BE%E3%81%AE%E7%A9%BA%E7%99%BD%E6%96%87%E5%AD%97%E3%82%92%E9%99%A4%E5%8E%BB%E3%81%99%E3%82%8B"></a>

```py
hoge = 'abc, def,\tghi'
parts = [x.strip() for x in hoge.split(',')]
print(parts)
```

> ['abc', 'def', 'ghi']


#### 正規表現で区切り文字を指定して分割
<a id="markdown-%E6%AD%A3%E8%A6%8F%E8%A1%A8%E7%8F%BE%E3%81%A7%E5%8C%BA%E5%88%87%E3%82%8A%E6%96%87%E5%AD%97%E3%82%92%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%A6%E5%88%86%E5%89%B2" name="%E6%AD%A3%E8%A6%8F%E8%A1%A8%E7%8F%BE%E3%81%A7%E5%8C%BA%E5%88%87%E3%82%8A%E6%96%87%E5%AD%97%E3%82%92%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%A6%E5%88%86%E5%89%B2"></a>

```py
import re

hoge = 'abc\n  def\nghi \njkl\nmno\npqr\nstu\nvwx\nyz.'
parts = re.split('[,. \\s]+', hoge)
for key, value in enumerate(parts):
    print('{0}:{1}'.format(key, value))
```

> 0:abc
>
> 1:def
>
> 2:ghi
>
> 3:jkl
>
> 4:mno
>
> 5:pqr
>
> 6:stu
>
> 7:vwx
>
> 8:yz
>
> 9:


### 部分文字列
<a id="markdown-%E9%83%A8%E5%88%86%E6%96%87%E5%AD%97%E5%88%97" name="%E9%83%A8%E5%88%86%E6%96%87%E5%AD%97%E5%88%97"></a>


#### 1 文字ずつ処理する
<a id="markdown-%E6%96%87%E5%AD%97%E3%81%9A%E3%81%A4%E5%87%A6%E7%90%86%E3%81%99%E3%82%8B" name="%E6%96%87%E5%AD%97%E3%81%9A%E3%81%A4%E5%87%A6%E7%90%86%E3%81%99%E3%82%8B"></a>

```py
for c in 'abc':
    print(c)
```

> a
>
> b
>
> c


##### インデックスを取得
<a id="markdown-%E3%82%A4%E3%83%B3%E3%83%87%E3%83%83%E3%82%AF%E3%82%B9%E3%82%92%E5%8F%96%E5%BE%97" name="%E3%82%A4%E3%83%B3%E3%83%87%E3%83%83%E3%82%AF%E3%82%B9%E3%82%92%E5%8F%96%E5%BE%97"></a>

```py
for i, c in enumerate('abc'):
    print("{0}: {1}".format(i, c))
```

> 0: a
>
> 1: b
>
> 2: c


#### スライスで指定
<a id="markdown-%E3%82%B9%E3%83%A9%E3%82%A4%E3%82%B9%E3%81%A7%E6%8C%87%E5%AE%9A" name="%E3%82%B9%E3%83%A9%E3%82%A4%E3%82%B9%E3%81%A7%E6%8C%87%E5%AE%9A"></a>

```py
# index #################################
# 0   1   2   3   4   5   6   7   8   9 #
# | A | B | C | D | E | f | g | h | i | #
# -9  -8  -7  -6  -5  -4  -3  -2  -1  0 #
#########################################

hoge = 'abcdefghi'
print(hoge[:])      # abcdefghi
print(hoge[1:3])    # bc
print(hoge[:3])     # abc # 先頭から3文字
print(hoge[8:])     # i
print(hoge[-2:])    # hi # 末尾から2文字
print(hoge[:-4])    # abcde
print(hoge[-4:-2])  # fg
print(hoge[0:7:2])  # acdf

# 文字列を逆順にする
print(hoge[::-1])   # ihgfedcba

# 範囲外のインデックスを指定してもエラーにはならない
print(hoge[:100])   # abcdefghi
print(hoge[100])    # スライスではなくインデックス指定の場合は IndexError: string index out of range

# 0は、マイナスを付けても「末尾から」にならない
print(hoge[0:])     # abcdefghi
print(hoge[-0:])    # abcdefghi
print(hoge[:0])     # （空文字）
print(hoge[:-0])    # （空文字）
```


#### 部分文字列を全パターン取得する
<a id="markdown-%E9%83%A8%E5%88%86%E6%96%87%E5%AD%97%E5%88%97%E3%82%92%E5%85%A8%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B" name="%E9%83%A8%E5%88%86%E6%96%87%E5%AD%97%E5%88%97%E3%82%92%E5%85%A8%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B"></a>

```py
hoge = 'abcdefghi'
l = len(hoge)

for s in range(l+1):
  for e in range(s+1, l+1):
    print(hoge[s:e])
```

```py
import itertools

hoge = 'abcdefghi'
l = len(hoge)

for s, e in itertools.combinations(range(l+1), 2):
  print(hoge[s:e])
```

```
a
ab
abc
abcd
abcde
abcdef
abcdefg
abcdefgh
abcdefghi
b
bc
bcd
bcde
bcdef
bcdefg
bcdefgh
bcdefghi
c
cd
cde
cdef
cdefg
cdefgh
cdefghi
d
de
def
defg
defgh
defghi
e
ef
efg
efgh
efghi
f
fg
fgh
fghi
g
gh
ghi
h
hi
i
```


#### 文字列をランダムソートする
<a id="markdown-%E6%96%87%E5%AD%97%E5%88%97%E3%82%92%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%82%BD%E3%83%BC%E3%83%88%E3%81%99%E3%82%8B" name="%E6%96%87%E5%AD%97%E5%88%97%E3%82%92%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%82%BD%E3%83%BC%E3%83%88%E3%81%99%E3%82%8B"></a>

```py
import random

hoge = 'abcdefghi'
''.join(random.sample(hoge, len(hoge)))
```

> 'cigahdebf'


### エンコード・デコード
<a id="markdown-%E3%82%A8%E3%83%B3%E3%82%B3%E3%83%BC%E3%83%89%E3%83%BB%E3%83%87%E3%82%B3%E3%83%BC%E3%83%89" name="%E3%82%A8%E3%83%B3%E3%82%B3%E3%83%BC%E3%83%89%E3%83%BB%E3%83%87%E3%82%B3%E3%83%BC%E3%83%89"></a>


#### Base64
<a id="markdown-base64" name="base64"></a>

```py
import base64

filepath = '/path/to/file'
filecontents = open(filepath, 'rb').read()

# エンコード
encoded = base64.b64encode( filecontents )
print(encoded)

# デコード
decoded = base64.b64decode( encoded )
if filecontents == decoded:
    print('success')
else:
    print('failure')
```


#### URL safe な Base64
<a id="markdown-url-safe-%E3%81%AA-base64" name="url-safe-%E3%81%AA-base64"></a>

```py
import base64

filepath = '/path/to/file'
filecontents = open(filepath, 'rb').read()

# エンコード
encoded = base64.urlsafe_b64encode( filecontents )
print(encoded)

# デコード
decoded = base64.urlsafe_b64decode( encoded )
if filecontents == decoded:
    print('success')
else:
    print('failure')
```


### 検索
<a id="markdown-%E6%A4%9C%E7%B4%A2" name="%E6%A4%9C%E7%B4%A2"></a>


#### 単純な検索
<a id="markdown-%E5%8D%98%E7%B4%94%E3%81%AA%E6%A4%9C%E7%B4%A2" name="%E5%8D%98%E7%B4%94%E3%81%AA%E6%A4%9C%E7%B4%A2"></a>

| メソッド | 特徴                                           |
| -------- | ---------------------------------------------- |
| find     | 文字列が見つからない場合に `-1` を返す         |
| index    | 文字列が見つからない場合に `ValueError` を返す |

```py
# -----:    0000000000111111111122222222223333333333444444444455
# count:    0123456789012345678901234567890123456789012345678901
haystack = 'abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz'
needle = 'e'
```

| 機能                       | 関数                            | 値     |
| -------------------------- | ------------------------------- | ------ |
| 文字列が含まれているか判定 | `print(needle in haystack)`     | `True` |
| 出現回数                   | `print(haystack.count(needle))` | `2`    |

| 機能                                       | 関数                                      | 値                                |
| ------------------------------------------ | ----------------------------------------- | --------------------------------- |
| 左から検索した場合の出現箇所(インデックス) | `print(haystack.find(needle))`            | `4`                               |
| (検索開始位置を指定)                       | `print(haystack.find(needle, 4))`         | `4`                               |
|                                            | `print(haystack.find(needle, 5))`         | `30`                              |
| (検索開始位置・検索終了位置を指定)         | `print(haystack.find(needle, 5,30))`      | `-1`                              |
|                                            | `print(haystack.index(needle, 5,30))`     | `ValueError: substring not found` |
|                                            | `print(haystack.find(needle, 5,31))`      | `30`                              |
|                                            |                                           |                                   |
| 右から検索した場合の出現箇所(インデックス) | `print(haystack.rfind(needle))`           | `30`                              |
| (検索終了位置を指定)                       | `print(haystack.rfind(needle, None, 30))` | `4`                               |
|                                            | `print(haystack.rfind(needle, None, 31))` | `30`                              |
| (検索開始位置・検索終了位置を指定)         | `print(haystack.rfind(needle, 5,30))`     | `-1`                              |
| (検索開始位置・検索終了位置を指定)         | `print(haystack.rindex(needle, 5,30))`    | `ValueError: substring not found` |
| (検索開始位置・検索終了位置を指定)         | `print(haystack.rfind(needle, 4,30))`     | `4`                               |


##### 前方一致
<a id="markdown-%E5%89%8D%E6%96%B9%E4%B8%80%E8%87%B4" name="%E5%89%8D%E6%96%B9%E4%B8%80%E8%87%B4"></a>

```py
haystack = 'abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz'
haystack.startswith('abc')
haystack.startswith('xyz')
```

> True
>
> False


##### 後方一致
<a id="markdown-%E5%BE%8C%E6%96%B9%E4%B8%80%E8%87%B4" name="%E5%BE%8C%E6%96%B9%E4%B8%80%E8%87%B4"></a>

```py
haystack = 'abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz'
haystack.endswith('abc')
haystack.endswith('xyz')
```

> False
>
> True


#### 正規表現による検索
<a id="markdown-%E6%AD%A3%E8%A6%8F%E8%A1%A8%E7%8F%BE%E3%81%AB%E3%82%88%E3%82%8B%E6%A4%9C%E7%B4%A2" name="%E6%AD%A3%E8%A6%8F%E8%A1%A8%E7%8F%BE%E3%81%AB%E3%82%88%E3%82%8B%E6%A4%9C%E7%B4%A2"></a>


##### メタ文字
<a id="markdown-%E3%83%A1%E3%82%BF%E6%96%87%E5%AD%97" name="%E3%83%A1%E3%82%BF%E6%96%87%E5%AD%97"></a>

| 文字 | 内容（ `re.ASCII` を指定した場合） | 内容（Unicode (str) パターン）                                 |
| ---- | ---------------------------------- | -------------------------------------------------------------- |
| `\b` | 文字列の境界                       | 単語は `\w` からなる（英数字以外も含む）                       |
| `\B` | `\b` 以外                          |                                                                |
| `\d` | `[0-9]`                            | `[0-9]` とその他多数の数字                                     |
| `\D` | `\d`                               |                                                                |
| `\s` | `[ \t\n\r\f\v]`                    | Unicode 空白文字                                               |
| `\S` | `\s` 以外                          |                                                                |
| `\w` | `[a-zA-Z0-9_]`                     | 単語の一部になりうるほとんどの文字、数字、およびアンダースコア |
| `\W` | `\w` 以外                          |                                                                |

| 文字 | 内容             |
| ---- | ---------------- |
| `\0` | NULL 文字        |
| `\A` | 文字列の先頭     |
| `\f` | FF               |
| `\l` | `[a-z]`          |
| `\L` | `\l` 以外        |
| `\n` | LF               |
| `\r` | CR               |
| `\t` | TAB              |
| `\u` | `[A-Z]`          |
| `\U` | `\u` 以外        |
| `\v` | VTAB（垂直タブ） |
| `\Z` | 文字列の末尾     |

| 文字         | 内容                 |
| ------------ | -------------------- |
| `\N{name}`   | Unicode 文字（名前） |
| `\uxxxx`     | （16bit）            |
| `\Uxxxxxxxx` | （32bit）            |


##### フラグを利用
<a id="markdown-%E3%83%95%E3%83%A9%E3%82%B0%E3%82%92%E5%88%A9%E7%94%A8" name="%E3%83%95%E3%83%A9%E3%82%B0%E3%82%92%E5%88%A9%E7%94%A8"></a>

[モジュールコンテンツ](https://docs.python.org/ja/3/library/re.html#contents-of-module-re)

| フラグ                | 効果                                                                               |
| --------------------- | ---------------------------------------------------------------------------------- |
| re.ASCII<br>re.A      | `\w \W \b \B \d \D \s \S` に、 ASCII 限定マッチングを行わせる                      |
| re.DOTALL<br>re.S     | '.' 特殊文字を、改行を含むあらゆる文字にマッチさせる                               |
| re.IGNORECASE<br>re.I | 大文字・小文字を区別しない                                                         |
| re.MULTILINE<br>re.M  | `^` を文字列の先頭と各改行の直後で、`$` を文字列の末尾と各改行の直前でマッチさせる |
| re.VERBOSE<br>re.X    | 正規表現を見た目よく読みやすく書けるようにします                                   |

```py
haystack = 'a12345.67890b'
patternA = re.compile(r'''\d +  # the integral part
                   \.    # the decimal point
                   \d *  # some fractional digits''', re.X)
patternB = re.compile(r'\d+\.\d*')
allfoundA = patternA.findall(haystack)
allfoundB = patternB.findall(haystack)

# 結果を取得
if allfoundA:
    print(allfoundA)

if allfoundB:
    print(allfoundB)
```

| 関数               | 値                |
| ------------------ | ----------------- |
| `print(allfoundA)` | `['12345.67890']` |
| `print(allfoundB)` | `['12345.67890']` |


##### パターンのコンパイル
<a id="markdown-%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3%E3%81%AE%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB" name="%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3%E3%81%AE%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB"></a>

###### コンパイルしない場合
<a id="markdown-%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB%E3%81%97%E3%81%AA%E3%81%84%E5%A0%B4%E5%90%88" name="%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB%E3%81%97%E3%81%AA%E3%81%84%E5%A0%B4%E5%90%88"></a>

```py
import re

content = 'abc123def'

pattern_match = r'\w+'
pattern_search = r'\d+'
pattern_findall = r'\w'

# 文字列の先頭でマッチ
result_match = re.match(pattern_match, content)
if result_match:
  print(result_match, result_match.span(), result_match.group())

# 文字列の途中でマッチ
result_search = re.search(pattern_search, content)
if result_search:
  print(result_search, result_search.span(), result_search.group())

# 文字列の途中でマッチした全ての箇所のリスト
result_findall = re.findall(pattern_findall, content)
if result_findall:
  for item in result_findall:
    print(item)
```

> \# result_match
>
> <re.Match object; span=(0, 9), match='abc123def'>
>
> (0, 9)
>
> abc123def

> \# result_search
>
> <re.Match object; span=(3, 6), match='123'>
>
> (3, 6)
>
> 123

> \# result_findall
>
> a
>
> b
>
> ...
>
> f

###### コンパイルする場合
<a id="markdown-%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB%E3%81%99%E3%82%8B%E5%A0%B4%E5%90%88" name="%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB%E3%81%99%E3%82%8B%E5%A0%B4%E5%90%88"></a>

```py
import re
r = re.compile(r'(\w)')
```


###### パターンを文字列型変数からコンパイル
<a id="markdown-%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3%E3%82%92%E6%96%87%E5%AD%97%E5%88%97%E5%9E%8B%E5%A4%89%E6%95%B0%E3%81%8B%E3%82%89%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB" name="%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3%E3%82%92%E6%96%87%E5%AD%97%E5%88%97%E5%9E%8B%E5%A4%89%E6%95%B0%E3%81%8B%E3%82%89%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB"></a>

```py
s = r'C:\Users\y\Documents'     # Raw文字列
print(s)                        # C:\Users\y\Documents

s = 'C:\\Users\\y\\Documents'
print(s)                        # C:\Users\y\Documents

p = 'y\\'
print(re.search(repr(p)[1:-1], s)) # <re.Match object; span=(9, 11), match='y\\'>
```

- raw 文字列でも、引用符をバックスラッシュでエスケープできるが、バックスラッシュ自体も文字列に残る
- - raw 文字列の末尾に奇数個連続したバックスラッシュは置けない
- - `r"\""` は OK、 `r"\"` は NG

```py
print(re.search('y', s))        # <re.Match object; span=(9, 10), match='y'>
print(re.search(r'y\', s))      # SyntaxError: EOL while scanning string literal
print(re.search('y\', s))       # SyntaxError: EOL while scanning string literal
print(re.search(r'y\\', s))     # <re.Match object; span=(9, 11), match='y\\'>
print(re.search('y\\', s))      # re.error: bad escape (end of pattern) at position 1
print(re.search(r'y\\\', s))    # SyntaxError: EOL while scanning string literal
print(re.search('y\\\', s))     # SyntaxError: EOL while scanning string literal
```


##### 文字列の先頭でマッチ
<a id="markdown-%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E5%85%88%E9%A0%AD%E3%81%A7%E3%83%9E%E3%83%83%E3%83%81" name="%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E5%85%88%E9%A0%AD%E3%81%A7%E3%83%9E%E3%83%83%E3%83%81"></a>

```py
import re

haystack = 'haystack'
needle = '([abd-jl-z]+)([ck]+)'

# コンパイル有
pattern = re.compile(needle)
matched = pattern.match(haystack)
print(matched)

# コンパイル無
matched = re.match(needle, haystack)
print(matched)

# 結果を取得
if matched:
    if matched.group() != '': # パターンが空文字とマッチするのを防ぐ場合
        print(matched.group())
        print(matched.start())
        print(matched.end())
        print(matched.span())

        ###

        print(matched.groups())
        for g in matched.groups():
            print(g)

        ###

        print(matched.group(0))
        print(matched.group(1))
        print(matched.group(2))
        print(matched.group(0, 1))

        ###

        print(matched.start(0))
        print(matched.end(1))
        print(matched.span(2))
```

| 関数                         | 値                                                        | 備考         |
| ---------------------------- | --------------------------------------------------------- | ------------ |
| `print(matched)`             | `<\_sre.SRE_Match object; span=(0, 8), match='haystack'>` | コンパイル有 |
| `print(matched)`             | `<\_sre.SRE_Match object; span=(0, 8), match='haystack'>` | コンパイル無 |
|                              |                                                           |              |
| `print(matched.group())`     | `haystack`                                                |              |
| `print(matched.start())`     | `0`                                                       |              |
| `print(matched.end())`       | `8`                                                       |              |
| `print(matched.span())`      | `(0, 8)`                                                  |              |
|                              |                                                           |              |
| `print(matched.groups())`    | `('haysta', 'ck')`                                        |              |
| `print(g)` (1 回目のループ)  | `haysta`                                                  |              |
| `print(g)` (2 回目のループ)  | `ck`                                                      |              |
|                              |                                                           |              |
| `print(matched.group(0))`    | `haystack`                                                |              |
| `print(matched.group(1))`    | `haysta`                                                  |              |
| `print(matched.group(2))`    | `ck`                                                      |              |
| `print(matched.group(0, 1))` | `('haystack', 'haysta')`                                  |              |
|                              |                                                           |              |
| `print(matched.start(0))`    | `0`                                                       |              |
| `print(matched.end(1))`      | `6`                                                       |              |
| `print(matched.span(2))`     | `(6, 8)`                                                  |              |


##### 文字列の途中でマッチ
<a id="markdown-%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E9%80%94%E4%B8%AD%E3%81%A7%E3%83%9E%E3%83%83%E3%83%81" name="%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E9%80%94%E4%B8%AD%E3%81%A7%E3%83%9E%E3%83%83%E3%83%81"></a>


###### マッチした最初の場所
<a id="markdown-%E3%83%9E%E3%83%83%E3%83%81%E3%81%97%E3%81%9F%E6%9C%80%E5%88%9D%E3%81%AE%E5%A0%B4%E6%89%80" name="%E3%83%9E%E3%83%83%E3%83%81%E3%81%97%E3%81%9F%E6%9C%80%E5%88%9D%E3%81%AE%E5%A0%B4%E6%89%80"></a>

```py
import re

haystack = 'haystack'
needle = '([a-rt-z]+)'

# コンパイル有
pattern = re.compile(needle)
searched = pattern.search(haystack)
print(searched)

# コンパイル無
searched = re.search(needle, haystack)
print(searched)

# 結果を取得
if searched:
    print(searched.group())
    print(searched.start())
    print(searched.end())
    print(searched.span())
```

| 関数                      | 値                                            | 備考         |
| ------------------------- | --------------------------------------------- | ------------ |
| `print(searched)`         | `<re.Match object; span=(0, 3), match='hay'>` | コンパイル有 |
| `print(searched)`         | `<re.Match object; span=(0, 3), match='hay'>` | コンパイル無 |
| `print(searched.group())` | `hay`                                         |              |
| `print(searched.start())` | `0`                                           |              |
| `print(searched.end())`   | `3`                                           |              |
| `print(searched.span())`  | `(0, 3)`                                      |              |


###### 文字列の途中でマッチした全ての箇所のリスト
<a id="markdown-%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E9%80%94%E4%B8%AD%E3%81%A7%E3%83%9E%E3%83%83%E3%83%81%E3%81%97%E3%81%9F%E5%85%A8%E3%81%A6%E3%81%AE%E7%AE%87%E6%89%80%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88" name="%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E9%80%94%E4%B8%AD%E3%81%A7%E3%83%9E%E3%83%83%E3%83%81%E3%81%97%E3%81%9F%E5%85%A8%E3%81%A6%E3%81%AE%E7%AE%87%E6%89%80%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88"></a>

```py
import re

haystack = 'haystack'
needle = '([a-rt-z]+)'

# コンパイル有
pattern = re.compile(needle)
allfound = pattern.findall(haystack)
print(allfound)

# コンパイル無
allfound = re.findall(needle, haystack)
print(allfound)

# 結果を取得
if allfound:
    print(allfound)
```

| 関数              | 値                | 備考         |
| ----------------- | ----------------- | ------------ |
| `print(allfound)` | `['hay', 'tack']` | コンパイル有 |
| `print(allfound)` | `['hay', 'tack']` | コンパイル無 |
| `print(allfound)` | `['hay', 'tack']` | 結果を取得   |


###### 文字列の途中でマッチした全ての箇所のイテレーター
<a id="markdown-%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E9%80%94%E4%B8%AD%E3%81%A7%E3%83%9E%E3%83%83%E3%83%81%E3%81%97%E3%81%9F%E5%85%A8%E3%81%A6%E3%81%AE%E7%AE%87%E6%89%80%E3%81%AE%E3%82%A4%E3%83%86%E3%83%AC%E3%83%BC%E3%82%BF%E3%83%BC" name="%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E9%80%94%E4%B8%AD%E3%81%A7%E3%83%9E%E3%83%83%E3%83%81%E3%81%97%E3%81%9F%E5%85%A8%E3%81%A6%E3%81%AE%E7%AE%87%E6%89%80%E3%81%AE%E3%82%A4%E3%83%86%E3%83%AC%E3%83%BC%E3%82%BF%E3%83%BC"></a>

```py
import re

haystack = 'haystack'
needle = '([a-rt-z]+)'

# コンパイル有
pattern = re.compile(needle)
allfound = pattern.finditer(haystack)
print(allfound)

# コンパイル無
allfound = re.finditer(needle, haystack)
print(allfound)

# 結果を取得
for found in allfound:
    print(found.group())
    print(found.start())
    print(found.end())
    print(found.span())
```

| 関数                                | 値                                              | 備考         |
| ----------------------------------- | ----------------------------------------------- | ------------ |
| `print(allfound)`                   | `<callable_iterator object at 0x7fd0e8dd4da0\>` | コンパイル有 |
| `print(allfound)`                   | `<callable_iterator object at 0x7fd0e8cc8a20\>` | コンパイル無 |
| `print(found.group())` (1 ループ目) | `hay`                                           |              |
| `print(found.start())` (1 ループ目) | `0`                                             |              |
| `print(found.end())` (1 ループ目)   | `3`                                             |              |
| `print(found.span())` (1 ループ目)  | `(0, 3)`                                        |              |
| `print(found.group())` (2 ループ目) | `tack`                                          |              |
| `print(found.start())` (2 ループ目) | `4`                                             |              |
| `print(found.end())` (2 ループ目)   | `8`                                             |              |
| `print(found.span())` (2 ループ目)  | `(4, 8)`                                        |              |


##### グループ化
<a id="markdown-%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97%E5%8C%96" name="%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97%E5%8C%96"></a>


###### グループ番号
<a id="markdown-%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97%E7%95%AA%E5%8F%B7" name="%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97%E7%95%AA%E5%8F%B7"></a>

```py
import re

haystack = 'haystack'
needle = '(h)([abd-gijl-z]+)([ck]+)'

matched = re.match(needle, haystack)
print(matched.groups())

print(matched.group(0))
print(matched.group(1))
print(matched.group(2))
print(matched.group(3))
```

| 関数                      | 値                     |
| ------------------------- | ---------------------- |
| `print(matched.groups())` | `('h', 'aysta', 'ck')` |
| `print(matched.group(0))` | `haystack`             |
| `print(matched.group(1))` | `h`                    |
| `print(matched.group(2))` | `aysta`                |
| `print(matched.group(3))` | `ck`                   |


###### シンボリックグループ名
<a id="markdown-%E3%82%B7%E3%83%B3%E3%83%9C%E3%83%AA%E3%83%83%E3%82%AF%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97%E5%90%8D" name="%E3%82%B7%E3%83%B3%E3%83%9C%E3%83%AA%E3%83%83%E3%82%AF%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97%E5%90%8D"></a>

```py
import re

haystack = 'haystack'
needle = r'(?P<ONE>h)(?P<two>[abd-gijl-z]+)(?P<three>[ck]+)'

matched = re.match(needle, haystack)
print(matched.group('ONE'))
print(matched.group('two'))
print(matched.group('three'))
print(matched.group(0, 'three'))

print(matched.groupdict())
```

| 関数                               | 値                                             |
| ---------------------------------- | ---------------------------------------------- |
| `print(matched.group('ONE'))`      | `h`                                            |
| `print(matched.group('two'))`      | `aysta`                                        |
| `print(matched.group('three'))`    | `ck`                                           |
| `print(matched.group(0, 'three'))` | `('haystack', 'ck')`                           |
|                                    |                                                |
| `print(matched.groupdict())`       | `{'ONE': 'h', 'two': 'aysta', 'three3': 'ck'}` |


##### 先読み・後読み
<a id="markdown-%E5%85%88%E8%AA%AD%E3%81%BF%E3%83%BB%E5%BE%8C%E8%AA%AD%E3%81%BF" name="%E5%85%88%E8%AA%AD%E3%81%BF%E3%83%BB%E5%BE%8C%E8%AA%AD%E3%81%BF"></a>

###### 先読み
<a id="markdown-%E5%85%88%E8%AA%AD%E3%81%BF" name="%E5%85%88%E8%AA%AD%E3%81%BF"></a>

`AAA(?=BB)` : AAA に BB が続く場合、 AAA にマッチ

```py
import re

# パターンに正規表現を使える
m = re.search(r'Windows(?=\s?10)', 'Windows 10')
m.group(0)
```

> 'Windows'

###### 否定の先読み
<a id="markdown-%E5%90%A6%E5%AE%9A%E3%81%AE%E5%85%88%E8%AA%AD%E3%81%BF" name="%E5%90%A6%E5%AE%9A%E3%81%AE%E5%85%88%E8%AA%AD%E3%81%BF"></a>

`AAA(?!BB)` : AAA に BB が続かない場合、 AAA にマッチ

```py
import re

# パターンに正規表現を使える
m = re.search(r'Windows(?!\s?10)', 'Windows XP')
m.group(0)
```

> 'Windows'

###### 後読み
<a id="markdown-%E5%BE%8C%E8%AA%AD%E3%81%BF" name="%E5%BE%8C%E8%AA%AD%E3%81%BF"></a>

`(?<=AA)BBB` : AA に BBB が続く場合、 BBB にマッチ

```py
import re

# パターンに正規表現を使えない
# m = re.search('(?<=Windows\s?)10', 'Windows 10')
# m.group(0)
m = re.search('(?<=Windows )10', 'Windows 10')
m.group(0)
```

> 10

###### 否定の後読み
<a id="markdown-%E5%90%A6%E5%AE%9A%E3%81%AE%E5%BE%8C%E8%AA%AD%E3%81%BF" name="%E5%90%A6%E5%AE%9A%E3%81%AE%E5%BE%8C%E8%AA%AD%E3%81%BF"></a>

`(?<!AA)BBB` : AA に BBB が続かない場合、 BBB にマッチ

```py
import re

# パターンに正規表現を使えない
# m = re.search('(?<!Windows\s?)10', 'Linux Mint 10')
# m.group(0)
m = re.search('(?<!Windows )10', 'Linux Mint 10')
m.group(0)

```

> 10


#### 文字種のフィルタリング
<a id="markdown-%E6%96%87%E5%AD%97%E7%A8%AE%E3%81%AE%E3%83%95%E3%82%A3%E3%83%AB%E3%82%BF%E3%83%AA%E3%83%B3%E3%82%B0" name="%E6%96%87%E5%AD%97%E7%A8%AE%E3%81%AE%E3%83%95%E3%82%A3%E3%83%AB%E3%82%BF%E3%83%AA%E3%83%B3%E3%82%B0"></a>


##### 文字列全体が半角英数だけ含まれているか検査
<a id="markdown-%E6%96%87%E5%AD%97%E5%88%97%E5%85%A8%E4%BD%93%E3%81%8C%E5%8D%8A%E8%A7%92%E8%8B%B1%E6%95%B0%E3%81%A0%E3%81%91%E5%90%AB%E3%81%BE%E3%82%8C%E3%81%A6%E3%81%84%E3%82%8B%E3%81%8B%E6%A4%9C%E6%9F%BB" name="%E6%96%87%E5%AD%97%E5%88%97%E5%85%A8%E4%BD%93%E3%81%8C%E5%8D%8A%E8%A7%92%E8%8B%B1%E6%95%B0%E3%81%A0%E3%81%91%E5%90%AB%E3%81%BE%E3%82%8C%E3%81%A6%E3%81%84%E3%82%8B%E3%81%8B%E6%A4%9C%E6%9F%BB"></a>

```py
import re

def validate(content):
    p = re.compile('[a-zA-Z0-9]+')
    if p.fullmatch(content):
        print('valid')
    else:
        print('invalid')

validate('abcdefg')

validate('abcdefgあいう')
```

> valid
>
> invalid


##### 半角カナなどが含まれていないか検査
<a id="markdown-%E5%8D%8A%E8%A7%92%E3%82%AB%E3%83%8A%E3%81%AA%E3%81%A9%E3%81%8C%E5%90%AB%E3%81%BE%E3%82%8C%E3%81%A6%E3%81%84%E3%81%AA%E3%81%84%E3%81%8B%E6%A4%9C%E6%9F%BB" name="%E5%8D%8A%E8%A7%92%E3%82%AB%E3%83%8A%E3%81%AA%E3%81%A9%E3%81%8C%E5%90%AB%E3%81%BE%E3%82%8C%E3%81%A6%E3%81%84%E3%81%AA%E3%81%84%E3%81%8B%E6%A4%9C%E6%9F%BB"></a>

```py
import re

def validate(content):
    p = re.compile('[｡-ﾟ]+') # 句読点などが不要であれば[ｦ-ﾟ]
    if p.search(content):
        print('found')
    else:
        print('valid')

validate('abcdefgあいう')
validate('abcdefgｱｲｳ')
```

> valid
>
> found


##### 文字種別のパターン
<a id="markdown-%E6%96%87%E5%AD%97%E7%A8%AE%E5%88%A5%E3%81%AE%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3" name="%E6%96%87%E5%AD%97%E7%A8%AE%E5%88%A5%E3%81%AE%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3"></a>

| 文字種              | パターン                                                    | 例             |
| ------------------- | ----------------------------------------------------------- | -------------- |
| 半角英字            | `'[a-zA-Z]+'`                                               |                |
| 半角数字            | `'[0-9]+'`                                                  |                |
| ASCII 文字          | `'[\u0000-\u007F]+'`                                        | `ABCabc!"#$%&` |
| 半角記号            | `'[\u0020-\u002F\u003A-\u0040\u005B-\u0060\u007B-\u007E]+'` | `!"#$%&`       |
| 全角英字            | `'[ａ-ｚＡ-Ｚ]+'`                                           |                |
| 全角数字            | `'[０-９]+'`                                                |                |
| ローマ数字          | `'[\u2160-\u217F]+'`                                        | `ⅠⅡⅢ`          |
| 漢数字              | `'[〇一二三四五六七八九十百千万億兆]+'`                     |                |
| ひらがな            | `'[\u3041-\u309F]+'`                                        |                |
| 全角カタカナ        | `'[\u30A1-\u30FF]+'`                                        |                |
| 半角カタカナ        | `'[\uFF66-\uFF9F]+'`                                        |                |
| 漢字 (CJK 統合漢字) | `'[\u4E00-\u9FFF]+'`                                        |
| ハングル            | `'[가-힣]+'`                                                |                |


### 置換
<a id="markdown-%E7%BD%AE%E6%8F%9B" name="%E7%BD%AE%E6%8F%9B"></a>


#### 単純な置換
<a id="markdown-%E5%8D%98%E7%B4%94%E3%81%AA%E7%BD%AE%E6%8F%9B" name="%E5%8D%98%E7%B4%94%E3%81%AA%E7%BD%AE%E6%8F%9B"></a>

```py
haystack = 'haystack'
needle = 'a'
replacement = 'replacement'

content = haystack.replace(needle, replacement)
content = haystack.replace(needle, replacement, 1)
```

> 'hreplacementystreplacementck'
> 'hreplacementystack'


##### 改行文字を除去
<a id="markdown-%E6%94%B9%E8%A1%8C%E6%96%87%E5%AD%97%E3%82%92%E9%99%A4%E5%8E%BB" name="%E6%94%B9%E8%A1%8C%E6%96%87%E5%AD%97%E3%82%92%E9%99%A4%E5%8E%BB"></a>

```py
haystack = 'haystack\nhaystack\r\nhaystack'
replacement = ''

replacement.join(haystack.splitlines())
```

> 'haystackhaystackhaystack'


##### 前後の空白文字を除去（trim）
<a id="markdown-%E5%89%8D%E5%BE%8C%E3%81%AE%E7%A9%BA%E7%99%BD%E6%96%87%E5%AD%97%E3%82%92%E9%99%A4%E5%8E%BB%EF%BC%88trim%EF%BC%89" name="%E5%89%8D%E5%BE%8C%E3%81%AE%E7%A9%BA%E7%99%BD%E6%96%87%E5%AD%97%E3%82%92%E9%99%A4%E5%8E%BB%EF%BC%88trim%EF%BC%89"></a>

```py
s = ' \txyz\t '
print('^' + s.strip() + '$')
print('^' + s.lstrip() + '$')
print('^' + s.rstrip() + '$')
```

> ^xyz\$
>
> ^xyz \$
>
> ^ xyz\$

```py
s = '### \txyz\t ###'
print('^' + s.strip('#') + '$') # 引数に指定された文字を先頭・末尾から除去する(空白文字は除去しない)
print('^' + s.lstrip('#') + '$')
print('^' + s.rstrip('#') + '$')
```

> ^ xyz \$
>
> ^ xyz ###\$
>
> ^### xyz \$


##### 大文字化・小文字化
<a id="markdown-%E5%A4%A7%E6%96%87%E5%AD%97%E5%8C%96%E3%83%BB%E5%B0%8F%E6%96%87%E5%AD%97%E5%8C%96" name="%E5%A4%A7%E6%96%87%E5%AD%97%E5%8C%96%E3%83%BB%E5%B0%8F%E6%96%87%E5%AD%97%E5%8C%96"></a>

```py
print('abcde'.upper())
print('ABCDE'.lower())
```

> ABCDE
>
> abcde


#### 正規表現による置換
<a id="markdown-%E6%AD%A3%E8%A6%8F%E8%A1%A8%E7%8F%BE%E3%81%AB%E3%82%88%E3%82%8B%E7%BD%AE%E6%8F%9B" name="%E6%AD%A3%E8%A6%8F%E8%A1%A8%E7%8F%BE%E3%81%AB%E3%82%88%E3%82%8B%E7%BD%AE%E6%8F%9B"></a>

```py
import re

haystack = 'haystack'
needle = '([a-rt-z]+)'
replacement = 'replacement[\\1]'

content = re.sub(needle, replacement, haystack)
print(content)
content = re.sub(needle, replacement, haystack, 1)
print(content)
```

> replacement[hay]sreplacement[tack]
>
> replacement[hay]stack

```py
import re

haystack = 'haystack'
needle = '([A-RT-Z]+)'
replacement = r'replacement[\1]'

content = re.sub(needle, replacement, haystack, flags=re.IGNORECASE)
print(content)
```

> replacement[hay]sreplacement[tack]

```py
import re

haystack = 'foobar\nhoge\npiyo'
needle = '(^h)|(e$)'
replacement = '#'

content = re.sub(needle, replacement, haystack)
print(content)
content = re.sub(needle, replacement, haystack, flags=re.MULTILINE)
print(content)
```

> foobar
>
> hoge
>
> piyo

> foobar
>
> #og#
>
> piyo

```py
import re

haystack = 'foobar\nhoge\npiyo'
needle = 'r.h'
replacement = '#'

content = re.sub(needle, replacement, haystack)
print(content)
content = re.sub(needle, replacement, haystack, flags=re.DOTALL)
print(content)
```

> foobar
>
> hoge
>
> piyo

> fooba#oge
>
> piyo


##### 数字のみ抽出
<a id="markdown-%E6%95%B0%E5%AD%97%E3%81%AE%E3%81%BF%E6%8A%BD%E5%87%BA" name="%E6%95%B0%E5%AD%97%E3%81%AE%E3%81%BF%E6%8A%BD%E5%87%BA"></a>

```py
# 正規表現操作のライブラリ
import re
content =  '123１２３一二三'
numstr = re.sub('\\D', '', content)
print(numstr)
```

> 123 １２３


##### ファイル名に使用できない文字を除去
<a id="markdown-%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E5%90%8D%E3%81%AB%E4%BD%BF%E7%94%A8%E3%81%A7%E3%81%8D%E3%81%AA%E3%81%84%E6%96%87%E5%AD%97%E3%82%92%E9%99%A4%E5%8E%BB" name="%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E5%90%8D%E3%81%AB%E4%BD%BF%E7%94%A8%E3%81%A7%E3%81%8D%E3%81%AA%E3%81%84%E6%96%87%E5%AD%97%E3%82%92%E9%99%A4%E5%8E%BB"></a>

```py
import re

haystack = 'foobar/hoge!piyo'
replacement = '-'

content = re.sub(r'[\\|/|:|?|.|"|<|>|\|]', replacement, haystack)
print(content)
```

> foobar-hoge!piyo


#### 1 文字ごとの置換
<a id="markdown-%E6%96%87%E5%AD%97%E3%81%94%E3%81%A8%E3%81%AE%E7%BD%AE%E6%8F%9B" name="%E6%96%87%E5%AD%97%E3%81%94%E3%81%A8%E3%81%AE%E7%BD%AE%E6%8F%9B"></a>

```py
haystack = 'haystack'
print(haystack.translate(str.maketrans({'h': 'H', 'a': 'oo', 's': '', 'k': None})))
```

> Hooytooc


### 絵文字
<a id="markdown-%E7%B5%B5%E6%96%87%E5%AD%97" name="%E7%B5%B5%E6%96%87%E5%AD%97"></a>

[emoji](https://pypi.org/project/emoji/)

```sh
$ pip install emoji --upgrade
```

```py
import emoji
print(emoji.emojize('Python is :thumbs_up:'))
```

> Python is 👍


### ランダムな文字列の生成
<a id="markdown-%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%81%AA%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E7%94%9F%E6%88%90" name="%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%81%AA%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E7%94%9F%E6%88%90"></a>

```py
import random

str_length = 10
universe = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'

generated = "".join([random.choice(universe) for x in range(str_length)])
print(generated)
```

> XGIuCq68EQ


### 形態素解析
<a id="markdown-%E5%BD%A2%E6%85%8B%E7%B4%A0%E8%A7%A3%E6%9E%90" name="%E5%BD%A2%E6%85%8B%E7%B4%A0%E8%A7%A3%E6%9E%90"></a>

#### janome による解析
<a id="markdown-janome-%E3%81%AB%E3%82%88%E3%82%8B%E8%A7%A3%E6%9E%90" name="janome-%E3%81%AB%E3%82%88%E3%82%8B%E8%A7%A3%E6%9E%90"></a>

```sh
$ pip install janome
```

```py
from janome.tokenizer import Tokenizer


sentence = 'すもももももももものうち'

t = Tokenizer()


for token in t.tokenize(sentence):
    print(token)
    # print(
    #     token.surface,
    #     token.part_of_speech,
    #     token.infl_type,
    #     token.infl_form,
    #     token.base_form,
    #     token.reading,
    #     token.phonetic,
    #     token.node_type
    # )

for token in t.tokenize(sentence, wakati=True):
    print(token)
```

> すもも 名詞,一般,_,_,_,_,すもも,スモモ,スモモ
>
> も 助詞,係助詞,_,_,_,_,も,モ,モ
>
> もも 名詞,一般,_,_,_,_,もも,モモ,モモ
>
> も 助詞,係助詞,_,_,_,_,も,モ,モ
>
> もも 名詞,一般,_,_,_,_,もも,モモ,モモ
>
> の 助詞,連体化,_,_,_,_,の,ノ,ノ
>
> うち 名詞,非自立,副詞可能,_,_,\*,うち,ウチ,ウチ

> すもも
>
> も
>
> もも
>
> も
>
> もも
>
> の
>
> うち

##### NEologd 辞書を使用
<a id="markdown-neologd-%E8%BE%9E%E6%9B%B8%E3%82%92%E4%BD%BF%E7%94%A8" name="neologd-%E8%BE%9E%E6%9B%B8%E3%82%92%E4%BD%BF%E7%94%A8"></a>

```sh
$ git clone https://github.com/neologd/mecab-ipadic-neologd.git
$ xz -dkv mecab-ipadic-neologd/seed/*.csv.xz
$ cat mecab-ipadic-neologd/seed/*.csv > neologd-dic-seed.csv
```

```py
from janome import sysdic
from janome.dic import UserDictionary
from janome.tokenizer import Tokenizer


# ユーザー辞書の生成
user_dict = UserDictionary('neologd-dic-seed.csv', 'utf8', 'ipadic', sysdic.connections)
user_dict.save('neologd-dic-dir')


# 解析
sentence = 'すもももももももものうち'

t = Tokenizer('neologd-dic-dir')


for token in t.tokenize(sentence):
   print(token)
```


## リスト
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88" name="%E3%83%AA%E3%82%B9%E3%83%88"></a>

```
[ ]:リスト, ( ):タプル, { }:セット／辞書
リストは変更可能
タプルは変更不可
```


### リストが空か検査
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E3%81%8C%E7%A9%BA%E3%81%8B%E6%A4%9C%E6%9F%BB" name="%E3%83%AA%E3%82%B9%E3%83%88%E3%81%8C%E7%A9%BA%E3%81%8B%E6%A4%9C%E6%9F%BB"></a>

| 判定方法      |
| ------------- |
| `not lst`     |
| `len(lst)==0` |
| `lst == []`   |

```py
lst = []
if not lst:
  print('empty')

if len(lst)==0:
  print('empty')

if lst == []:
  print('empty')
```


### リストを生成
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E7%94%9F%E6%88%90" name="%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E7%94%9F%E6%88%90"></a>


#### 空のリストを生成
<a id="markdown-%E7%A9%BA%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E7%94%9F%E6%88%90" name="%E7%A9%BA%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E7%94%9F%E6%88%90"></a>

| 関数                               | 値                                                             |
| ---------------------------------- | -------------------------------------------------------------- |
| `lst = []`                         | `[]`                                                           |
| `lst = [None] * 10`                | `[None, None, None, None, None, None, None, None, None, None]` |
| `lst = [0] * 10`                   | `[0, 0, 0, 0, 0, 0, 0, 0, 0, 0]`                               |
| `lst.clear()`                      | `[] # 初期化(すべての要素を削除)`                              |
| `lst = [[0] * 3 for _ in [0] * 4]` | `[[0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0]]`                 |


#### 初期値を指定して生成
<a id="markdown-%E5%88%9D%E6%9C%9F%E5%80%A4%E3%82%92%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%A6%E7%94%9F%E6%88%90" name="%E5%88%9D%E6%9C%9F%E5%80%A4%E3%82%92%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%A6%E7%94%9F%E6%88%90"></a>

```py
lst = ['foo', 'bar', 'hoge']
print(lst)
```

> ['foo', 'bar', 'hoge']


#### リストをコピーして生成
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E3%82%B3%E3%83%94%E3%83%BC%E3%81%97%E3%81%A6%E7%94%9F%E6%88%90" name="%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E3%82%B3%E3%83%94%E3%83%BC%E3%81%97%E3%81%A6%E7%94%9F%E6%88%90"></a>

```py
oldlist = ['foo', 'bar', 'hoge']
newlist = list(oldlist)
print(newlist)
```

> ['foo', 'bar', 'hoge']


#### 逆順のリストを生成
<a id="markdown-%E9%80%86%E9%A0%86%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E7%94%9F%E6%88%90" name="%E9%80%86%E9%A0%86%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E7%94%9F%E6%88%90"></a>

```py
lst = ['foo', 'bar', 'hoge']
lst.reverse()
print(lst)
```

> ['hoge', 'bar', 'foo']


#### タプルからリストを生成
<a id="markdown-%E3%82%BF%E3%83%97%E3%83%AB%E3%81%8B%E3%82%89%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E7%94%9F%E6%88%90" name="%E3%82%BF%E3%83%97%E3%83%AB%E3%81%8B%E3%82%89%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E7%94%9F%E6%88%90"></a>

```py
tpllist = list(('foo', 'bar', 'hoge'))
print(tpllist)
```

> \# tpllist
>
> ['foo', 'bar', 'hoge']


#### range()を使って連番の要素を持つリストを生成
<a id="markdown-range%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E9%80%A3%E7%95%AA%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E6%8C%81%E3%81%A4%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E7%94%9F%E6%88%90" name="range%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E9%80%A3%E7%95%AA%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E6%8C%81%E3%81%A4%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E7%94%9F%E6%88%90"></a>

```py
rnglist = list(range(5))
print(rnglist)

rnglist = list(range(5, 10))
print(rnglist)

rnglist = list(range(5, 15, 2))
print(rnglist)
```

> \# range(stop)
>
> [0, 1, 2, 3, 4]
>
> \# range(start, stop)
>
> [5, 6, 7, 8, 9]
>
> \# range(start, stop, step)
>
> [5, 7, 9, 11, 13]

##### 逆順の連番
<a id="markdown-%E9%80%86%E9%A0%86%E3%81%AE%E9%80%A3%E7%95%AA" name="%E9%80%86%E9%A0%86%E3%81%AE%E9%80%A3%E7%95%AA"></a>

```py
rnglist = list(range(3, 10, 2))
print(rnglist)

# ずれる
rnglist = list(range(10, 3, -2))
print(rnglist)

rnglist = list(range(9, 2, -2))
print(rnglist)

rnglist = list(reversed(range(3, 10, 2)))
print(rnglist)
```

> \# range(3, 10, 2)
>
> [3, 5, 7, 9]
>
> \# range(10, 3, -2) \# ずれる
>
> [10, 8, 6, 4]
>
> \# range(9, 2, -2)
>
> [9, 7, 5, 3]
>
> \# reversed(range(3, 10, 2))
>
> [9, 7, 5, 3]


#### 文字列からリストを生成
<a id="markdown-%E6%96%87%E5%AD%97%E5%88%97%E3%81%8B%E3%82%89%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E7%94%9F%E6%88%90" name="%E6%96%87%E5%AD%97%E5%88%97%E3%81%8B%E3%82%89%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E7%94%9F%E6%88%90"></a>

```py
strlist = list('abcdefg')
print(strlist)
```

> \# strlist
>
> ['a', 'b', 'c', 'd', 'e', 'f', 'g']

##### リストの文字列表現からリストを生成
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E6%96%87%E5%AD%97%E5%88%97%E8%A1%A8%E7%8F%BE%E3%81%8B%E3%82%89%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E7%94%9F%E6%88%90" name="%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E6%96%87%E5%AD%97%E5%88%97%E8%A1%A8%E7%8F%BE%E3%81%8B%E3%82%89%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E7%94%9F%E6%88%90"></a>

```py
import ast


string = '[[1, 2, 3],[4, 5, 6]]'
strlist = ast.literal_eval(string)
print(strlist)
```

> [[1, 2, 3], [4, 5, 6]]


### リストに要素を追加
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AB%E8%A6%81%E7%B4%A0%E3%82%92%E8%BF%BD%E5%8A%A0" name="%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AB%E8%A6%81%E7%B4%A0%E3%82%92%E8%BF%BD%E5%8A%A0"></a>


#### append(末尾に追加)
<a id="markdown-append%E6%9C%AB%E5%B0%BE%E3%81%AB%E8%BF%BD%E5%8A%A0" name="append%E6%9C%AB%E5%B0%BE%E3%81%AB%E8%BF%BD%E5%8A%A0"></a>

```py

lst = ['foo', 'hoge']
lst.append('piyo')
print(lst)

lst.append(['fu', 'ga']) # appendの引数にリストを指定すると、リスト自体が新たな要素になる
print(lst)
```

> ['foo', 'hoge', 'piyo']
>
> ['foo', 'hoge', 'piyo', ['fu', 'ga']]


#### insert(添え字と要素の値を指定)
<a id="markdown-insert%E6%B7%BB%E3%81%88%E5%AD%97%E3%81%A8%E8%A6%81%E7%B4%A0%E3%81%AE%E5%80%A4%E3%82%92%E6%8C%87%E5%AE%9A" name="insert%E6%B7%BB%E3%81%88%E5%AD%97%E3%81%A8%E8%A6%81%E7%B4%A0%E3%81%AE%E5%80%A4%E3%82%92%E6%8C%87%E5%AE%9A"></a>

```py
lst.insert(1, 'bar')
print(lst)
```

> ['foo', 'bar', 'hoge', 'piyo']


#### スライスを使用して、別のリスト(別のイテラブルオブジェクト)の要素を指定位置に追加(連結／結合)する
<a id="markdown-%E3%82%B9%E3%83%A9%E3%82%A4%E3%82%B9%E3%82%92%E4%BD%BF%E7%94%A8%E3%81%97%E3%81%A6%E3%80%81%E5%88%A5%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88%E5%88%A5%E3%81%AE%E3%82%A4%E3%83%86%E3%83%A9%E3%83%96%E3%83%AB%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E6%8C%87%E5%AE%9A%E4%BD%8D%E7%BD%AE%E3%81%AB%E8%BF%BD%E5%8A%A0%E9%80%A3%E7%B5%90%EF%BC%8F%E7%B5%90%E5%90%88%E3%81%99%E3%82%8B" name="%E3%82%B9%E3%83%A9%E3%82%A4%E3%82%B9%E3%82%92%E4%BD%BF%E7%94%A8%E3%81%97%E3%81%A6%E3%80%81%E5%88%A5%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88%E5%88%A5%E3%81%AE%E3%82%A4%E3%83%86%E3%83%A9%E3%83%96%E3%83%AB%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E6%8C%87%E5%AE%9A%E4%BD%8D%E7%BD%AE%E3%81%AB%E8%BF%BD%E5%8A%A0%E9%80%A3%E7%B5%90%EF%BC%8F%E7%B5%90%E5%90%88%E3%81%99%E3%82%8B"></a>

```py
lst = ['foo', 'bar', 'hoge']
print(lst[0:len(lst)-1])
print(lst[0:len(lst)])

lst[len(lst):len(lst)] = ['fu', 'ga']
print(lst)
```

> ['foo', 'bar']
>
> ['foo', 'bar', 'hoge']
>
> ['foo', 'bar', 'hoge', 'fu', 'ga']


#### 別のリスト(別のイテラブルオブジェクト)の要素を末尾に追加(連結／結合)する
<a id="markdown-%E5%88%A5%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88%E5%88%A5%E3%81%AE%E3%82%A4%E3%83%86%E3%83%A9%E3%83%96%E3%83%AB%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E6%9C%AB%E5%B0%BE%E3%81%AB%E8%BF%BD%E5%8A%A0%E9%80%A3%E7%B5%90%EF%BC%8F%E7%B5%90%E5%90%88%E3%81%99%E3%82%8B" name="%E5%88%A5%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88%E5%88%A5%E3%81%AE%E3%82%A4%E3%83%86%E3%83%A9%E3%83%96%E3%83%AB%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E6%9C%AB%E5%B0%BE%E3%81%AB%E8%BF%BD%E5%8A%A0%E9%80%A3%E7%B5%90%EF%BC%8F%E7%B5%90%E5%90%88%E3%81%99%E3%82%8B"></a>

```py
lst1 = ['foo', 'bar', 'hoge']
lst2 = ['fu', 'ga']
lst1.extend(lst2)
print(lst1)

lst1.extend('piyo') # 文字列を追加する場合、1文字ずつが要素となる
print(lst1)

lst1.extend(['piyo']) # 文字列を1要素として追加する場合
print(lst1)

lst1 = ['foo', 'bar', 'hoge']
lst2 = ['fu', 'ga']
lst1 = lst1 + lst2
print(lst1)

lst1 = lst1 + ['piyo'] # 文字列を1要素として追加する場合
print(lst1)
```

> ['foo', 'bar', 'hoge', 'fu', 'ga']
>
> ['foo', 'bar', 'hoge', 'fu', 'ga', 'p', 'i', 'y', 'o']
>
> ['foo', 'bar', 'hoge', 'fu', 'ga', 'p', 'i', 'y', 'o', 'piyo']
>
> ['foo', 'bar', 'hoge', 'fu', 'ga']
>
> ['foo', 'bar', 'hoge', 'fu', 'ga', 'piyo']


#### リストの要素を繰り返す
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E7%B9%B0%E3%82%8A%E8%BF%94%E3%81%99" name="%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E7%B9%B0%E3%82%8A%E8%BF%94%E3%81%99"></a>

```py
lst = ['foo', 'bar', 'hoge']
lst= lst * 3
print(lst)

lst.remove('foo')
print(lst)
lst.remove('foo')
print(lst)
lst.remove('foo')
print(lst)
lst.remove('foo')
print(lst)  # 存在しない値を指定するとエラーが発生
```

> ['foo', 'bar', 'hoge', 'foo', 'bar', 'hoge', 'foo', 'bar', 'hoge']
>
> ['bar', 'hoge', 'foo', 'bar', 'hoge', 'foo', 'bar', 'hoge']
>
> ['bar', 'hoge', 'bar', 'hoge', 'foo', 'bar', 'hoge']
>
> ['bar', 'hoge', 'bar', 'hoge', 'bar', 'hoge']
>
> ValueError: list.remove(x): x not in list
>
> ['bar', 'hoge', 'bar', 'hoge', 'bar', 'hoge']


### リストの要素を参照
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E5%8F%82%E7%85%A7" name="%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E5%8F%82%E7%85%A7"></a>

```py
lst = ['foo', 'bar', 'hoge']
print(lst[0])
print(lst[len(lst) - 1])
```

> foo
>
> hoge


####リストの要素の存在チェック

```py
lst = ['foo', 'bar', 'hoge']
print('bar' in lst)
```

> True


#### リストの要素をランダム抽出
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E6%8A%BD%E5%87%BA" name="%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E6%8A%BD%E5%87%BA"></a>


#### 最大値・最小値（リスト）
<a id="markdown-%E6%9C%80%E5%A4%A7%E5%80%A4%E3%83%BB%E6%9C%80%E5%B0%8F%E5%80%A4%EF%BC%88%E3%83%AA%E3%82%B9%E3%83%88%EF%BC%89" name="%E6%9C%80%E5%A4%A7%E5%80%A4%E3%83%BB%E6%9C%80%E5%B0%8F%E5%80%A4%EF%BC%88%E3%83%AA%E3%82%B9%E3%83%88%EF%BC%89"></a>

```py
print(max([1, 2, 3]))
print(min([1, 2, 3]))

tpllst = [(1, 9), (3, 7), (5, 8)]
print(max(tpllst, key = lambda x:x[0])) # タプルの左側の要素で比較
print(min(tpllst, key = lambda x:x[1])) # タプルの右側の要素で比較
```

> 3
>
> 1
>
> (5, 8)
>
> (3, 7)

##### 最大値／最小値から n 個
<a id="markdown-%E6%9C%80%E5%A4%A7%E5%80%A4%EF%BC%8F%E6%9C%80%E5%B0%8F%E5%80%A4%E3%81%8B%E3%82%89-n-%E5%80%8B" name="%E6%9C%80%E5%A4%A7%E5%80%A4%EF%BC%8F%E6%9C%80%E5%B0%8F%E5%80%A4%E3%81%8B%E3%82%89-n-%E5%80%8B"></a>

```py
import heapq
scores = [1, 2, 3]
print(heapq.nlargest(2, scores))
print(heapq.nsmallest(2, scores))
```

> [3, 2]
>
> [1, 2]


### リストの要素を除去
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E9%99%A4%E5%8E%BB" name="%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E9%99%A4%E5%8E%BB"></a>

```py
lst = ['foo', 'bar', 'hoge', 'piyo']
print(lst)

lst.pop() # 末尾から除去
print(lst)

lst.pop(0) # 先頭から除去
print(lst)

# 指定された値を持つ要素のうち、最初のものを除去（戻り値なし）
# 指定された値を持つ要素が存在しない場合は、 ValueError: list.remove(x): x not in list
lst.remove('bar')
print(lst)

del lst[0] # 指定された位置の要素を除去（戻り値なし）
print(lst)


lst = ['foo', 'bar', 'hoge', 'piyo']

# 指定された複数の位置の要素を除去（すべて削除する場合は del lst[:] ）
del lst[0:2]
print(lst)

# 初期化(すべての要素を削除)
lst.clear()
print(lst)

# 初期化
lst = []
print(lst)
```

> ['foo', 'bar', 'hoge', 'piyo'] # print(lst) の戻り値
>
> 'piyo' # lst.pop() の戻り値
>
> ['foo', 'bar', 'hoge'] # print(lst) の戻り値
>
> 'foo' # lst.pop(0) の戻り値
>
> ['bar', 'hoge'] # print(lst) の戻り値
>
> ['hoge'] # lst.remove('bar') の直後の print(lst) の戻り値
>
> []
>
> ['hoge', 'piyo'] # del lst[0:2]の直後の print(lst) の戻り値
>
> []
>
> []


### リストの反復処理
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E5%8F%8D%E5%BE%A9%E5%87%A6%E7%90%86" name="%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E5%8F%8D%E5%BE%A9%E5%87%A6%E7%90%86"></a>

```py
l = list(range(5, 10))
for item in l:
    print(item)
```

> 5
>
> 6
>
> 7
>
> 8
>
> 9

```py
l = list(range(5, 10))

for item in l[::-1]:
    print(item)

for item in reversed(l):
    print(item)
```

> 9
>
> 8
>
> 7
>
> 6
>
> 5


#### インデックスを取得
<a id="markdown-%E3%82%A4%E3%83%B3%E3%83%87%E3%83%83%E3%82%AF%E3%82%B9%E3%82%92%E5%8F%96%E5%BE%97" name="%E3%82%A4%E3%83%B3%E3%83%87%E3%83%83%E3%82%AF%E3%82%B9%E3%82%92%E5%8F%96%E5%BE%97"></a>

```py
l = list(range(5, 10))
for (index, item) in enumerate(l):
    print(index, item)
```

> 0 5
>
> 1 6
>
> 2 7
>
> 3 8
>
> 4 9


#### 複数のリストを同時に繰り返す
<a id="markdown-%E8%A4%87%E6%95%B0%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E5%90%8C%E6%99%82%E3%81%AB%E7%B9%B0%E3%82%8A%E8%BF%94%E3%81%99" name="%E8%A4%87%E6%95%B0%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E5%90%8C%E6%99%82%E3%81%AB%E7%B9%B0%E3%82%8A%E8%BF%94%E3%81%99"></a>

```py
l1 = list(range(5)) # リストの要素数が同じ場合
l2 = list(range(5,10))

for (i1, i2) in zip(l1, l2):
    print(i1, i2)
```

> 0 5
>
> 1 6
>
> 2 7
>
> 3 8
>
> 4 9

```py
l1 = list(range(5)) # リストの要素数が異なる場合
l2 = list(range(5,8))

# 要素数の少ないリストの要素数分だけ繰り返す
for (i1, i2) in zip(l1, l2):
    print(i1, i2)
```

> 0 5
>
> 1 6
>
> 2 7

```py
from itertools import zip_longest

l1 = list(range(5)) # リストの要素数が異なる場合
l2 = list(range(5,8))

# 要素数の多いリストの要素数分だけ繰り返す
for (i1, i2) in zip_longest(l1, l2):
    print(i1, i2)

# 要素数の多いリストの要素数分だけ繰り返す(不足している要素にNoneではなく指定した値を使用)
for (i1, i2) in zip_longest(l1, l2, fillvalue=999):
    print(i1, i2)
```

> 0 5
>
> 1 6
>
> 2 7
>
> 3 None
>
> 4 None

> 0 5
>
> 1 6
>
> 2 7
>
> 3 999
>
> 4 999


#### リストの要素を連結(結合)した文字列を取得
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E9%80%A3%E7%B5%90%E7%B5%90%E5%90%88%E3%81%97%E3%81%9F%E6%96%87%E5%AD%97%E5%88%97%E3%82%92%E5%8F%96%E5%BE%97" name="%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E9%80%A3%E7%B5%90%E7%B5%90%E5%90%88%E3%81%97%E3%81%9F%E6%96%87%E5%AD%97%E5%88%97%E3%82%92%E5%8F%96%E5%BE%97"></a>

```py
lst = ['foo', 'bar', 'hoge']
''.join(lst)
','.join(lst) # 区切り文字を指定
```

> 'foobarhoge'
>
> 'foo,bar,hoge'


#### 順列と組み合わせ
<a id="markdown-%E9%A0%86%E5%88%97%E3%81%A8%E7%B5%84%E3%81%BF%E5%90%88%E3%82%8F%E3%81%9B" name="%E9%A0%86%E5%88%97%E3%81%A8%E7%B5%84%E3%81%BF%E5%90%88%E3%82%8F%E3%81%9B"></a>


##### 順列
<a id="markdown-%E9%A0%86%E5%88%97" name="%E9%A0%86%E5%88%97"></a>

1,2,3,4,5 の 5 つから 3 つ選ぶ

```py
import itertools

items = range(1, 6)
for i in items:
    print(i, end=' ')

print('')

combi = list(itertools.combinations(items, 3))
print(combi)
print(len(combi))
```

> 1 2 3 4 5
>
> [(1, 2, 3), (1, 2, 4), (1, 2, 5), (1, 3, 4), (1, 3, 5), (1, 4, 5), (2, 3, 4), (2, 3, 5), (2, 4, 5), (3, 4, 5)]
>
> 10


##### 組み合わせ
<a id="markdown-%E7%B5%84%E3%81%BF%E5%90%88%E3%82%8F%E3%81%9B" name="%E7%B5%84%E3%81%BF%E5%90%88%E3%82%8F%E3%81%9B"></a>

1,2,3,4,5 の 5 つを並べる

```py
import itertools

items = range(1, 6)
for i in items:
    print(i, end=' ')

print('')

perm = list(itertools.permutations(items))
print(perm)
print(len(perm))
```

> 1 2 3 4 5
>
> [(1, 2, 3, 4, 5), (1, 2, 3, 5, 4), (1, 2, 4, 3, 5), (1, 2, 4, 5, 3), (1, 2, 5, 3, 4), (1, 2, 5, 4, 3), (1, 3, 2, 4, 5), (1, 3, 2, 5, 4), (1, 3, 4, 2, 5), (1, 3, 4, 5, 2), (1, 3, 5, 2, 4), (1, 3, 5, 4, 2), (1, 4, 2, 3, 5), (1, 4, 2, 5, 3), (1, 4, 3, 2, 5), (1, 4, 3, 5, 2), (1, 4, 5, 2, 3), (1, 4, 5, 3, 2), (1, 5, 2, 3, 4), (1, 5, 2, 4, 3), (1, 5, 3, 2, 4), (1, 5, 3, 4, 2), (1, 5, 4, 2, 3), (1, 5, 4, 3, 2), (2, 1, 3, 4, 5), (2, 1, 3, 5, 4), (2, 1, 4, 3, 5), (2, 1, 4, 5, 3), (2, 1, 5, 3, 4), (2, 1, 5, 4, 3), (2, 3, 1, 4, 5), (2, 3, 1, 5, 4), (2, 3, 4, 1, 5), (2, 3, 4, 5, 1), (2, 3, 5, 1, 4), (2, 3, 5, 4, 1), (2, 4, 1, 3, 5), (2, 4, 1, 5, 3), (2, 4, 3, 1, 5), (2, 4, 3, 5, 1), (2, 4, 5, 1, 3), (2, 4, 5, 3, 1), (2, 5, 1, 3, 4), (2, 5, 1, 4, 3), (2, 5, 3, 1, 4), (2, 5, 3, 4, 1), (2, 5, 4, 1, 3), (2, 5, 4, 3, 1), (3, 1, 2, 4, 5), (3, 1, 2, 5, 4), (3, 1, 4, 2, 5), (3, 1, 4, 5, 2), (3, 1, 5, 2, 4), (3, 1, 5, 4, 2), (3, 2, 1, 4, 5), (3, 2, 1, 5, 4), (3, 2, 4, 1, 5), (3, 2, 4, 5, 1), (3, 2, 5, 1, 4), (3, 2, 5, 4, 1), (3, 4, 1, 2, 5), (3, 4, 1, 5, 2), (3, 4, 2, 1, 5), (3, 4, 2, 5, 1), (3, 4, 5, 1, 2), (3, 4, 5, 2, 1), (3, 5, 1, 2, 4), (3, 5, 1, 4, 2), (3, 5, 2, 1, 4), (3, 5, 2, 4, 1), (3, 5, 4, 1, 2), (3, 5, 4, 2, 1), (4, 1, 2, 3, 5), (4, 1, 2, 5, 3), (4, 1, 3, 2, 5), (4, 1, 3, 5, 2), (4, 1, 5, 2, 3), (4, 1, 5, 3, 2), (4, 2, 1, 3, 5), (4, 2, 1, 5, 3), (4, 2, 3, 1, 5), (4, 2, 3, 5, 1), (4, 2, 5, 1, 3), (4, 2, 5, 3, 1), (4, 3, 1, 2, 5), (4, 3, 1, 5, 2), (4, 3, 2, 1, 5), (4, 3, 2, 5, 1), (4, 3, 5, 1, 2), (4, 3, 5, 2, 1), (4, 5, 1, 2, 3), (4, 5, 1, 3, 2), (4, 5, 2, 1, 3), (4, 5, 2, 3, 1), (4, 5, 3, 1, 2), (4, 5, 3, 2, 1), (5, 1, 2, 3, 4), (5, 1, 2, 4, 3), (5, 1, 3, 2, 4), (5, 1, 3, 4, 2), (5, 1, 4, 2, 3), (5, 1, 4, 3, 2), (5, 2, 1, 3, 4), (5, 2, 1, 4, 3), (5, 2, 3, 1, 4), (5, 2, 3, 4, 1), (5, 2, 4, 1, 3), (5, 2, 4, 3, 1), (5, 3, 1, 2, 4), (5, 3, 1, 4, 2), (5, 3, 2, 1, 4), (5, 3, 2, 4, 1), (5, 3, 4, 1, 2), (5, 3, 4, 2, 1), (5, 4, 1, 2, 3), (5, 4, 1, 3, 2), (5, 4, 2, 1, 3), (5, 4, 2, 3, 1), (5, 4, 3, 1, 2), (5, 4, 3, 2, 1)]
>
> 120


##### 重複組み合わせ
<a id="markdown-%E9%87%8D%E8%A4%87%E7%B5%84%E3%81%BF%E5%90%88%E3%82%8F%E3%81%9B" name="%E9%87%8D%E8%A4%87%E7%B5%84%E3%81%BF%E5%90%88%E3%82%8F%E3%81%9B"></a>

1,2,3,4,5 から、１つずつ取り出して元に戻す操作を 3 回繰り返した場合

```py
import itertools

items = range(1, 6)
for i in items:
    print(i, end=' ')

print('')

perm = list(itertools.combinations_with_replacement(items, 3))
print(perm)
print(len(perm))
```

> 1 2 3 4 5
>
> [(1, 1, 1), (1, 1, 2), (1, 1, 3), (1, 1, 4), (1, 1, 5), (1, 2, 2), (1, 2, 3), (1, 2, 4), (1, 2, 5), (1, 3, 3), (1, 3, 4), (1, 3, 5), (1, 4, 4), (1, 4, 5), (1, 5, 5), (2, 2, 2), (2, 2, 3), (2, 2, 4), (2, 2, 5), (2, 3, 3), (2, 3, 4), (2, 3, 5), (2, 4, 4), (2, 4, 5), (2, 5, 5), (3, 3, 3), (3, 3, 4), (3, 3, 5), (3, 4, 4), (3, 4, 5), (3, 5, 5), (4, 4, 4), (4, 4,
>
> > 5), (4, 5, 5), (5, 5, 5)]
>
> 35


##### 直積
<a id="markdown-%E7%9B%B4%E7%A9%8D" name="%E7%9B%B4%E7%A9%8D"></a>

2 つのリストの全要素の組み合わせを求める。

```py
import itertools

items = range(1, 6)
for i in items:
    print(i, end=' ')

print('')

# 同じリストを複数回使いたいときは repeat 引数に回数を指定
# perm = list(itertools.product(items, items))
perm = list(itertools.product(items, repeat=2))
print(perm)
print(len(perm))
```

> 1 2 3 4 5
>
> [(1, 1), (1, 2), (1, 3), (1, 4), (1, 5), (2, 1), (2, 2), (2, 3), (2, 4), (2, 5), (3, 1), (3, 2), (3, 3), (3, 4), (3, 5), (4, 1), (4, 2), (4, 3), (4, 4), (4, 5), (5, 1), (5, 2), (5, 3), (5, 4), (5, 5)]
>
> 25

多重 for ループでネストが深くなるのを防ぐためにも使える

```py
import itertools

# 2重forループ
# for tpl in itertools.product(range(2), range(3)):
#   print("%d, %d" % tpl)
for i, j in itertools.product(range(2), range(3)):
  print("%d, %d" % (i, j))

# 3重forループ
for i, j, k in itertools.product(range(2), range(3), range(4)):
  print("%d, %d, %d" % (i, j, k))
```

> 0, 0
>
> 0, 1
>
> 0, 2
>
> 1, 0
>
> 1, 1
>
> 1, 2

> 0, 0, 0
>
> 0, 0, 1
>
> 0, 0, 2
>
> 0, 0, 3
>
> 0, 1, 0
>
> 0, 1, 1
>
> 0, 1, 2
>
> 0, 1, 3
>
> ...
>
> 1, 2, 0
>
> 1, 2, 1
>
> 1, 2, 2
>
> 1, 2, 3


#### 多次元リスト
<a id="markdown-%E5%A4%9A%E6%AC%A1%E5%85%83%E3%83%AA%E3%82%B9%E3%83%88" name="%E5%A4%9A%E6%AC%A1%E5%85%83%E3%83%AA%E3%82%B9%E3%83%88"></a>

```py
l = [
    [1, 2, 3],
    [4, 5, 6],
    [7, 8, 9]
]

for (a, b, c) in zip(*l):
    print(a, b, c)
```

> 1 4 7
>
> 2 5 8
>
> 3 6 9


##### に平坦化(flatten)
<a id="markdown-%E3%81%AB%E5%B9%B3%E5%9D%A6%E5%8C%96flatten" name="%E3%81%AB%E5%B9%B3%E5%9D%A6%E5%8C%96flatten"></a>


##### 2 次元リストを 1 次元リストに平坦化(flatten)
<a id="markdown-%E6%AC%A1%E5%85%83%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92-1-%E6%AC%A1%E5%85%83%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AB%E5%B9%B3%E5%9D%A6%E5%8C%96flatten" name="%E6%AC%A1%E5%85%83%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92-1-%E6%AC%A1%E5%85%83%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AB%E5%B9%B3%E5%9D%A6%E5%8C%96flatten"></a>

```py
l = [
    [1, 2, 3],
    [4, 5, 6],
    [7, 8, 9]
]

# 内包表記
result = [item for m in l for item in m]

# itertools
from itertools import chain
result = list(chain.from_iterable(l))
```

> [1, 2, 3, 4, 5, 6, 7, 8, 9]


##### 多次元リストを 1 次元リストに平坦化(flatten)
<a id="markdown-%E5%A4%9A%E6%AC%A1%E5%85%83%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92-1-%E6%AC%A1%E5%85%83%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AB%E5%B9%B3%E5%9D%A6%E5%8C%96flatten" name="%E5%A4%9A%E6%AC%A1%E5%85%83%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92-1-%E6%AC%A1%E5%85%83%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AB%E5%B9%B3%E5%9D%A6%E5%8C%96flatten"></a>

```py
import collections.abc

l = [
    [1, [2, 3]],
    [4, 5, [6]],
    [[7, 8], 9]
]

def flatten(l):
    i = 0
    while i < len(l):
        while isinstance(l[i], collections.Iterable):
            if not l[i]:
                l.pop(i)
                i -= 1
                break
            else:
                l[i:i + 1] = l[i]
        i += 1
    return l

result = flatten(l)
```

> [1, 2, 3, 4, 5, 6, 7, 8, 9]


### リストをソート
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E3%82%BD%E3%83%BC%E3%83%88" name="%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E3%82%BD%E3%83%BC%E3%83%88"></a>

```py
lst = ['foo', 'bar', 'piyo', 'hoge', 'foo', 'bar', 'piyo', 'hoge']
sortedlist = sorted(lst)
print(lst)
print(sortedlist)

lst.sort(key=None, reverse=False)
print(lst)
```

> ['foo', 'bar', 'piyo', 'hoge', 'foo', 'bar', 'piyo', 'hoge']
>
> ['bar', 'bar', 'foo', 'foo', 'hoge', 'hoge', 'piyo', 'piyo']

> ['bar', 'bar', 'foo', 'foo', 'hoge', 'hoge', 'piyo', 'piyo']


#### ソート条件を変える
<a id="markdown-%E3%82%BD%E3%83%BC%E3%83%88%E6%9D%A1%E4%BB%B6%E3%82%92%E5%A4%89%E3%81%88%E3%82%8B" name="%E3%82%BD%E3%83%BC%E3%83%88%E6%9D%A1%E4%BB%B6%E3%82%92%E5%A4%89%E3%81%88%E3%82%8B"></a>

ラムダ式を指定すると、要素ごとに関数を実行した結果を基にソートされる


##### 文字数でソート
<a id="markdown-%E6%96%87%E5%AD%97%E6%95%B0%E3%81%A7%E3%82%BD%E3%83%BC%E3%83%88" name="%E6%96%87%E5%AD%97%E6%95%B0%E3%81%A7%E3%82%BD%E3%83%BC%E3%83%88"></a>

```py
print(len)

lst = ['foo', 'bar', 'piyo', 'hoge', 'foo', 'bar', 'piyo', 'hoge']
sortedlist = sorted(lst, key=len)
print(lst)
print(sortedlist)
```

> \<built-in function len\>
>
> ['foo', 'bar', 'piyo', 'hoge', 'foo', 'bar', 'piyo', 'hoge']
>
> ['foo', 'bar', 'foo', 'bar', 'piyo', 'hoge', 'piyo', 'hoge']


##### 末尾の文字のアルファベット順でソート
<a id="markdown-%E6%9C%AB%E5%B0%BE%E3%81%AE%E6%96%87%E5%AD%97%E3%81%AE%E3%82%A2%E3%83%AB%E3%83%95%E3%82%A1%E3%83%99%E3%83%83%E3%83%88%E9%A0%86%E3%81%A7%E3%82%BD%E3%83%BC%E3%83%88" name="%E6%9C%AB%E5%B0%BE%E3%81%AE%E6%96%87%E5%AD%97%E3%81%AE%E3%82%A2%E3%83%AB%E3%83%95%E3%82%A1%E3%83%99%E3%83%83%E3%83%88%E9%A0%86%E3%81%A7%E3%82%BD%E3%83%BC%E3%83%88"></a>

```py
lst = ['foo', 'bar', 'piyo', 'hoge', 'foo', 'bar', 'piyo', 'hoge']
sortedlist = sorted(lst, key=lambda x: x[-1:])
print(lst)
print(sortedlist)
```

> ['foo', 'bar', 'piyo', 'hoge', 'foo', 'bar', 'piyo', 'hoge']
>
> ['hoge', 'hoge', 'foo', 'piyo', 'foo', 'piyo', 'bar', 'bar']


#### リストの要素の型
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%81%AE%E5%9E%8B" name="%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%81%AE%E5%9E%8B"></a>


##### リストのリスト
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88" name="%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88"></a>


###### リスト同士の比較方法(既定)
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E5%90%8C%E5%A3%AB%E3%81%AE%E6%AF%94%E8%BC%83%E6%96%B9%E6%B3%95%E6%97%A2%E5%AE%9A" name="%E3%83%AA%E3%82%B9%E3%83%88%E5%90%8C%E5%A3%AB%E3%81%AE%E6%AF%94%E8%BC%83%E6%96%B9%E6%B3%95%E6%97%A2%E5%AE%9A"></a>

```py
print([2] > [1]) # 最初の要素
print([1] > [2])
print([1, 2] > [1, 1]) # 一番最初の異なる要素
print([1, 1] > [1, 2])
```

> True
>
> False
>
> True
>
> False

```py
lst = [[2, 10, 100], [3, 20, 300], [1, 10, 200], [1, 30, 200], [2, 10, 200]]

# lst = sorted(lst)
lst.sort()

print(lst)
```

> [
>
>     [1, 10, 200],
>
>     [1, 30, 200],
>
>     [2, 10, 100],
>
>     [2, 10, 200],
>
>     [3, 20, 300]
>
> ]


###### 任意の要素を比較してソート
<a id="markdown-%E4%BB%BB%E6%84%8F%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E6%AF%94%E8%BC%83%E3%81%97%E3%81%A6%E3%82%BD%E3%83%BC%E3%83%88" name="%E4%BB%BB%E6%84%8F%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E6%AF%94%E8%BC%83%E3%81%97%E3%81%A6%E3%82%BD%E3%83%BC%E3%83%88"></a>

```py
lst = [[2, 10, 100], [3, 20, 300], [1, 10, 200], [1, 30, 200], [2, 10, 200]]

lst = sorted(lst, key=lambda x: x[2]) # 逆順ソートの場合は sorted(lst, key=lambda x: x[2], reverse=True)
# lst.sort(key=lambda x: x[2])

print(lst)
```

> [
>
>     [2, 10, 100],
>
>     [1, 10, 200],
>
>     [1, 30, 200],
>
>     [2, 10, 200],
>
>     [3, 20, 300]
>
> ]


###### 3次元リスト
<a id="markdown-%E6%AC%A1%E5%85%83%E3%83%AA%E3%82%B9%E3%83%88" name="%E6%AC%A1%E5%85%83%E3%83%AA%E3%82%B9%E3%83%88"></a>

```py
lst = [[[2, 10, 100], [3, 20, 300], [1, 20, 200]], [[1, 10, 200], [1, 30, 200], [2, 10, 200]]]

# lst = sorted(lst, key=lambda x: x[0][0])
lst.sort(key=lambda x: x[0][0])

print(lst)
```

> [
>
>     [
>
>         [1, 10, 200],
>
>         [1, 30, 200],
>
>         [2, 10, 200]
>
>     ],
>
>     [
>
>         [2, 10, 100],
>
>         [3, 20, 300],
>
>         [1, 20, 200]
>
>     ]
>
> ]


##### 辞書のリスト
<a id="markdown-%E8%BE%9E%E6%9B%B8%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88" name="%E8%BE%9E%E6%9B%B8%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88"></a>

```py
lst = [
    {'height': 170, 'weight': 65},
    {'height': 160, 'weight': 55},
    {'height': 180, 'weight': 75}
]

lst = sorted(lst, key=lambda x: x['height'])
# lst.sort(key=lambda x: x[2])

print(lst)
```

> [
>
>     {'height': 160, 'weight': 55},
>
>     {'height': 170, 'weight': 65},
>
>     {'height': 180, 'weight': 75}
>
> ]


##### タプルのリスト
<a id="markdown-%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88" name="%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88"></a>

```py
lst = [
    ('Ichiro', 185, 65),
    ('Jiro', 160, 55),
    ('Saburo', 180, 75)
]

# lst = sorted(lst, key=lambda x: x[2])

# lst.sort(key=lambda x: x[2])

from operator import itemgetter
lst = sorted(lst, key=itemgetter(2))

print(lst)
```

> [
>
>     ('Jiro', 160, 55),
>
>     ('Ichiro', 185, 65),
>
>      ('Saburo', 180, 75)
>
> ]


##### セットのリスト
<a id="markdown-%E3%82%BB%E3%83%83%E3%83%88%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88" name="%E3%82%BB%E3%83%83%E3%83%88%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88"></a>


### リストのランダム処理
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E5%87%A6%E7%90%86" name="%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E5%87%A6%E7%90%86"></a>


#### リストから要素を 1 個ランダムに取り出す
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E3%81%8B%E3%82%89%E8%A6%81%E7%B4%A0%E3%82%92-1-%E5%80%8B%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%81%AB%E5%8F%96%E3%82%8A%E5%87%BA%E3%81%99" name="%E3%83%AA%E3%82%B9%E3%83%88%E3%81%8B%E3%82%89%E8%A6%81%E7%B4%A0%E3%82%92-1-%E5%80%8B%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%81%AB%E5%8F%96%E3%82%8A%E5%87%BA%E3%81%99"></a>

```py
import random

lst = list(range(1,7))

random.choice(lst)
```

> 6
>
> 3
>
> 2


#### リストから要素を複数個ランダムに取り出す(重複あり)
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E3%81%8B%E3%82%89%E8%A6%81%E7%B4%A0%E3%82%92%E8%A4%87%E6%95%B0%E5%80%8B%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%81%AB%E5%8F%96%E3%82%8A%E5%87%BA%E3%81%99%E9%87%8D%E8%A4%87%E3%81%82%E3%82%8A" name="%E3%83%AA%E3%82%B9%E3%83%88%E3%81%8B%E3%82%89%E8%A6%81%E7%B4%A0%E3%82%92%E8%A4%87%E6%95%B0%E5%80%8B%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%81%AB%E5%8F%96%E3%82%8A%E5%87%BA%E3%81%99%E9%87%8D%E8%A4%87%E3%81%82%E3%82%8A"></a>

```py
import random

lst = list(range(1,7))
n = 3

[random.choice(lst) for _ in range(n)]

random.choices(lst, k=n)
```

> [5, 2, 3]
>
> [1, 1, 5]


#### リストから要素を複数個ランダムに取り出す(重複なし)
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E3%81%8B%E3%82%89%E8%A6%81%E7%B4%A0%E3%82%92%E8%A4%87%E6%95%B0%E5%80%8B%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%81%AB%E5%8F%96%E3%82%8A%E5%87%BA%E3%81%99%E9%87%8D%E8%A4%87%E3%81%AA%E3%81%97" name="%E3%83%AA%E3%82%B9%E3%83%88%E3%81%8B%E3%82%89%E8%A6%81%E7%B4%A0%E3%82%92%E8%A4%87%E6%95%B0%E5%80%8B%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%81%AB%E5%8F%96%E3%82%8A%E5%87%BA%E3%81%99%E9%87%8D%E8%A4%87%E3%81%AA%E3%81%97"></a>

```py
import random

lst = list(range(1,7))
n = 3

random.sample(lst, n)
```

> [1, 6, 4]


#### リストの要素をランダムソート(シャッフル)する
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%82%BD%E3%83%BC%E3%83%88%E3%82%B7%E3%83%A3%E3%83%83%E3%83%95%E3%83%AB%E3%81%99%E3%82%8B" name="%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%82%BD%E3%83%BC%E3%83%88%E3%82%B7%E3%83%A3%E3%83%83%E3%83%95%E3%83%AB%E3%81%99%E3%82%8B"></a>

```py
import random

lst1 = list(range(1,7))

# もとのリスト自体をソート
random.shuffle(lst1)
print(lst1)

# シャッフルした新しいリストを返す
lst2 = random.sample(lst1, len(lst1))
print(lst2)
```

> [2, 4, 3, 1, 6, 5]
>
> [1, 6, 5, 2, 3, 4]


### リストの重複する要素
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E9%87%8D%E8%A4%87%E3%81%99%E3%82%8B%E8%A6%81%E7%B4%A0" name="%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E9%87%8D%E8%A4%87%E3%81%99%E3%82%8B%E8%A6%81%E7%B4%A0"></a>


#### リストの重複する要素を除去
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E9%87%8D%E8%A4%87%E3%81%99%E3%82%8B%E8%A6%81%E7%B4%A0%E3%82%92%E9%99%A4%E5%8E%BB" name="%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E9%87%8D%E8%A4%87%E3%81%99%E3%82%8B%E8%A6%81%E7%B4%A0%E3%82%92%E9%99%A4%E5%8E%BB"></a>


#### リストの重複する要素を除去
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E9%87%8D%E8%A4%87%E3%81%99%E3%82%8B%E8%A6%81%E7%B4%A0%E3%82%92%E9%99%A4%E5%8E%BB" name="%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E9%87%8D%E8%A4%87%E3%81%99%E3%82%8B%E8%A6%81%E7%B4%A0%E3%82%92%E9%99%A4%E5%8E%BB"></a>

```py
# 順番を無視
l = ['foo', 'bar', 'hoge', 'foo', 'bar', 'hoge', 'foo', 'bar', 'hoge']
ls = list(set(l))
print(ls)
```

> ['hoge', 'bar', 'foo']


#### リストの重複する要素を除去
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E9%87%8D%E8%A4%87%E3%81%99%E3%82%8B%E8%A6%81%E7%B4%A0%E3%82%92%E9%99%A4%E5%8E%BB" name="%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E9%87%8D%E8%A4%87%E3%81%99%E3%82%8B%E8%A6%81%E7%B4%A0%E3%82%92%E9%99%A4%E5%8E%BB"></a>

```py
# Python 3.6以降
ld = list(dict.fromkeys(l))
print(ld)

# Python 3.5以前
ss = sorted(set(l), key=l.index)
print(ss)
```

> ['foo', 'bar', 'hoge']
>
> ['foo', 'bar', 'hoge']


##### リストが入れ子の場合
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E3%81%8C%E5%85%A5%E3%82%8C%E5%AD%90%E3%81%AE%E5%A0%B4%E5%90%88" name="%E3%83%AA%E3%82%B9%E3%83%88%E3%81%8C%E5%85%A5%E3%82%8C%E5%AD%90%E3%81%AE%E5%A0%B4%E5%90%88"></a>

```py
def uniq(td):
    f = []
    return [i for i in td if i not in f and not f.append(i)]

l2d = [['foo'], ['bar'], ['hoge'], ['foo'], ['bar'], ['hoge'], ['foo'], ['bar'], ['hoge']]
uniql2d = uniq(l2d)
print(uniql2d)
```

> [['foo'], ['bar'], ['hoge']]


#### リストの重複する要素を抽出
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E9%87%8D%E8%A4%87%E3%81%99%E3%82%8B%E8%A6%81%E7%B4%A0%E3%82%92%E6%8A%BD%E5%87%BA" name="%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E9%87%8D%E8%A4%87%E3%81%99%E3%82%8B%E8%A6%81%E7%B4%A0%E3%82%92%E6%8A%BD%E5%87%BA"></a>


#### リストの重複する要素を抽出
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E9%87%8D%E8%A4%87%E3%81%99%E3%82%8B%E8%A6%81%E7%B4%A0%E3%82%92%E6%8A%BD%E5%87%BA" name="%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E9%87%8D%E8%A4%87%E3%81%99%E3%82%8B%E8%A6%81%E7%B4%A0%E3%82%92%E6%8A%BD%E5%87%BA"></a>

```py
l = ['foo', 'bar', 'hoge', 'foo', 'bar', 'hoge', 'foo', 'bar', 'hoge']
sc = [x for x in set(l) if l.count(x) > 1]
print(sc)
```

> ['hoge', 'bar', 'foo']


#### リストの重複する要素を抽出
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E9%87%8D%E8%A4%87%E3%81%99%E3%82%8B%E8%A6%81%E7%B4%A0%E3%82%92%E6%8A%BD%E5%87%BA" name="%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E9%87%8D%E8%A4%87%E3%81%99%E3%82%8B%E8%A6%81%E7%B4%A0%E3%82%92%E6%8A%BD%E5%87%BA"></a>

```py
# Python 3.6以降
df = [x for x in dict.fromkeys(l) if l.count(x) > 1]
print(df)

# Python 3.5以前
sk = sorted([x for x in set(l) if l.count(x) > 1], key=l.index)
print(ss)
```

> ['foo', 'bar', 'hoge']
>
> ['foo', 'bar', 'hoge']


### 高階関数
<a id="markdown-%E9%AB%98%E9%9A%8E%E9%96%A2%E6%95%B0" name="%E9%AB%98%E9%9A%8E%E9%96%A2%E6%95%B0"></a>


#### map(要素ごとに処理)
<a id="markdown-map%E8%A6%81%E7%B4%A0%E3%81%94%E3%81%A8%E3%81%AB%E5%87%A6%E7%90%86" name="map%E8%A6%81%E7%B4%A0%E3%81%94%E3%81%A8%E3%81%AB%E5%87%A6%E7%90%86"></a>

第 2 引数の各要素に対して、第 1 引数の lambda 式を適用した結果をイテレータとして返す

```py
# リストに対する演算(map)：map関数は、Python2ではリストを返すがPython3ではイテレータを返すため、list関数を挟む必要がある
numlist = [1, 3, 5, 2, 4]

def double(x): return x * 2

print(map(double, numlist))
print(map(lambda x: x * 2, numlist))

print(list(map(double, numlist))) # Python3でリストを得たい場合
print(list(map(lambda x: x * 2, numlist))) # Python3でリストを得たい場合

print([x * 2 for x in numlist]) # 同じことを内包表記で行う
```

> [2, 6, 10, 4, 8]


#### filter(要素のフィルタリング)
<a id="markdown-filter%E8%A6%81%E7%B4%A0%E3%81%AE%E3%83%95%E3%82%A3%E3%83%AB%E3%82%BF%E3%83%AA%E3%83%B3%E3%82%B0" name="filter%E8%A6%81%E7%B4%A0%E3%81%AE%E3%83%95%E3%82%A3%E3%83%AB%E3%82%BF%E3%83%AA%E3%83%B3%E3%82%B0"></a>

リストに対してフィルタリングする

```py
numlist = [1, 3, 5, 2, 4]

def isodd(x): return x % 2 # 条件式(True/Falseを返す)のlambda式

print(list(filter(isodd, numlist)))
print(list(filter(lambda x: x % 2, numlist)))
print([x for x in numlist if x % 2]) # 同じことを内包表記で行う
```

> [1, 3, 5]


#### reduce(畳み込み／集約)
<a id="markdown-reduce%E7%95%B3%E3%81%BF%E8%BE%BC%E3%81%BF%EF%BC%8F%E9%9B%86%E7%B4%84" name="reduce%E7%95%B3%E3%81%BF%E8%BE%BC%E3%81%BF%EF%BC%8F%E9%9B%86%E7%B4%84"></a>

リストに対する畳みこみ(集約)

```py
from functools import reduce

numlist = [1, 3, 5, 2, 4]

def add(x, y): return x + y

print(reduce(add, numlist))
print(reduce(lambda x, y: x + y, numlist))
```

> 15


### リストの内包表記
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E5%86%85%E5%8C%85%E8%A1%A8%E8%A8%98" name="%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E5%86%85%E5%8C%85%E8%A1%A8%E8%A8%98"></a>

```
形式: [式 for 変数 in イテラブルオブジェクト if 条件式]
```

高階関数のうち、map と filter は内包表記でも同等の処理を行うことが可能


#### map(要素ごとに処理)
<a id="markdown-map%E8%A6%81%E7%B4%A0%E3%81%94%E3%81%A8%E3%81%AB%E5%87%A6%E7%90%86" name="map%E8%A6%81%E7%B4%A0%E3%81%94%E3%81%A8%E3%81%AB%E5%87%A6%E7%90%86"></a>

要素全てに処理を行う

```py
l = list(range(100))

# 要素全てに処理を行う
strlist = [str(i) for i in l]
print(strlist)
```

> ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31', '32', '33', '34', '35', '36', '37', '38', '39', '40', '41', '42', '43', '44', '45', '46', '47', '48', '49', '50', '51', '52', '53', '54', '55', '56', '57', '58', '59', '60', '61', '62', '63', '64', '65', '66', '67', '68', '69', '70', '71', '72', '73', '74', '75', '76', '77', '78', '79', '80', '81', '82', '83', '84', '85', '86', '87', '88', '89', '90', '91', '92', '93', '94', '95', '96', '97', '98', '99']

```py
l = list(range(100))

# インデックス番号を取得しながら要素全てに処理を行う
strlist = [(i, str(v)) for i, v in enumerate(l)]
print(strlist)
```

> [(0, '0'), (1, '1'), (2, '2'), (3, '3'), (4, '4'), (5, '5'), (6, '6'), (7, '7'), (8, '8'), (9, '9'), (10, '10'), (11, '11'), (12, '12'), (13, '13'), (14, '14'), (15, '15'), (16, '16'), (17, '17'), (18, '18'), (19, '19'), (20, '20'), (21, '21'), (22, '22'), (23, '23'), (24, '24'), (25, '25'), (26, '26'), (27, '27'), (28, '28'), (29, '29'), (30, '30'), (31, '31'), (32, '32'), (33, '33'), (34, '34'), (35, '35'), (36, '36'), (37, '37'), (38, '38'), (39, '39'), (40, '40'), (41, '41'), (42, '42'), (43, '43'), (44, '44'), (45, '45'), (46, '46'), (47, '47'), (48, '48'), (49, '49'), (50, '50'), (51, '51'), (52, '52'), (53, '53'), (54, '54'), (55, '55'), (56, '56'), (57, '57'), (58, '58'), (59, '59'), (60, '60'), (61, '61'), (62, '62'), (63, '63'), (64, '64'), (65, '65'), (66, '66'), (67, '67'), (68, '68'), (69, '69'), (70, '70'), (71, '71'), (72, '72'), (73, '73'), (74, '74'), (75, '75'), (76, '76'), (77, '77'), (78, '78'), (79, '79'), (80, '80'), (81, '81'), (82, '82'), (83, '83'), (84, '84'), (85, '85'), (86, '86'), (87, '87'), (88, '88'), (89, '89'), (90, '90'), (91, '91'), (92, '92'), (93, '93'), (94, '94'), (95, '95'), (96, '96'), (97, '97'), (98, '98'), (99, '99')]


#### filter(要素のフィルタリング)
<a id="markdown-filter%E8%A6%81%E7%B4%A0%E3%81%AE%E3%83%95%E3%82%A3%E3%83%AB%E3%82%BF%E3%83%AA%E3%83%B3%E3%82%B0" name="filter%E8%A6%81%E7%B4%A0%E3%81%AE%E3%83%95%E3%82%A3%E3%83%AB%E3%82%BF%E3%83%AA%E3%83%B3%E3%82%B0"></a>

条件に合致する要素のみからなるリストを生成(抽出)

```py
l = list(range(100))

# 条件に合致する要素のみからなるリストを生成(抽出)
fivelist = [i for i in l if i % 5 == 0 and i <= 50]
print(fivelist)

fivelist = [i  if i % 5 == 0 and i <= 50 else -1 for i in l] # elseがある場合は三項演算子なので順序が変わる
print(fivelist)
```

> [0, 5, 10, 15, 20, 25, 30, 35, 40, 45, 50]
>
> [0, -1, -1, -1, -1, 5, -1, -1, -1, -1, 10, -1, -1, -1, -1, 15, -1, -1, -1, -1, 20, -1, -1, -1, -1, 25, -1, -1, -1, -1, 30, -1, -1, -1, -1, 35, -1, -1, -1, -1, 40, -1, -1, -1, -1, 45, -1, -1, -1, -1, 50, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]

```py
l = ['Lorem', '', 'ipsum', None, 'dolor', 'sit', 'amet']
l = [s for s in l if s]
print(l)
```

>


#### 多次元リスト
<a id="markdown-%E5%A4%9A%E6%AC%A1%E5%85%83%E3%83%AA%E3%82%B9%E3%83%88" name="%E5%A4%9A%E6%AC%A1%E5%85%83%E3%83%AA%E3%82%B9%E3%83%88"></a>

```py
# 多次元リストの初期化
m = 3
n = 4
[[0] * m for _ in [0] * n]
```

> [[0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0]]

```py
[[i, j, i * j] for i in range(10) for j in range(10)]
```

> \# 多次元リスト
>
> [
>
> &nbsp;&nbsp;&nbsp;&nbsp;[0, 0, 0], [0, 1, 0], [0, 2, 0], [0, 3, 0], [0, 4, 0], [0, 5, 0], [0, 6, 0], [0, 7, 0], [0, 8, 0], [0, 9, 0],
>
> &nbsp;&nbsp;&nbsp;&nbsp;[1, 0, 0], [1, 1, 1], [1, 2, 2], [1, 3, 3], [1, 4, 4], [1, 5, 5], [1, 6, 6], [1, 7, 7], [1, 8, 8], [1, 9, 9],
>
> &nbsp;&nbsp;&nbsp;&nbsp;[2, 0, 0], [2, 1, 2], [2, 2, 4], [2, 3, 6], [2, 4, 8], [2, 5, 10], [2, 6, 12], [2, 7, 14], [2, 8, 16], [2, 9, 18],
>
> &nbsp;&nbsp;&nbsp;&nbsp;[3, 0, 0], [3, 1, 3], [3, 2, 6], [3, 3, 9], [3, 4, 12], [3, 5, 15], [3, 6, 18], [3, 7, 21], [3, 8, 24], [3, 9, 27],
>
> &nbsp;&nbsp;&nbsp;&nbsp;[4, 0, 0], [4, 1, 4], [4, 2, 8], [4, 3, 12], [4, 4, 16], [4, 5, 20], [4, 6, 24], [4, 7, 28], [4, 8, 32], [4, 9, 36],
>
> &nbsp;&nbsp;&nbsp;&nbsp;[5, 0, 0], [5, 1, 5], [5, 2, 10], [5, 3, 15], [5, 4, 20], [5, 5, 25], [5, 6, 30], [5, 7, 35], [5, 8, 40], [5, 9, 45],
>
> &nbsp;&nbsp;&nbsp;&nbsp;[6, 0, 0], [6, 1, 6], [6, 2, 12], [6, 3, 18], [6, 4, 24], [6, 5, 30], [6, 6, 36], [6, 7, 42], [6, 8, 48], [6, 9, 54],
>
> &nbsp;&nbsp;&nbsp;&nbsp;[7, 0, 0], [7, 1, 7], [7, 2, 14], [7, 3, 21], [7, 4, 28], [7, 5, 35], [7, 6, 42], [7, 7, 49], [7, 8, 56], [7, 9, 63],
>
> &nbsp;&nbsp;&nbsp;&nbsp;[8, 0, 0], [8, 1, 8], [8, 2, 16], [8, 3, 24], [8, 4, 32], [8, 5, 40], [8, 6, 48], [8, 7, 56], [8, 8, 64], [8, 9, 72],
>
> &nbsp;&nbsp;&nbsp;&nbsp;[9, 0, 0], [9, 1, 9], [9, 2, 18], [9, 3, 27], [9, 4, 36], [9, 5, 45], [9, 6, 54], [9, 7, 63], [9, 8, 72], [9, 9, 81]
>
> ]


#### リスト内包表記で FizzBuzz
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E5%86%85%E5%8C%85%E8%A1%A8%E8%A8%98%E3%81%A7-fizzbuzz" name="%E3%83%AA%E3%82%B9%E3%83%88%E5%86%85%E5%8C%85%E8%A1%A8%E8%A8%98%E3%81%A7-fizzbuzz"></a>

```py
[
    'FizzBuzz' if not n % 15 else
    'Fizz'     if not n % 3  else
    'Buzz'     if not n % 5  else
    str(n)
    for n in range(1, 1 + 100)
]
```


#### リスト内包表記の入れ子
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E5%86%85%E5%8C%85%E8%A1%A8%E8%A8%98%E3%81%AE%E5%85%A5%E3%82%8C%E5%AD%90" name="%E3%83%AA%E3%82%B9%E3%83%88%E5%86%85%E5%8C%85%E8%A1%A8%E8%A8%98%E3%81%AE%E5%85%A5%E3%82%8C%E5%AD%90"></a>

```py
[
    i*i
    for i
    in [
        j*2
        for j
        in range(10)
    ]
]
```

> [0, 4, 16, 36, 64, 100, 144, 196, 256, 324]

```py
[
    (i,j)
    for i in [-2, -1, 0, 1, 2]
    for j in [-2, -1, 0, 1, 2]
    if sqrt(i**2 + j**2) < 2
]
```


## 辞書
<a id="markdown-%E8%BE%9E%E6%9B%B8" name="%E8%BE%9E%E6%9B%B8"></a>


### 辞書が空か検査
<a id="markdown-%E8%BE%9E%E6%9B%B8%E3%81%8C%E7%A9%BA%E3%81%8B%E6%A4%9C%E6%9F%BB" name="%E8%BE%9E%E6%9B%B8%E3%81%8C%E7%A9%BA%E3%81%8B%E6%A4%9C%E6%9F%BB"></a>

| 判定方法      |
| ------------- |
| `not dct`     |
| `len(dct)==0` |
| `dct == {}`   |

```py
dct = {}
if not dct:
  print('empty')

if len(dct)==0:
  print('empty')

if dct == {}:
  print('empty')
```


### 辞書を生成
<a id="markdown-%E8%BE%9E%E6%9B%B8%E3%82%92%E7%94%9F%E6%88%90" name="%E8%BE%9E%E6%9B%B8%E3%82%92%E7%94%9F%E6%88%90"></a>


#### 空の辞書を生成
<a id="markdown-%E7%A9%BA%E3%81%AE%E8%BE%9E%E6%9B%B8%E3%82%92%E7%94%9F%E6%88%90" name="%E7%A9%BA%E3%81%AE%E8%BE%9E%E6%9B%B8%E3%82%92%E7%94%9F%E6%88%90"></a>

```py
dct = {}

# 初期化(すべての要素を削除)
dct.clear()
```


#### 初期値を指定して生成
<a id="markdown-%E5%88%9D%E6%9C%9F%E5%80%A4%E3%82%92%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%A6%E7%94%9F%E6%88%90" name="%E5%88%9D%E6%9C%9F%E5%80%A4%E3%82%92%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%A6%E7%94%9F%E6%88%90"></a>

```py
dct = { 1:'first', 2:'second', 3:'third'}

# デバッグ表示
print(str(dct))
print('%s' % dct)
```

> {1: 'first', 2: 'second', 3: 'third'}
>
> {1: 'first', 2: 'second', 3: 'third'}

```py
dct = { 1:'first', 2:'two', 2:'second', 3:'third'}
# キーが同じ要素が追加されたら上書きされる(2:'two'ではなく2:'second'が残る)
```

> {1: 'first', 2: 'second', 3: 'third'}


#### 辞書をコピーして生成
<a id="markdown-%E8%BE%9E%E6%9B%B8%E3%82%92%E3%82%B3%E3%83%94%E3%83%BC%E3%81%97%E3%81%A6%E7%94%9F%E6%88%90" name="%E8%BE%9E%E6%9B%B8%E3%82%92%E3%82%B3%E3%83%94%E3%83%BC%E3%81%97%E3%81%A6%E7%94%9F%E6%88%90"></a>

```py
olddict = { 1:'first', 2:'second', 3:'third'}
newdict = dict(olddict)
print(newdict)
```

> {1: 'first', 2: 'second', 3: 'third'}


##### 辞書を代入した場合
<a id="markdown-%E8%BE%9E%E6%9B%B8%E3%82%92%E4%BB%A3%E5%85%A5%E3%81%97%E3%81%9F%E5%A0%B4%E5%90%88" name="%E8%BE%9E%E6%9B%B8%E3%82%92%E4%BB%A3%E5%85%A5%E3%81%97%E3%81%9F%E5%A0%B4%E5%90%88"></a>

```py
dct1 = dict(('1f', '2s', '3t'))

dct2 = dct1
dct1['1'] = 'z'
print(dct1)
print(dct2)

dct1 = dict(('1f', '2s', '3t'))
dct2 = dct1.copy()
dct1['1'] = 'z'
print(dct1)
print(dct2)
```

> {'1': 'z', '2': 's', '3': 't'}
>
> {'1': 'z', '2': 's', '3': 't'}

> {'1': 'z', '2': 's', '3': 't'}
>
> {'1': 'f', '2': 's', '3': 't'}


#### リスト・タプルから生成
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E3%83%BB%E3%82%BF%E3%83%97%E3%83%AB%E3%81%8B%E3%82%89%E7%94%9F%E6%88%90" name="%E3%83%AA%E3%82%B9%E3%83%88%E3%83%BB%E3%82%BF%E3%83%97%E3%83%AB%E3%81%8B%E3%82%89%E7%94%9F%E6%88%90"></a>


##### リストから生成
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E3%81%8B%E3%82%89%E7%94%9F%E6%88%90" name="%E3%83%AA%E3%82%B9%E3%83%88%E3%81%8B%E3%82%89%E7%94%9F%E6%88%90"></a>

```py
l = list(range(100))
lst = [str(i) for i in l] # リスト
dct = {li: str(li) for li in l} # 辞書
print(dct)
```

> {0: '0', 1: '1', 2: '2', ＜中略＞ 99: '99'}


###### 連番とリストの要素から生成
<a id="markdown-%E9%80%A3%E7%95%AA%E3%81%A8%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%81%8B%E3%82%89%E7%94%9F%E6%88%90" name="%E9%80%A3%E7%95%AA%E3%81%A8%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%81%8B%E3%82%89%E7%94%9F%E6%88%90"></a>

```py
values = ['first', 'second', 'third']
['{0}: {1}'.format(i + 100, values[i]) for i in range(len(values))]
['{0}: {1}'.format(i + 100, v) for i, v in enumerate(values)]
```

> ['100: first', '101: second', '102: third']
>
> ['100: first', '101: second', '102: third']


##### リストのリストから生成
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88%E3%81%8B%E3%82%89%E7%94%9F%E6%88%90" name="%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88%E3%81%8B%E3%82%89%E7%94%9F%E6%88%90"></a>

```py
lst = [[1, 'first'], [2, 'second'], [3, 'third']]
dct = dict(lst)
print(dct)
```

> {1: 'first', 2: 'second', 3: 'third'}


##### 2 つのリストから生成
<a id="markdown-%E3%81%A4%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88%E3%81%8B%E3%82%89%E7%94%9F%E6%88%90" name="%E3%81%A4%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88%E3%81%8B%E3%82%89%E7%94%9F%E6%88%90"></a>


###### 要素数の少ないリストに合わせる
<a id="markdown-%E8%A6%81%E7%B4%A0%E6%95%B0%E3%81%AE%E5%B0%91%E3%81%AA%E3%81%84%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AB%E5%90%88%E3%82%8F%E3%81%9B%E3%82%8B" name="%E8%A6%81%E7%B4%A0%E6%95%B0%E3%81%AE%E5%B0%91%E3%81%AA%E3%81%84%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AB%E5%90%88%E3%82%8F%E3%81%9B%E3%82%8B"></a>

```py
keys = [1, 2, 3]
values = ['first', 'second', 'third']
dct = dict(zip(keys, values))
print(dct)
```

> {1: 'first', 2: 'second', 3: 'third'}


###### 要素数の多いリストに合わせる
<a id="markdown-%E8%A6%81%E7%B4%A0%E6%95%B0%E3%81%AE%E5%A4%9A%E3%81%84%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AB%E5%90%88%E3%82%8F%E3%81%9B%E3%82%8B" name="%E8%A6%81%E7%B4%A0%E6%95%B0%E3%81%AE%E5%A4%9A%E3%81%84%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AB%E5%90%88%E3%82%8F%E3%81%9B%E3%82%8B"></a>

```py
from itertools import zip_longest
keys = [1, 2]
values = ['first', 'second', 'third']
dct = dict(zip_longest(keys, values, fillvalue=3))
print(dct)
```

> {1: 'first', 2: 'second', 3: 'third'}


###### 条件に合致する要素のみからなる辞書を生成(抽出)
<a id="markdown-%E6%9D%A1%E4%BB%B6%E3%81%AB%E5%90%88%E8%87%B4%E3%81%99%E3%82%8B%E8%A6%81%E7%B4%A0%E3%81%AE%E3%81%BF%E3%81%8B%E3%82%89%E3%81%AA%E3%82%8B%E8%BE%9E%E6%9B%B8%E3%82%92%E7%94%9F%E6%88%90%E6%8A%BD%E5%87%BA" name="%E6%9D%A1%E4%BB%B6%E3%81%AB%E5%90%88%E8%87%B4%E3%81%99%E3%82%8B%E8%A6%81%E7%B4%A0%E3%81%AE%E3%81%BF%E3%81%8B%E3%82%89%E3%81%AA%E3%82%8B%E8%BE%9E%E6%9B%B8%E3%82%92%E7%94%9F%E6%88%90%E6%8A%BD%E5%87%BA"></a>

```py
keys = [1, 2, 3, 4, 5, 10, 12]
values = ['v1', 'v2', 'v3', 'v4', 'v5', 'v10', 'v12']
dct1 = {k: v for k, v in zip(keys, values) if k % 5 == 0 and k <= 50}
print(dct1)

dct2 = {k: v if k % 5 == 0 and k <= 50 else -1 for k, v in zip(keys, values)}
print(dct2)
```

> {5: 'v5', 10: 'v10'}
>
> {1: -1, 2: -1, 3: -1, 4: -1, 5: 'v5', 10: 'v10', 12: -1}


##### リストのタプルから生成
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E3%82%BF%E3%83%97%E3%83%AB%E3%81%8B%E3%82%89%E7%94%9F%E6%88%90" name="%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E3%82%BF%E3%83%97%E3%83%AB%E3%81%8B%E3%82%89%E7%94%9F%E6%88%90"></a>

```py
tpl = ([1, 'first'], [2, 'second'], [3, 'third'])
dct = dict(tpl)
```

> {1: 'first', 2: 'second', 3: 'third'}


##### タプルのリストから生成
<a id="markdown-%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88%E3%81%8B%E3%82%89%E7%94%9F%E6%88%90" name="%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88%E3%81%8B%E3%82%89%E7%94%9F%E6%88%90"></a>

```py
lst = [(1, 'first'), (2, 'second'), (3, 'third')]
dct = dict(lst)
```

> {1: 'first', 2: 'second', 3: 'third'}


##### 文字列のリストから生成
<a id="markdown-%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88%E3%81%8B%E3%82%89%E7%94%9F%E6%88%90" name="%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88%E3%81%8B%E3%82%89%E7%94%9F%E6%88%90"></a>

```py
lst = ['1f', '2s', '3t']
dct = dict(lst)
```

> {'1': 'f', '2': 's', '3': 't'}


##### 文字列のタプルから生成
<a id="markdown-%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E3%82%BF%E3%83%97%E3%83%AB%E3%81%8B%E3%82%89%E7%94%9F%E6%88%90" name="%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E3%82%BF%E3%83%97%E3%83%AB%E3%81%8B%E3%82%89%E7%94%9F%E6%88%90"></a>

```py
tpl = ('1f', '2s', '3t')
dct = dict(tpl)
```

> {'1': 'f', '2': 's', '3': 't'}


### 辞書に要素を追加
<a id="markdown-%E8%BE%9E%E6%9B%B8%E3%81%AB%E8%A6%81%E7%B4%A0%E3%82%92%E8%BF%BD%E5%8A%A0" name="%E8%BE%9E%E6%9B%B8%E3%81%AB%E8%A6%81%E7%B4%A0%E3%82%92%E8%BF%BD%E5%8A%A0"></a>


#### キーを指定して要素を追加
<a id="markdown-%E3%82%AD%E3%83%BC%E3%82%92%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%A6%E8%A6%81%E7%B4%A0%E3%82%92%E8%BF%BD%E5%8A%A0" name="%E3%82%AD%E3%83%BC%E3%82%92%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%A6%E8%A6%81%E7%B4%A0%E3%82%92%E8%BF%BD%E5%8A%A0"></a>

```py
dct = { 1:'first', 2:'second', 3:'third'}
print(len(dct))

# 追加
dct[len(dct) + 1] = 'fourth'

# 要素の置換
dct[2] = 'secondsecond'

print(dct)
```

> 3
>
> {1: 'first', 2: 'secondsecond', 3: 'third', 4: 'fourth'}


#### 辞書を連結(結合)
<a id="markdown-%E8%BE%9E%E6%9B%B8%E3%82%92%E9%80%A3%E7%B5%90%E7%B5%90%E5%90%88" name="%E8%BE%9E%E6%9B%B8%E3%82%92%E9%80%A3%E7%B5%90%E7%B5%90%E5%90%88"></a>

```py
dct1 = dict(('1f', '2s', '3t'))
dct2 = dict(('4f', '5f', '6s'))
dct3 = dict(('4x', '8e', '9n'))

print(dct1)

dct1.update(dct2)

print(dct1)
print(dct2)

dct1.update(dct3)

print(dct1)
print(dct3)

print({**dct2, **dct3})

# Python 3.9以降
print(dct2 | dct3)
```

> {'1': 'f', '2': 's', '3': 't'} \# print(dct1)
>
> {'1': 'f', '2': 's', '3': 't', '4': 'f', '5': 'f', '6': 's'} \# print(dct1)
>
> {'4': 'f', '5': 'f', '6': 's'} \# print(dct2)

> {'1': 'f', '2': 's', '3': 't', '4': 'x', '5': 'f', '6': 's', '8': 'e', '9': 'n'} \# print(dct1)
>
> {'4': 'x', '8': 'e', '9': 'n'} \# print(dct3)
>
> {'4': 'x', '5': 'f', '6': 's', '8': 'e', '9': 'n'} \# print({**dct2, **dct3})
>
> {'4': 'x', '5': 'f', '6': 's', '8': 'e', '9': 'n'} \# print(dct2 | dct3)


#### 既存のキーと重複する場合に上書きせずにカンマ区切りで追加
<a id="markdown-%E6%97%A2%E5%AD%98%E3%81%AE%E3%82%AD%E3%83%BC%E3%81%A8%E9%87%8D%E8%A4%87%E3%81%99%E3%82%8B%E5%A0%B4%E5%90%88%E3%81%AB%E4%B8%8A%E6%9B%B8%E3%81%8D%E3%81%9B%E3%81%9A%E3%81%AB%E3%82%AB%E3%83%B3%E3%83%9E%E5%8C%BA%E5%88%87%E3%82%8A%E3%81%A7%E8%BF%BD%E5%8A%A0" name="%E6%97%A2%E5%AD%98%E3%81%AE%E3%82%AD%E3%83%BC%E3%81%A8%E9%87%8D%E8%A4%87%E3%81%99%E3%82%8B%E5%A0%B4%E5%90%88%E3%81%AB%E4%B8%8A%E6%9B%B8%E3%81%8D%E3%81%9B%E3%81%9A%E3%81%AB%E3%82%AB%E3%83%B3%E3%83%9E%E5%8C%BA%E5%88%87%E3%82%8A%E3%81%A7%E8%BF%BD%E5%8A%A0"></a>

```py
from collections import defaultdict

def merge(*dicts):
    merged = defaultdict(list)
    # merged = defaultdict(set) # setにすると、既存のものとキーも値も重複した場合は追加されない
    for d in dicts:
        for k, v in d.items():
            # if v not in merged[k]: # listを使いつつ、既存のものとキーも値も重複した場合は追加しない
            merged[k].append(v) # list
            # merged[k].add(v) # set
    return merged

dct1 = {'red':'1', 'green':'2'}
dct2 = {'red':'3', 'green':'2', 'blue':'4'}
dct = merge(dct1, dct2)
print(dct)

dct_csv = {k: ','.join(v) for k, v in dct.items()}
print(dct_csv)
```

> \# list
>
> defaultdict(<class 'list'>, {'red': ['1', '3'], 'green': ['2', '2'], 'blue': ['4']})
>
> {'red': '3,1', 'green': '2,2', 'blue': '4'}

> \# set
>
> defaultdict(<class 'set'>, {'red': {'3', '1'}, 'green': {'2'}, 'blue': {'4'}})
>
> {'red': '3,1', 'green': '2', 'blue': '4'}



### 辞書の要素を参照
<a id="markdown-%E8%BE%9E%E6%9B%B8%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E5%8F%82%E7%85%A7" name="%E8%BE%9E%E6%9B%B8%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E5%8F%82%E7%85%A7"></a>

```py
dct = { 'key1':'first', 'key2':'second', 'key3':'third'}

dct['key1']
dct.key1 # 辞書には使用できない(オブジェクトの属性を参照する際に使用)
```

> 'first'
>
> AttributeError: 'dict' object has no attribute 'key1'


#### 存在しないキーを指定した場合
<a id="markdown-%E5%AD%98%E5%9C%A8%E3%81%97%E3%81%AA%E3%81%84%E3%82%AD%E3%83%BC%E3%82%92%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%9F%E5%A0%B4%E5%90%88" name="%E5%AD%98%E5%9C%A8%E3%81%97%E3%81%AA%E3%81%84%E3%82%AD%E3%83%BC%E3%82%92%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%9F%E5%A0%B4%E5%90%88"></a>

```py
dct = { 'key1':'first', 'key2':'second', 'key3':'third'}
```

| 関数                             | 値                   | 備考                                      |
| -------------------------------- | -------------------- | ----------------------------------------- |
| `dct['key999']`                  | `KeyError: 'key999'` | エラーが発生する                          |
| `dct.get('key999')`              | `None`               | 指定したキーが存在しなければ None を返す  |
| `dct.get('key999', 'not found')` | `not found`          | 指定したキーが存在しなければ引数 2 を返す |


#### 辞書の要素の存在チェック
<a id="markdown-%E8%BE%9E%E6%9B%B8%E3%81%AE%E8%A6%81%E7%B4%A0%E3%81%AE%E5%AD%98%E5%9C%A8%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF" name="%E8%BE%9E%E6%9B%B8%E3%81%AE%E8%A6%81%E7%B4%A0%E3%81%AE%E5%AD%98%E5%9C%A8%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF"></a>

```py
dct = { 1:'first', 2:'second', 3:'third', }
```

| 項目     | 関数                          | 値      |
| -------- | ----------------------------- | ------- |
| キー     | `1 in dct`                    | `True`  |
|          | `1 not in dct`                | `False` |
| 値       | `'first' in dct.values()`     | `True`  |
| キーと値 | `(1, 'first') in dct.items()` | `True`  |


#### 指定した値を持つキーを取得する
<a id="markdown-%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%9F%E5%80%A4%E3%82%92%E6%8C%81%E3%81%A4%E3%82%AD%E3%83%BC%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B" name="%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%9F%E5%80%A4%E3%82%92%E6%8C%81%E3%81%A4%E3%82%AD%E3%83%BC%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B"></a>

```py
targets = ['first', 'third']
keys = [k for k, v in dct.items() if v in targets]
print(keys)
```

> [1, 3]


#### 最大値・最小値（辞書）
<a id="markdown-%E6%9C%80%E5%A4%A7%E5%80%A4%E3%83%BB%E6%9C%80%E5%B0%8F%E5%80%A4%EF%BC%88%E8%BE%9E%E6%9B%B8%EF%BC%89" name="%E6%9C%80%E5%A4%A7%E5%80%A4%E3%83%BB%E6%9C%80%E5%B0%8F%E5%80%A4%EF%BC%88%E8%BE%9E%E6%9B%B8%EF%BC%89"></a>

##### キーの最大値／最小値を返す
<a id="markdown-%E3%82%AD%E3%83%BC%E3%81%AE%E6%9C%80%E5%A4%A7%E5%80%A4%EF%BC%8F%E6%9C%80%E5%B0%8F%E5%80%A4%E3%82%92%E8%BF%94%E3%81%99" name="%E3%82%AD%E3%83%BC%E3%81%AE%E6%9C%80%E5%A4%A7%E5%80%A4%EF%BC%8F%E6%9C%80%E5%B0%8F%E5%80%A4%E3%82%92%E8%BF%94%E3%81%99"></a>

辞書型をそのまま指定すると、キーの最大値／最小値を返す

```py
dct = { 'a':987, 'b':987, 'c':65, 'd':4, 'e':-3, 'f':-21, 'g':-21}
print(max(dct))
print(min(dct))
```

> g
>
> a

```py
dct = { 'a':987, 'b':987, 'c':65, 'd':4, 'e':-3, 'f':-21, 'g':-21}
print([k for k, v in dct.items() if k == max(dct.keys())])
print([k for k, v in dct.items() if k == min(dct.keys())])
```

> ['g']
>
> ['a']

##### 値の最大値／最小値を取得する
<a id="markdown-%E5%80%A4%E3%81%AE%E6%9C%80%E5%A4%A7%E5%80%A4%EF%BC%8F%E6%9C%80%E5%B0%8F%E5%80%A4%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B" name="%E5%80%A4%E3%81%AE%E6%9C%80%E5%A4%A7%E5%80%A4%EF%BC%8F%E6%9C%80%E5%B0%8F%E5%80%A4%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B"></a>

```py
dct = { 'a':987, 'b':987, 'c':65, 'd':4, 'e':-3, 'f':-21, 'g':-21}
print(max(dct.values()))
print(min(dct.values()))
```

> 987
>
> -21

```py
dct = { 'a':987, 'b':987, 'c':65, 'd':4, 'e':-3, 'f':-21, 'g':-21}
print(
    len(
        [v for k, v in dct.items() if v == max(dct.values())]
        )
    )
print(
    len(
        [v for k, v in dct.items() if v == min(dct.values())]
        )
    )
```

> 2
>
> 2

##### 値が最大／最小の要素を取得する
<a id="markdown-%E5%80%A4%E3%81%8C%E6%9C%80%E5%A4%A7%EF%BC%8F%E6%9C%80%E5%B0%8F%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B" name="%E5%80%A4%E3%81%8C%E6%9C%80%E5%A4%A7%EF%BC%8F%E6%9C%80%E5%B0%8F%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B"></a>

```py
print(max(dct.items(), key=lambda x: x[1]))
print(min(dct.items(), key=lambda x: x[1]))

```

> ('a', 987)
>
> ('f', -21)

```py
dct = { 'a':987, 'b':987, 'c':65, 'd':4, 'e':-3, 'f':-21, 'g':-21}
print([i for i in dct.items() if i[1] == max(dct.values())])
print([i for i in dct.items() if i[1] == min(dct.values())])
```

> [('a', 987), ('b', 987)]
>
> [('f', -21), ('g', -21)]

##### 値が最大／最小の要素のキーを取得する
<a id="markdown-%E5%80%A4%E3%81%8C%E6%9C%80%E5%A4%A7%EF%BC%8F%E6%9C%80%E5%B0%8F%E3%81%AE%E8%A6%81%E7%B4%A0%E3%81%AE%E3%82%AD%E3%83%BC%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B" name="%E5%80%A4%E3%81%8C%E6%9C%80%E5%A4%A7%EF%BC%8F%E6%9C%80%E5%B0%8F%E3%81%AE%E8%A6%81%E7%B4%A0%E3%81%AE%E3%82%AD%E3%83%BC%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B"></a>

```py
print(max(dct, key=dct.get))
print(min(dct, key=dct.get))
```

> a
>
> f

```py
dct = { 'a':987, 'b':987, 'c':65, 'd':4, 'e':-3, 'f':-21, 'g':-21}
print([k for k, v in dct.items() if v == max(dct.values())])
print([k for k, v in dct.items() if v == min(dct.values())])
```

> ['a', 'b']
>
> ['f', 'g']


### 辞書の要素を除去
<a id="markdown-%E8%BE%9E%E6%9B%B8%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E9%99%A4%E5%8E%BB" name="%E8%BE%9E%E6%9B%B8%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E9%99%A4%E5%8E%BB"></a>

```py
dct = { 'key1':'first', 'key2':'second', 'key3':'third'}

# キーを指定して要素を削除
del dct['key1']

print(dct)
```

> {'key2': 'second', 'key3': 'third'}


### 辞書の反復処理(キー・値・インデックスを取得)
<a id="markdown-%E8%BE%9E%E6%9B%B8%E3%81%AE%E5%8F%8D%E5%BE%A9%E5%87%A6%E7%90%86%E3%82%AD%E3%83%BC%E3%83%BB%E5%80%A4%E3%83%BB%E3%82%A4%E3%83%B3%E3%83%87%E3%83%83%E3%82%AF%E3%82%B9%E3%82%92%E5%8F%96%E5%BE%97" name="%E8%BE%9E%E6%9B%B8%E3%81%AE%E5%8F%8D%E5%BE%A9%E5%87%A6%E7%90%86%E3%82%AD%E3%83%BC%E3%83%BB%E5%80%A4%E3%83%BB%E3%82%A4%E3%83%B3%E3%83%87%E3%83%83%E3%82%AF%E3%82%B9%E3%82%92%E5%8F%96%E5%BE%97"></a>

```py
dct = { 1:'first', 2:'second', 3:'third'}
```

| 項目               | 関数                                                                                                    | 値                                                               |
| ------------------ | ------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------- |
| キー               | `dct.keys()`                                                                                            | `dict_keys([1, 2, 3])`                                           |
|                    | `list(dct.keys())`                                                                                      | `[1, 2, 3]`                                                      |
| 値                 | `dct.values()`                                                                                          | `dict_values(['first', 'second', 'third'])`                      |
|                    | `list(dct.values())`                                                                                    | `['first', 'second', 'third']`                                   |
| キーと値のタプル   | `dct.items()`                                                                                           | `dict_items([(1, 'first'), (2, 'second'), (3, 'third')])`        |
|                    | `list(dct.items())`                                                                                     | `[(1, 'first'), (2, 'second'), (3, 'third')]`                    |
| インデックスとキー | `for index, key in enumerate(dct):` <br>&nbsp;&nbsp;&nbsp;&nbsp;`print(f'{index}: {key}')`              | `0: 1` <br> `1: 2` <br> `2: 3`                                   |
| インデックスと値   | `for index, value in enumerate(dct.values()):` <br>&nbsp;&nbsp;&nbsp;&nbsp;`print(f'{index}: {value}')` | `0: first` <br> `1: second` <br> `2: third`                      |
| インデックスと要素 | `for index, item in enumerate(dct.items()):` <br>&nbsp;&nbsp;&nbsp;&nbsp;`print(f'{index}: {item}')`    | `0: (1, 'first')` <br> `1: (2, 'second')` <br> `2: (3, 'third')` |


#### 複数の辞書を同時に繰り返す
<a id="markdown-%E8%A4%87%E6%95%B0%E3%81%AE%E8%BE%9E%E6%9B%B8%E3%82%92%E5%90%8C%E6%99%82%E3%81%AB%E7%B9%B0%E3%82%8A%E8%BF%94%E3%81%99" name="%E8%A4%87%E6%95%B0%E3%81%AE%E8%BE%9E%E6%9B%B8%E3%82%92%E5%90%8C%E6%99%82%E3%81%AB%E7%B9%B0%E3%82%8A%E8%BF%94%E3%81%99"></a>

```py
dct1 = {
    'key1-1':'val1-1',
    'key1-2':'val1-2',
    'key1-3':'val1-3'
    }
dct2 = {
    'key2-1':'val2-1',
    'key2-2': 'val2-2',
    'key2-3': 'val2-3'
    }
for index, item in enumerate(zip(dct1, dct1.values(), dct1.items(), dct2, dct2.values(), dct2.items())):
    print(f'{index}: {item}')
```

> 0: ('key1-1', 'val1-1', ('key1-1', 'val1-1'), 'key2-1', 'val2-1', ('key2-1', 'val2-1'))
>
> 1: ('key1-2', 'val1-2', ('key1-2', 'val1-2'), 'key2-2', 'val2-2', ('key2-2', 'val2-2'))
>
> 2: ('key1-3', 'val1-3', ('key1-3', 'val1-3'), 'key2-3', 'val2-3', ('key2-3', 'val2-3'))


#### タプルの要素を連結した文字列を取得
<a id="markdown-%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E9%80%A3%E7%B5%90%E3%81%97%E3%81%9F%E6%96%87%E5%AD%97%E5%88%97%E3%82%92%E5%8F%96%E5%BE%97" name="%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E9%80%A3%E7%B5%90%E3%81%97%E3%81%9F%E6%96%87%E5%AD%97%E5%88%97%E3%82%92%E5%8F%96%E5%BE%97"></a>

```py
dct = { 1:'first', 2:'second', 3:'third'}
print(
    ','.join(['"{0}":"{1}"'.format(key, value) for (key, value) in dct.items()])
)
```

> "1":"first","2":"second","3":"third"


#### 辞書のキーと値を交換する
<a id="markdown-%E8%BE%9E%E6%9B%B8%E3%81%AE%E3%82%AD%E3%83%BC%E3%81%A8%E5%80%A4%E3%82%92%E4%BA%A4%E6%8F%9B%E3%81%99%E3%82%8B" name="%E8%BE%9E%E6%9B%B8%E3%81%AE%E3%82%AD%E3%83%BC%E3%81%A8%E5%80%A4%E3%82%92%E4%BA%A4%E6%8F%9B%E3%81%99%E3%82%8B"></a>

```py
dct1 = dict(('1f', '2s', '3t'))
print(dct1)
dct2 = {v: k for k, v in dct1.items()}
print(dct2)
```

> {'1': 'f', '2': 's', '3': 't'}
>
> {'f': '1', 's': '2', 't': '3'}


### 辞書をソート
<a id="markdown-%E8%BE%9E%E6%9B%B8%E3%82%92%E3%82%BD%E3%83%BC%E3%83%88" name="%E8%BE%9E%E6%9B%B8%E3%82%92%E3%82%BD%E3%83%BC%E3%83%88"></a>


#### 辞書のキーでソート
<a id="markdown-%E8%BE%9E%E6%9B%B8%E3%81%AE%E3%82%AD%E3%83%BC%E3%81%A7%E3%82%BD%E3%83%BC%E3%83%88" name="%E8%BE%9E%E6%9B%B8%E3%81%AE%E3%82%AD%E3%83%BC%E3%81%A7%E3%82%BD%E3%83%BC%E3%83%88"></a>

```py
dct1 = dict(('1b', '4a', '3c'))
print(dct1)
dct2 = dict(sorted(dct1.items(), key=lambda x: x[0], reverse=True))
print(dct2)
```

> {'1': 'b', '4': 'a', '3': 'c'}
>
> {'3': 'c', '1': 'b', '4': 'a'}


#### 辞書の値でソート
<a id="markdown-%E8%BE%9E%E6%9B%B8%E3%81%AE%E5%80%A4%E3%81%A7%E3%82%BD%E3%83%BC%E3%83%88" name="%E8%BE%9E%E6%9B%B8%E3%81%AE%E5%80%A4%E3%81%A7%E3%82%BD%E3%83%BC%E3%83%88"></a>

```py
dct1 = dict(('1b', '4a', '3c'))
print(dct1)
dct2 = dict(sorted(dct1.items(), key=lambda x: x[1], reverse=True))
print(dct2)
```

> {'1': 'b', '4': 'a', '3': 'c'}
>
> {'3': 'c', '1': 'b', '4': 'a'}


### 辞書の内包表記
<a id="markdown-%E8%BE%9E%E6%9B%B8%E3%81%AE%E5%86%85%E5%8C%85%E8%A1%A8%E8%A8%98" name="%E8%BE%9E%E6%9B%B8%E3%81%AE%E5%86%85%E5%8C%85%E8%A1%A8%E8%A8%98"></a>

```
形式: {キー: 値 for 変数 in イテラブルオブジェクト}
```

`キー:`を忘れるとセット(Set／集合)になる


#### 文字の出現頻度を調べる
<a id="markdown-%E6%96%87%E5%AD%97%E3%81%AE%E5%87%BA%E7%8F%BE%E9%A0%BB%E5%BA%A6%E3%82%92%E8%AA%BF%E3%81%B9%E3%82%8B" name="%E6%96%87%E5%AD%97%E3%81%AE%E5%87%BA%E7%8F%BE%E9%A0%BB%E5%BA%A6%E3%82%92%E8%AA%BF%E3%81%B9%E3%82%8B"></a>

```py
code = 'Lorem ipsum dolor sit amet, dico quidam percipitur mea no, labitur scaevola molestiae in vis, malis veniam tacimates mea cu.'
{letter: code.count(letter) for letter in code}

# 文字でソート
dict(sorted({letter: code.count(letter) for letter in code}.items(), key=lambda x: x[0]))

# 多い順にソート
dict(sorted({letter: code.count(letter) for letter in code}.items(), key=lambda x: x[1], reverse=True))
```

> {'L': 1, 'o': 7, 'r': 5, 'e': 10, 'm': 10, ' ': 19, 'i': 13, 'p': 3, 's': 7, 'u': 5, 'd': 3, 'l': 5, 't': 7, 'a': 12, ',': 3, 'c': 5, 'q': 1, 'n': 3, 'b': 1, 'v': 3, '.': 1}
>
> [(' ', 19), (',', 3), ('.', 1), ('L', 1), ('a', 12), ('b', 1), ('c', 5), ('d', 3), ('e', 10), ('i', 13), ('l', 5), ('m', 10), ('n', 3), ('o', 7), ('p', 3), ('q', 1), ('r', 5), ('s', 7), ('t', 7), ('u', 5), ('v', 3)]
>
> [(' ', 19), ('i', 13), ('a', 12), ('e', 10), ('m', 10), ('o', 7), ('s', 7), ('t', 7), ('r', 5), ('u', 5), ('l', 5), ('c', 5), ('p', 3), ('d', 3), (',', 3), ('n', 3), ('v', 3), ('L', 1), ('q', 1), ('b', 1), ('.', 1)]


#### 頭文字と単語のリストを辞書にまとめる
<a id="markdown-%E9%A0%AD%E6%96%87%E5%AD%97%E3%81%A8%E5%8D%98%E8%AA%9E%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E8%BE%9E%E6%9B%B8%E3%81%AB%E3%81%BE%E3%81%A8%E3%82%81%E3%82%8B" name="%E9%A0%AD%E6%96%87%E5%AD%97%E3%81%A8%E5%8D%98%E8%AA%9E%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88%E3%82%92%E8%BE%9E%E6%9B%B8%E3%81%AB%E3%81%BE%E3%81%A8%E3%82%81%E3%82%8B"></a>

```py
import re

code = 'Lorem ipsum dolor sit amet, dico quidam percipitur mea no, labitur scaevola molestiae in vis, malis veniam tacimates mea cu.'
codes = re.split('[,. \s]+', code)
codes = [s for s in codes if len(s) > 0]
print(codes)

results = {}
for c in codes:
    results.setdefault(c[0], []).append(c)

print(results)
```

> {
>
>     'L': ['Lorem'],
>
>     'i': ['ipsum', 'in'],
>
>     'd': ['dolor', 'dico'],
>
>     's': ['sit', 'scaevola'],
>
>     'a': ['amet'],
>
>     'q': ['quidam'],
>
>     'p': ['percipitur'],
>
>     'm': ['mea', 'molestiae', 'malis', 'mea'],
>
>     'n': ['no'], 'l': ['labitur'],
>
>     'v': ['vis', 'veniam'],
>
>     't': ['tacimates'],
>
>     'c': ['cu']
>
> }


## 順序つき辞書(OrderedDict)
<a id="markdown-%E9%A0%86%E5%BA%8F%E3%81%A4%E3%81%8D%E8%BE%9E%E6%9B%B8ordereddict" name="%E9%A0%86%E5%BA%8F%E3%81%A4%E3%81%8D%E8%BE%9E%E6%9B%B8ordereddict"></a>

```py
from collections import OrderedDict

testOrderedDict = OrderedDict()
testOrderedDict['k1'] = 'v1'
testOrderedDict['k2'] = 'v2'
testOrderedDict['k3'] = 'v3'

for k, v in testOrderedDict:
    print(k, v)
```

> k 1
>
> k 2
>
> k 3


## タプル
<a id="markdown-%E3%82%BF%E3%83%97%E3%83%AB" name="%E3%82%BF%E3%83%97%E3%83%AB"></a>

リストとは異なり、タプルは読み取り専用


### タプルが空か検査
<a id="markdown-%E3%82%BF%E3%83%97%E3%83%AB%E3%81%8C%E7%A9%BA%E3%81%8B%E6%A4%9C%E6%9F%BB" name="%E3%82%BF%E3%83%97%E3%83%AB%E3%81%8C%E7%A9%BA%E3%81%8B%E6%A4%9C%E6%9F%BB"></a>

| 判定方法      |
| ------------- |
| `not tpl`     |
| `len(tpl)==0` |
| `tpl == ()`   |

```py
tpl = ()
if not tpl:
  print('empty')

if len(tpl)==0:
  print('empty')

if tpl == ():
  print('empty')
```


### タプルを生成
<a id="markdown-%E3%82%BF%E3%83%97%E3%83%AB%E3%82%92%E7%94%9F%E6%88%90" name="%E3%82%BF%E3%83%97%E3%83%AB%E3%82%92%E7%94%9F%E6%88%90"></a>


#### 空のタプルを生成
<a id="markdown-%E7%A9%BA%E3%81%AE%E3%82%BF%E3%83%97%E3%83%AB%E3%82%92%E7%94%9F%E6%88%90" name="%E7%A9%BA%E3%81%AE%E3%82%BF%E3%83%97%E3%83%AB%E3%82%92%E7%94%9F%E6%88%90"></a>

```py
tpl = ()
```


#### 初期値を指定して生成
<a id="markdown-%E5%88%9D%E6%9C%9F%E5%80%A4%E3%82%92%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%A6%E7%94%9F%E6%88%90" name="%E5%88%9D%E6%9C%9F%E5%80%A4%E3%82%92%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%A6%E7%94%9F%E6%88%90"></a>

```py
tpl = 'foo', 'bar', 123, 456
tpl = ('foo', 'bar', 123, 456)
print(str(tpl))
```

> ('foo', 'bar', 123, 456)

1 要素のタプルを宣言するときは後ろにカンマをつける(カンマをつけないとただの変数として代入される)

```py
tpl = 'hoge',

print('%s' % (tpl,)) # print('%s' % tpl)とするとTypeError: not all arguments converted during string formatting
```

> ('hoge',)


#### タプルをコピーして生成
<a id="markdown-%E3%82%BF%E3%83%97%E3%83%AB%E3%82%92%E3%82%B3%E3%83%94%E3%83%BC%E3%81%97%E3%81%A6%E7%94%9F%E6%88%90" name="%E3%82%BF%E3%83%97%E3%83%AB%E3%82%92%E3%82%B3%E3%83%94%E3%83%BC%E3%81%97%E3%81%A6%E7%94%9F%E6%88%90"></a>

```py
import copy

tpl1 = 'foo', ['bar'], 123, 456
tpl2 = copy.deepcopy(tpl1) # copy()と異なり、要素の参照しているデータもコピー
tpl2[1].append('hoge')
print(tpl1)
print(tpl2)
```

> ('foo', ['bar'], 123, 456)
>
> ('foo', ['bar', 'hoge'], 123, 456)


#### タプルに要素を追加した新しいタプルを生成
<a id="markdown-%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AB%E8%A6%81%E7%B4%A0%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%97%E3%81%9F%E6%96%B0%E3%81%97%E3%81%84%E3%82%BF%E3%83%97%E3%83%AB%E3%82%92%E7%94%9F%E6%88%90" name="%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AB%E8%A6%81%E7%B4%A0%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%97%E3%81%9F%E6%96%B0%E3%81%97%E3%81%84%E3%82%BF%E3%83%97%E3%83%AB%E3%82%92%E7%94%9F%E6%88%90"></a>

```py
tpl1 = ("123", "456")
tpl2 = ("78", "90")

tpl3 = tpl1 + tpl2
print(tpl3)
```

> ('123', '456', '78', '90')


#### リストから生成
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E3%81%8B%E3%82%89%E7%94%9F%E6%88%90" name="%E3%83%AA%E3%82%B9%E3%83%88%E3%81%8B%E3%82%89%E7%94%9F%E6%88%90"></a>

```py
tpl = tuple(['foo', 'bar', 123, 456])
print(tpl)
```

> ('foo', 'bar', 123, 456)


### タプルの要素を参照
<a id="markdown-%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E5%8F%82%E7%85%A7" name="%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E5%8F%82%E7%85%A7"></a>

```py
tpl = tuple(['foo', 'bar', 123, 456])

tpl[1]
```

> 'bar'

#### タプルの要素からインデックス番号を取得
<a id="markdown-%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E8%A6%81%E7%B4%A0%E3%81%8B%E3%82%89%E3%82%A4%E3%83%B3%E3%83%87%E3%83%83%E3%82%AF%E3%82%B9%E7%95%AA%E5%8F%B7%E3%82%92%E5%8F%96%E5%BE%97" name="%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E8%A6%81%E7%B4%A0%E3%81%8B%E3%82%89%E3%82%A4%E3%83%B3%E3%83%87%E3%83%83%E3%82%AF%E3%82%B9%E7%95%AA%E5%8F%B7%E3%82%92%E5%8F%96%E5%BE%97"></a>

```py
tpl = tuple(['foo', 'bar', 123, 456])
tpl.index(123)
```

> 2


#### タプルの要素の存在チェック
<a id="markdown-%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E8%A6%81%E7%B4%A0%E3%81%AE%E5%AD%98%E5%9C%A8%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF" name="%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E8%A6%81%E7%B4%A0%E3%81%AE%E5%AD%98%E5%9C%A8%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF"></a>


### タプルの要素を削除
<a id="markdown-%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E5%89%8A%E9%99%A4" name="%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E5%89%8A%E9%99%A4"></a>


### タプルの反復処理(インデックスを取得)
<a id="markdown-%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E5%8F%8D%E5%BE%A9%E5%87%A6%E7%90%86%E3%82%A4%E3%83%B3%E3%83%87%E3%83%83%E3%82%AF%E3%82%B9%E3%82%92%E5%8F%96%E5%BE%97" name="%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E5%8F%8D%E5%BE%A9%E5%87%A6%E7%90%86%E3%82%A4%E3%83%B3%E3%83%87%E3%83%83%E3%82%AF%E3%82%B9%E3%82%92%E5%8F%96%E5%BE%97"></a>

```py
tpl = tuple(range(5, 10))
for (index, item) in enumerate(tpl):
    print(index, item)
```

> 0 5
>
> 1 6
>
> 2 7
>
> 3 8
>
> 4 9


#### 複数のタプルを同時に繰り返す
<a id="markdown-%E8%A4%87%E6%95%B0%E3%81%AE%E3%82%BF%E3%83%97%E3%83%AB%E3%82%92%E5%90%8C%E6%99%82%E3%81%AB%E7%B9%B0%E3%82%8A%E8%BF%94%E3%81%99" name="%E8%A4%87%E6%95%B0%E3%81%AE%E3%82%BF%E3%83%97%E3%83%AB%E3%82%92%E5%90%8C%E6%99%82%E3%81%AB%E7%B9%B0%E3%82%8A%E8%BF%94%E3%81%99"></a>

```py
tpl1 = tuple(range(5)) # タプルの要素数が同じ場合
tpl2 = tuple(range(5,10))

for (i1, i2) in zip(tpl1, tpl2):
    print(i1, i2)
```

> 0 5
>
> 1 6
>
> 2 7
>
> 3 8
>
> 4 9

```py
tpl1 = tuple(range(5)) # タプルの要素数が異なる場合
tpl2 = tuple(range(5,8))

# 要素数の少ないタプルの要素数分だけ繰り返す
for (i1, i2) in zip(tpl1, tpl2):
    print(i1, i2)
```

> 0 5
>
> 1 6
>
> 2 7

```py
from itertools import zip_longest

tpl1 = tuple(range(5)) # タプルの要素数が異なる場合
tpl2 = tuple(range(5,8))

# 要素数の多いタプルの要素数分だけ繰り返す
for (i1, i2) in zip_longest(tpl1, tpl2):
    print(i1, i2)

# 要素数の多いタプルの要素数分だけ繰り返す(不足している要素にNoneではなく指定した値を使用)
for (i1, i2) in zip_longest(tpl1, tpl2, fillvalue=999):
    print(i1, i2)
```

> 0 5
>
> 1 6
>
> 2 7
>
> 3 None
>
> 4 None

> 0 5
>
> 1 6
>
> 2 7
>
> 3 999
>
> 4 999


#### 多重タプル
<a id="markdown-%E5%A4%9A%E9%87%8D%E3%82%BF%E3%83%97%E3%83%AB" name="%E5%A4%9A%E9%87%8D%E3%82%BF%E3%83%97%E3%83%AB"></a>

```py
tpl = 'foo', ['bar'], 123, 456
tpl = tpl, (('hoge', 'piyo'), 789)
print(tpl)
```

> (('foo', ['bar'], 123, 456), (('hoge', 'piyo'), 789))


##### 平坦化(flatten)
<a id="markdown-%E5%B9%B3%E5%9D%A6%E5%8C%96flatten" name="%E5%B9%B3%E5%9D%A6%E5%8C%96flatten"></a>


###### 2 重タプルを平坦化(flatten)
<a id="markdown-%E9%87%8D%E3%82%BF%E3%83%97%E3%83%AB%E3%82%92%E5%B9%B3%E5%9D%A6%E5%8C%96flatten" name="%E9%87%8D%E3%82%BF%E3%83%97%E3%83%AB%E3%82%92%E5%B9%B3%E5%9D%A6%E5%8C%96flatten"></a>

```py
tpl1 = ((3, 1, 4), (1, 5, 9), (2, 6, 5))
print(tpl1)

tpl2 = [ f for i in tpl1 for f in i ]
print(tuple(tpl2))
# or
tpl2 = ()
for rows in tpl1:
    tpl2 = tpl2 + rows

print(tpl2)
```


###### 多重タプルを平坦化(flatten)
<a id="markdown-%E5%A4%9A%E9%87%8D%E3%82%BF%E3%83%97%E3%83%AB%E3%82%92%E5%B9%B3%E5%9D%A6%E5%8C%96flatten" name="%E5%A4%9A%E9%87%8D%E3%82%BF%E3%83%97%E3%83%AB%E3%82%92%E5%B9%B3%E5%9D%A6%E5%8C%96flatten"></a>


#### タプルの要素を連結した文字列を取得
<a id="markdown-%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E9%80%A3%E7%B5%90%E3%81%97%E3%81%9F%E6%96%87%E5%AD%97%E5%88%97%E3%82%92%E5%8F%96%E5%BE%97" name="%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E9%80%A3%E7%B5%90%E3%81%97%E3%81%9F%E6%96%87%E5%AD%97%E5%88%97%E3%82%92%E5%8F%96%E5%BE%97"></a>

```py
lst = 'foo', 'bar', 'hoge'
''.join(lst)
','.join(lst) # 区切り文字を指定
```

> 'foobarhoge'
>
> 'foo,bar,hoge'


### シーケンス・アンパッキング
<a id="markdown-%E3%82%B7%E3%83%BC%E3%82%B1%E3%83%B3%E3%82%B9%E3%83%BB%E3%82%A2%E3%83%B3%E3%83%91%E3%83%83%E3%82%AD%E3%83%B3%E3%82%B0" name="%E3%82%B7%E3%83%BC%E3%82%B1%E3%83%B3%E3%82%B9%E3%83%BB%E3%82%A2%E3%83%B3%E3%83%91%E3%83%83%E3%82%AD%E3%83%B3%E3%82%B0"></a>

タプルから複数の変数に展開(一括代入)する

```py
t = 'foo', 'bar', 123, 456
x, y, z, w = t
```

一時変数を使用せずに変数を交換（スワップ）する

```py
a, b = 'x', 'y'
a, b = b, a
print(a, b)
```

> y x

```py
def fibonacci(n):
    x, y = 0, 1
    for i in range(n):
        print(x)
        x, y = y, x+y # tmp変数が不要になる

fibonacci(10)
```

代入元の要素数と代入先の変数の数が異なる場合

```py
x, y, z = 'foo', 'bar', 123, 456 # ValueError

x, y, *z = 'foo', 'bar', 123, 456 # アスタリスクをつけるとリストに格納
print(x, y, z)

x, y, z, *w = 'foo', 'bar', 123, 456
print(x, y, z, w)

x, y, z, w, *v = 'foo', 'bar', 123, 456
print(x, y, z, w, v)
```

> ValueError: too many values to unpack (expected 3)

> 'foo', 'bar', [123, 456]

> foo bar 123 [456]

> foo bar 123 456 []

入れ子のタプルを展開

```py
x, (y, z) = 'foo', (123, 456)
print(x, y, z)
```

> foo 123 456

不要な要素を展開しない

```py
x, y, *_ = 'foo', 'bar', 123, 456
print(x, y)
```

> foo bar


### タプルをソート
<a id="markdown-%E3%82%BF%E3%83%97%E3%83%AB%E3%82%92%E3%82%BD%E3%83%BC%E3%83%88" name="%E3%82%BF%E3%83%97%E3%83%AB%E3%82%92%E3%82%BD%E3%83%BC%E3%83%88"></a>


### タプルのランダム処理
<a id="markdown-%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E5%87%A6%E7%90%86" name="%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E5%87%A6%E7%90%86"></a>


#### タプルから要素を 1 個ランダムに取り出す
<a id="markdown-%E3%82%BF%E3%83%97%E3%83%AB%E3%81%8B%E3%82%89%E8%A6%81%E7%B4%A0%E3%82%92-1-%E5%80%8B%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%81%AB%E5%8F%96%E3%82%8A%E5%87%BA%E3%81%99" name="%E3%82%BF%E3%83%97%E3%83%AB%E3%81%8B%E3%82%89%E8%A6%81%E7%B4%A0%E3%82%92-1-%E5%80%8B%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%81%AB%E5%8F%96%E3%82%8A%E5%87%BA%E3%81%99"></a>

```py
import random

tpl = tuple(range(1,7))

random.choice(tpl)
```

> 1
>
> 1
>
> 4


#### タプルから要素を複数個ランダムに取り出す(重複あり)
<a id="markdown-%E3%82%BF%E3%83%97%E3%83%AB%E3%81%8B%E3%82%89%E8%A6%81%E7%B4%A0%E3%82%92%E8%A4%87%E6%95%B0%E5%80%8B%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%81%AB%E5%8F%96%E3%82%8A%E5%87%BA%E3%81%99%E9%87%8D%E8%A4%87%E3%81%82%E3%82%8A" name="%E3%82%BF%E3%83%97%E3%83%AB%E3%81%8B%E3%82%89%E8%A6%81%E7%B4%A0%E3%82%92%E8%A4%87%E6%95%B0%E5%80%8B%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%81%AB%E5%8F%96%E3%82%8A%E5%87%BA%E3%81%99%E9%87%8D%E8%A4%87%E3%81%82%E3%82%8A"></a>

```py
import random

tpl = tuple(range(1,7))
n = 3

tuple([random.choice(tpl) for _ in range(n)])

tuple(random.choices(tpl, k=n))
```

> (5, 3, 3)
>
> (6, 1, 3)


#### タプルから要素を複数個ランダムに取り出す(重複なし)
<a id="markdown-%E3%82%BF%E3%83%97%E3%83%AB%E3%81%8B%E3%82%89%E8%A6%81%E7%B4%A0%E3%82%92%E8%A4%87%E6%95%B0%E5%80%8B%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%81%AB%E5%8F%96%E3%82%8A%E5%87%BA%E3%81%99%E9%87%8D%E8%A4%87%E3%81%AA%E3%81%97" name="%E3%82%BF%E3%83%97%E3%83%AB%E3%81%8B%E3%82%89%E8%A6%81%E7%B4%A0%E3%82%92%E8%A4%87%E6%95%B0%E5%80%8B%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%81%AB%E5%8F%96%E3%82%8A%E5%87%BA%E3%81%99%E9%87%8D%E8%A4%87%E3%81%AA%E3%81%97"></a>

```py
import random

tpl = tuple(range(1,7))
n = 3

tuple(random.sample(tpl, n))
```

> (1, 5, 4)


#### タプルの要素をランダムソート(シャッフル)する
<a id="markdown-%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%82%BD%E3%83%BC%E3%83%88%E3%82%B7%E3%83%A3%E3%83%83%E3%83%95%E3%83%AB%E3%81%99%E3%82%8B" name="%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%82%BD%E3%83%BC%E3%83%88%E3%82%B7%E3%83%A3%E3%83%83%E3%83%95%E3%83%AB%E3%81%99%E3%82%8B"></a>

```py
import random

tpl1 = tuple(range(1,7))

# もとのタプル自体をソート→TypeError
random.shuffle(tpl1)

# シャッフルした新しいタプルを返す
tpl2 = tuple(random.sample(tpl1, len(tpl1)))
print(tpl2)
```

> TypeError: 'tuple' object does not support item assignment
>
> (1, 3, 4, 6, 5, 2)


### タプルの内包表記
<a id="markdown-%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E5%86%85%E5%8C%85%E8%A1%A8%E8%A8%98" name="%E3%82%BF%E3%83%97%E3%83%AB%E3%81%AE%E5%86%85%E5%8C%85%E8%A1%A8%E8%A8%98"></a>

丸括弧 `()` の内包表記はタプルではなくジェネレータとなる

```py
l = list(range(10))
(i * 2 for i in l) # 誤

tuple(i * 2 for i in l) # 正
```

> \<generator object \<genexpr\> at 0x000001E1C99F7F90\> \# 誤
>
> (0, 2, 4, 6, 8, 10, 12, 14, 16, 18) \# 正


## セット
<a id="markdown-%E3%82%BB%E3%83%83%E3%83%88" name="%E3%82%BB%E3%83%83%E3%83%88"></a>

リストとは異なり、重複する要素があれば削除される


### セットが空か判定
<a id="markdown-%E3%82%BB%E3%83%83%E3%83%88%E3%81%8C%E7%A9%BA%E3%81%8B%E5%88%A4%E5%AE%9A" name="%E3%82%BB%E3%83%83%E3%83%88%E3%81%8C%E7%A9%BA%E3%81%8B%E5%88%A4%E5%AE%9A"></a>


### セットを生成
<a id="markdown-%E3%82%BB%E3%83%83%E3%83%88%E3%82%92%E7%94%9F%E6%88%90" name="%E3%82%BB%E3%83%83%E3%83%88%E3%82%92%E7%94%9F%E6%88%90"></a>


#### 空のセットを生成
<a id="markdown-%E7%A9%BA%E3%81%AE%E3%82%BB%E3%83%83%E3%83%88%E3%82%92%E7%94%9F%E6%88%90" name="%E7%A9%BA%E3%81%AE%E3%82%BB%E3%83%83%E3%83%88%E3%82%92%E7%94%9F%E6%88%90"></a>

```py
s1 = {}
```


#### 初期値を指定して生成
<a id="markdown-%E5%88%9D%E6%9C%9F%E5%80%A4%E3%82%92%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%A6%E7%94%9F%E6%88%90" name="%E5%88%9D%E6%9C%9F%E5%80%A4%E3%82%92%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%A6%E7%94%9F%E6%88%90"></a>

```py
s1 = {'ab', 'cd', 'ab', 'cd'}
print(s1)
```

> {'ab', 'cd'}


#### リストから生成
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E3%81%8B%E3%82%89%E7%94%9F%E6%88%90" name="%E3%83%AA%E3%82%B9%E3%83%88%E3%81%8B%E3%82%89%E7%94%9F%E6%88%90"></a>

```py
ls2 = ['ab', 'cd', 'ef', 'cd']
s2 = set(ls2)
print(s2)
```

> {'cd', 'ab', 'ef'}


### 辞書に要素を追加
<a id="markdown-%E8%BE%9E%E6%9B%B8%E3%81%AB%E8%A6%81%E7%B4%A0%E3%82%92%E8%BF%BD%E5%8A%A0" name="%E8%BE%9E%E6%9B%B8%E3%81%AB%E8%A6%81%E7%B4%A0%E3%82%92%E8%BF%BD%E5%8A%A0"></a>

```py
s1 = {'ab', 'cd'}
s1.add('yz')
print(s1)
```

> {'ab', 'yz', 'cd'}


### セットの要素を参照
<a id="markdown-%E3%82%BB%E3%83%83%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E5%8F%82%E7%85%A7" name="%E3%82%BB%E3%83%83%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%82%92%E5%8F%82%E7%85%A7"></a>


#### セットの要素の存在チェック
<a id="markdown-%E3%82%BB%E3%83%83%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%81%AE%E5%AD%98%E5%9C%A8%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF" name="%E3%82%BB%E3%83%83%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%81%AE%E5%AD%98%E5%9C%A8%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF"></a>

```py
s1 = {'ab', 'cd', 'ab', 'cd'}
print('ab' in s1)
```

> True


### セットの演算
<a id="markdown-%E3%82%BB%E3%83%83%E3%83%88%E3%81%AE%E6%BC%94%E7%AE%97" name="%E3%82%BB%E3%83%83%E3%83%88%E3%81%AE%E6%BC%94%E7%AE%97"></a>

```py
s1 = {'ab', 'cd'}
s1 = {'ef', 'ab', 'cd'}
```

| 関数      | 値                   |
| --------- | -------------------- |
| `s1`      | `{'ab', 'cd'}`       |
| `s2`      | `{'ef', 'ab', 'cd'}` |
| `s1 - s2` | `set()`              |
| `s1       | s2`                  | `{'ab', 'cd', 'ef'}` |
| `s1 & s2` | `{'ab', 'cd'}`       |
| `s1 ^ s2` | `{'ef'}`             |


### frozenset
<a id="markdown-frozenset" name="frozenset"></a>

イミュータブルな（要素を追加／削除できない）セットを生成する

```py
lst = ['a', 'b', 'c', 'd']
fs = frozenset(lst)
print(fs)

s1 = {'ab', 'cd', 'ab', 'cd'}
fs = frozenset(s1)
```

> frozenset({'d', 'a', 'c', 'b'})
>
> frozenset({'cd', 'ab'})


## 列挙型
<a id="markdown-%E5%88%97%E6%8C%99%E5%9E%8B" name="%E5%88%97%E6%8C%99%E5%9E%8B"></a>

```py
from enum import Enum


class Status(Enum):
    CREATED = 0
    DRAFT = 1
    IN_PROGRESS = 2
    APPROVED = 3
    REJECTED = 4
    COMPLETED = 5


print(Status.CREATED.name)
print(Status.DRAFT.value)
```

> CREATED
>
> 1


# 制御構文
<a id="markdown-%E5%88%B6%E5%BE%A1%E6%A7%8B%E6%96%87" name="%E5%88%B6%E5%BE%A1%E6%A7%8B%E6%96%87"></a>


## 条件分岐
<a id="markdown-%E6%9D%A1%E4%BB%B6%E5%88%86%E5%B2%90" name="%E6%9D%A1%E4%BB%B6%E5%88%86%E5%B2%90"></a>


### if
<a id="markdown-if" name="if"></a>

switch 文や case 文はなく、すべて if 文を使う

```py
x = 1
if x < 0:
    print('N')
elif x == 0: # else if
    print('0')
else:
    print('P')
```

条件式が長い場合は、各文末に `\` を付けるか、全体を括弧で囲む

```py
x = 1
y = 1
z = -1

if x > 0 \
    and \
    ( \
    y > 0 \
    or \
    z > 0 \
    ):
        print('true')
else:
    print('false')

if ( x > 0
    and
    (
    y > 0
    or
    z > 0
    )
    ):
        print('true')
else:
    print('false')
```


### 条件演算子(三項演算子)
<a id="markdown-%E6%9D%A1%E4%BB%B6%E6%BC%94%E7%AE%97%E5%AD%90%E4%B8%89%E9%A0%85%E6%BC%94%E7%AE%97%E5%AD%90" name="%E6%9D%A1%E4%BB%B6%E6%BC%94%E7%AE%97%E5%AD%90%E4%B8%89%E9%A0%85%E6%BC%94%E7%AE%97%E5%AD%90"></a>

```py
con = 0

result = 'true' if con == 1 else 'false'

print(result)
```

> false


## 繰り返し
<a id="markdown-%E7%B9%B0%E3%82%8A%E8%BF%94%E3%81%97" name="%E7%B9%B0%E3%82%8A%E8%BF%94%E3%81%97"></a>

| 構文    | 備考                             |
| ------- | -------------------------------- |
| `for`   | コレクションの各要素に対して処理 |
| `while` | 条件式が `True` の間繰り返し処理 |


### for
<a id="markdown-for" name="for"></a>

```py
for i in [0, 1, 2, 3]:
    j = 99
    print(i, end=' ')

# ループ変数やループ内で定義された変数を、ループの外でも参照できる
print(i, j)
```

> 0 1 2 3
>
> 3 99


#### for 文の else 節（ for-else ）
<a id="markdown-for-%E6%96%87%E3%81%AE-else-%E7%AF%80%EF%BC%88-for-else-%EF%BC%89" name="for-%E6%96%87%E3%81%AE-else-%E7%AF%80%EF%BC%88-for-else-%EF%BC%89"></a>

```py
for i in range(5):
    print(i, end=' ')
else:
    # ループを抜けたときに実行される
    print('else')
```

> 0 1 2 3 4 else


#### 途中でループから脱出(break)
<a id="markdown-%E9%80%94%E4%B8%AD%E3%81%A7%E3%83%AB%E3%83%BC%E3%83%97%E3%81%8B%E3%82%89%E8%84%B1%E5%87%BAbreak" name="%E9%80%94%E4%B8%AD%E3%81%A7%E3%83%AB%E3%83%BC%E3%83%97%E3%81%8B%E3%82%89%E8%84%B1%E5%87%BAbreak"></a>

```py

for i in range(5):
    if i > 3:
        break
    print(i, end=' ')
```

> 0 1 2 3


#### スキップする(continue)
<a id="markdown-%E3%82%B9%E3%82%AD%E3%83%83%E3%83%97%E3%81%99%E3%82%8Bcontinue" name="%E3%82%B9%E3%82%AD%E3%83%83%E3%83%97%E3%81%99%E3%82%8Bcontinue"></a>

```py
for i in range(5):
    if i == 3:
        continue
    print(i, end=' ')
```

> 0 1 2 4


#### ループ回数を与える場合
<a id="markdown-%E3%83%AB%E3%83%BC%E3%83%97%E5%9B%9E%E6%95%B0%E3%82%92%E4%B8%8E%E3%81%88%E3%82%8B%E5%A0%B4%E5%90%88" name="%E3%83%AB%E3%83%BC%E3%83%97%E5%9B%9E%E6%95%B0%E3%82%92%E4%B8%8E%E3%81%88%E3%82%8B%E5%A0%B4%E5%90%88"></a>

| 関数                       | 内容                                             |
| -------------------------- | ------------------------------------------------ |
| `range(stop)`              | ループ回数                                       |
| `range(start, stop)`       | 指定された開始位置／終了位置の範囲をループ       |
| `range(start, stop, step)` | 指定された開始位置／終了位置／増分の範囲をループ |

```py
for i in range(4):
    print(i, end=' ')

for i in range(5, 8):
    j = i + 1
    print(i, end=' ')

for i in range(5, 20, 5):
    print(i, end=' ')

for i in range(5, 21, 5):
    print(i, end=' ')
```

> 0 1 2 3
>
> 5 6 7
>
> 5 10 15
>
> 5 10 15 20


#### 文字列型を与える場合
<a id="markdown-%E6%96%87%E5%AD%97%E5%88%97%E5%9E%8B%E3%82%92%E4%B8%8E%E3%81%88%E3%82%8B%E5%A0%B4%E5%90%88" name="%E6%96%87%E5%AD%97%E5%88%97%E5%9E%8B%E3%82%92%E4%B8%8E%E3%81%88%E3%82%8B%E5%A0%B4%E5%90%88"></a>

```py
for c in '012':
    print(c, end=' ')
```

> 0 1 2


#### ファイルオブジェクトを場合
<a id="markdown-%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%92%E5%A0%B4%E5%90%88" name="%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%92%E5%A0%B4%E5%90%88"></a>

```py
for line in open('test-fileio/inpututf8.txt', encoding='utf8'):
    print(line)
```

```
あいうえお8XkfWDHyFdcB52MbTNNswDnFRAsZdEgRmmsaNktD
かきくけこxahfE6WkxNFpU-4KgnJ4jS2jZUyWf9spDbKRaFyC
...
tRR_6_JHDbL27G24P2NaMb-znLJs5iC3wQbPxnyyJc6HV9XYjQ
```


#### 複数リストの直積を取得
<a id="markdown-%E8%A4%87%E6%95%B0%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E7%9B%B4%E7%A9%8D%E3%82%92%E5%8F%96%E5%BE%97" name="%E8%A4%87%E6%95%B0%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E7%9B%B4%E7%A9%8D%E3%82%92%E5%8F%96%E5%BE%97"></a>

```py
import itertools
for x, y,z in itertools.product(range(3), range(3), range(3)):
  print('%d,%d,%d' % (x,y,z))
```

```
0,0,0
0,0,1
0,0,2
0,1,0
0,1,1
0,1,2
0,2,0
0,2,1
0,2,2
1,0,0
1,0,1
1,0,2
1,1,0
1,1,1
1,1,2
1,2,0
1,2,1
1,2,2
2,0,0
2,0,1
2,0,2
2,1,0
2,1,1
2,1,2
2,2,0
2,2,1
2,2,2
```


### while
<a id="markdown-while" name="while"></a>

```py
i = 0
while i < 10:
    i += 1
    if i == 3:
        continue
    print(i, end=' ')
else:
    print('-1')
```

> 1 2 4 5 6 7 8 9 10 -1


## 例外処理
<a id="markdown-%E4%BE%8B%E5%A4%96%E5%87%A6%E7%90%86" name="%E4%BE%8B%E5%A4%96%E5%87%A6%E7%90%86"></a>


## try
<a id="markdown-try" name="try"></a>

```py
import traceback

str = 'ABC'
try:
    # 範囲外の文字が指定し、IndexError例外を発生させる
    c = str[5]
except IOError as err:
    print('I/O error: {0}'.format(err))
except IndexError as err:
    print('IndexError: {0}'.format(err))
except (UnicodeEncodeError, UnicodeDecodeError, UnicodeTranslateError) as err:
    # 複数の例外をまとめて扱う
    print('UnicodeError: {0}'.format(err))
except:
    # その他の例外
    print(sys.exc_info())   # 現在処理中の例外(type, value, traceback)

    traceback.print_exc()   # 例外情報とスタックトレース項目
    traceback.format_exc()
else:
    # 例外が発生しない場合
    print('Success')
finally:
    # 最終処理
    print('Finally')

# 例外を発生させる
raise IOError('IOError')
```


### 例外を発生させる
<a id="markdown-%E4%BE%8B%E5%A4%96%E3%82%92%E7%99%BA%E7%94%9F%E3%81%95%E3%81%9B%E3%82%8B" name="%E4%BE%8B%E5%A4%96%E3%82%92%E7%99%BA%E7%94%9F%E3%81%95%E3%81%9B%E3%82%8B"></a>

例外を投げてプログラム実行を終了させる

```py
raise exception
```


### assert(アサーション)
<a id="markdown-assert%E3%82%A2%E3%82%B5%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3" name="assert%E3%82%A2%E3%82%B5%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3"></a>

`__debug__` が `True` の時のみ動作するので、テスト用に使用できる。
コマンドラインオプションに-O をつけると、 `__debug__` が `False` になるので assert が動作しなくなる。

```py
sum = 1 + 2
assert sum == 3
assert sum == 4  # AssertionErrorが発生
assert sum == 4, '期待される値と異なります'  # AssertionErrorが発生
```

> \# assert sum == 3
>
> &nbsp;&nbsp;&nbsp;&nbsp;\# (何も出力されない)

> \# assert sum == 4
>
> AssertionError

> \# assert sum == 4, '期待される値と異なります'
>
> AssertionError: 期待される値と異なります


## 評価
<a id="markdown-%E8%A9%95%E4%BE%A1" name="%E8%A9%95%E4%BE%A1"></a>

| 関数 | 用途         |
| ---- | ------------ |
| eval | 式として評価 |
| exec | 文として評価 |


### eval
<a id="markdown-eval" name="eval"></a>

```py
result = eval('1 + 2')
print(result)

eval('a = 1 + 2')
```

> 3
>
> SyntaxError: invalid syntax

```py
# 式、グローバル、ローカル
result = eval('a + b', {}, {'a': 1, 'b': 2})
print(result)

result = eval('a + b', {'a': 3, 'b': 4})
print(result)

result = eval('a + b', {'a': 5, 'b': 6}, {'a': 7, 'b': 8})
print(result)
```

> 3
>
> 7
>
> 15

```py
# compile(source, filename, mode, flags=0, dont_inherit=False, optimize=-1)
# 第1引数に文字列を与えている(コードの読み出し元のファイルがない)ので、慣習的に第2引数にファイル名ではなく空文字か「<string>」を指定
result = eval(compile('1 + 2', '<string>', 'eval'))
print(result)
```

| mode     | 意味                                 |
| -------- | ------------------------------------ |
| `eval`   | 単一の式としてコンパイルする         |
| `single` | 単一の文としてコンパイルする         |
| `exec`   | 単一のモジュールとしてコンパイルする |

> 3


### exec
<a id="markdown-exec" name="exec"></a>

```py
exec('a = 1 + 2')
exec('print(a)')
```

> 3

```py
exec('print(a)', {}, {'a': 4})
```

> 4

```py
# 式、グローバル、ローカル
a = {}
exec('b = 3', {}, a)
print(a)
```

> {'b': 3}

```py
for i, s in enumerate(["'foo'","'bar'", "'hoge'"]):
    exec(f'var{i+1} = {s}')

print(var1)
print(var2)
print(var3)
```

> foo
>
> bar
>
> hoge


#### グローバル名前空間の参照・変更を制限
<a id="markdown-%E3%82%B0%E3%83%AD%E3%83%BC%E3%83%90%E3%83%AB%E5%90%8D%E5%89%8D%E7%A9%BA%E9%96%93%E3%81%AE%E5%8F%82%E7%85%A7%E3%83%BB%E5%A4%89%E6%9B%B4%E3%82%92%E5%88%B6%E9%99%90" name="%E3%82%B0%E3%83%AD%E3%83%BC%E3%83%90%E3%83%AB%E5%90%8D%E5%89%8D%E7%A9%BA%E9%96%93%E3%81%AE%E5%8F%82%E7%85%A7%E3%83%BB%E5%A4%89%E6%9B%B4%E3%82%92%E5%88%B6%E9%99%90"></a>

```py
exec('import os;os.system("echo foobar")', {}, {})

exec('import os;os.system("echo foobar")', {'__builtins__':None}, {})
```

> foobar
>
> ImportError: **import** not found


## del
<a id="markdown-del" name="del"></a>

オブジェクトを削除

```py
s = 'foo'
i = [1, 2, 3]
b = Bar()
del s, i, b
```


## exit
<a id="markdown-exit" name="exit"></a>

プログラム実行を終了させる

```py
import sys
sys.exit()  # SystemExit例外を出して終了

import sys
sys.exit('error!') # 引数をstderrに出力し、SystemExit例外を出して終了

import os
status = 1
os._exit(status) # 例外を出さずに終了

raise exception # 例外を投げて終了
```


## pass
<a id="markdown-pass" name="pass"></a>

空の関数や空の型を定義する

```py
def empty_func():
    pass


class EmptyClass:
    pass
```


## with
<a id="markdown-with" name="with"></a>

with ブロックが終了するとオブジェクトの終了処理が自動的に呼ばれる

```py
with open(filepath, 'w') as f:
    pass
```


### 複数の with をまとめる
<a id="markdown-%E8%A4%87%E6%95%B0%E3%81%AE-with-%E3%82%92%E3%81%BE%E3%81%A8%E3%82%81%E3%82%8B" name="%E8%A4%87%E6%95%B0%E3%81%AE-with-%E3%82%92%E3%81%BE%E3%81%A8%E3%82%81%E3%82%8B"></a>

入力ファイルと出力ファイルを同時に開く場合など、複数の with ブロックによってネストが深くなってしまうのを防ぐために、「,」で区切って 1 つの with ブロックにまとめることができる

```py
with open(filepath1, 'r') as f1:
    with open(filepath2, 'w') as f2:
        pass

with open(filepath1, 'r') as f1, with open(filepath2, 'w') as f2:
    pass
```


# 関数
<a id="markdown-%E9%96%A2%E6%95%B0" name="%E9%96%A2%E6%95%B0"></a>


## 引数なし
<a id="markdown-%E5%BC%95%E6%95%B0%E3%81%AA%E3%81%97" name="%E5%BC%95%E6%95%B0%E3%81%AA%E3%81%97"></a>

```py
# 定義
def func1():
    print('hello')

# 呼出
func1()
```


## 引数あり
<a id="markdown-%E5%BC%95%E6%95%B0%E3%81%82%E3%82%8A" name="%E5%BC%95%E6%95%B0%E3%81%82%E3%82%8A"></a>

```py
# 定義
def func2(arg):
    print(arg)

# 呼出
func2('hello')
```


## 既定値を持つ引数あり
<a id="markdown-%E6%97%A2%E5%AE%9A%E5%80%A4%E3%82%92%E6%8C%81%E3%81%A4%E5%BC%95%E6%95%B0%E3%81%82%E3%82%8A" name="%E6%97%A2%E5%AE%9A%E5%80%A4%E3%82%92%E6%8C%81%E3%81%A4%E5%BC%95%E6%95%B0%E3%81%82%E3%82%8A"></a>

```py
# 定義
def func3(arg='bye'):
    print(arg)

# 呼出
func3()
func3(arg='hi')
```


## 戻り値あり
<a id="markdown-%E6%88%BB%E3%82%8A%E5%80%A4%E3%81%82%E3%82%8A" name="%E6%88%BB%E3%82%8A%E5%80%A4%E3%81%82%E3%82%8A"></a>

```py
# 定義
def func4(arg):
    return arg

# 呼出
print(func4('hello'))
```


## docstring あり
<a id="markdown-docstring-%E3%81%82%E3%82%8A" name="docstring-%E3%81%82%E3%82%8A"></a>

```py
# 定義
def func5():
    '''helloと表示する関数'''
    print('hello')

# 呼出
func5()

# ヘルプを表示
help(func5)
```


## 引数のアンパック
<a id="markdown-%E5%BC%95%E6%95%B0%E3%81%AE%E3%82%A2%E3%83%B3%E3%83%91%E3%83%83%E3%82%AF" name="%E5%BC%95%E6%95%B0%E3%81%AE%E3%82%A2%E3%83%B3%E3%83%91%E3%83%83%E3%82%AF"></a>


## リストやタプルを受け取る
<a id="markdown-%E3%83%AA%E3%82%B9%E3%83%88%E3%82%84%E3%82%BF%E3%83%97%E3%83%AB%E3%82%92%E5%8F%97%E3%81%91%E5%8F%96%E3%82%8B" name="%E3%83%AA%E3%82%B9%E3%83%88%E3%82%84%E3%82%BF%E3%83%97%E3%83%AB%E3%82%92%E5%8F%97%E3%81%91%E5%8F%96%E3%82%8B"></a>

```py
args = [1, 5]
list(range(*args))

list(range(args[0], args[1]))
```

可変長引数よりも後に通常の引数を定義することもできるが、キーワード引数を使って呼び出す必要がある

```py
def func_variable_argument(arg, *l, arg1, arg2):
    print(arg)
    for val in l:
        print(val)
    print(arg1)
    print(arg2)

func_variable_argument('a0', ['l1','l2','l3'], 'a1', 'a2')

func_variable_argument('a0', ['l1','l2','l3'], arg1='a1', arg2='a2')
```

> TypeError: func_variable_argument() missing 2 required keyword-only arguments: 'arg1' and 'arg2'

> a0
>
> ['l1', 'l2', 'l3']
>
> a1
>
> a2


## 辞書を受け取る
<a id="markdown-%E8%BE%9E%E6%9B%B8%E3%82%92%E5%8F%97%E3%81%91%E5%8F%96%E3%82%8B" name="%E8%BE%9E%E6%9B%B8%E3%82%92%E5%8F%97%E3%81%91%E5%8F%96%E3%82%8B"></a>

```py
my_dict = {'sep': '%', 'end': '!\r\n!\r\n', 'flush': False}
print('foo', 'bar', 'hoge', **my_dict)
```

> foo%bar%hoge!
>
> !

```py
# 定義
def func_ld(arg, *l, **d):
    for val in l:
        print(val)
    keys = sorted(d.keys())
    for val in keys:
        print(val)

def func_lt(arg, *t, **d):
    for val in t:
        print(val)
    keys = sorted(d.keys())
    for val in keys:
        print(val)

# 呼出
func_ld('foobar',
        'l1',
        'l2',
        dk1='dv1',
        dk2='dv2',
        dk3='dv3')

func_lt('foobar',
        't1',
        't2',
        dk1='dv1',
        dk2='dv2',
        dk3='dv3')
```


## 関数オブジェクト
<a id="markdown-%E9%96%A2%E6%95%B0%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88" name="%E9%96%A2%E6%95%B0%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88"></a>


### 関数を変数に代入
<a id="markdown-%E9%96%A2%E6%95%B0%E3%82%92%E5%A4%89%E6%95%B0%E3%81%AB%E4%BB%A3%E5%85%A5" name="%E9%96%A2%E6%95%B0%E3%82%92%E5%A4%89%E6%95%B0%E3%81%AB%E4%BB%A3%E5%85%A5"></a>

- def
  - 中身は複数の文。単独の文になる
- lambda
  - 中身は単一の式。式になる

```py
print(print)

def print2(x):
    print(x)

print(print2)

print3 = print2
print(print3)

print3('foobar')
```

> \<built-in function print\>
>
> \<function print2 at 0x00000206FF1A4558\>
>
> \<function print2 at 0x00000206FF1A4558\>
>
> foobar

```py
print4 = lambda x: print(x)
print(print4)

print4('foobar')
```

> \<function <lambda> at 0x00000206FF1A40D8\>
>
> foobar


# I/O
<a id="markdown-i%2Fo" name="i%2Fo"></a>


## コマンドライン引数
<a id="markdown-%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%83%A9%E3%82%A4%E3%83%B3%E5%BC%95%E6%95%B0" name="%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%83%A9%E3%82%A4%E3%83%B3%E5%BC%95%E6%95%B0"></a>

```py
import sys

# sys.argv[1:] とすればファイル名をスキップ（aaa以降が含まれる）
args = sys.argv

print(args)

for i, arg in enumerate(args):
    print('第{}引数: {}'.format(i, args[i]))
```

> ['python3md-arg.py', 'aaa', 'bbb', 'ccc']
>
> 第 1 引数: python3md-arg.py
>
> 第 2 引数: aaa
>
> 第 3 引数: bbb
>
> 第 4 引数: ccc


## 標準入力
<a id="markdown-%E6%A8%99%E6%BA%96%E5%85%A5%E5%8A%9B" name="%E6%A8%99%E6%BA%96%E5%85%A5%E5%8A%9B"></a>

```py
s = input('Enter your name:').strip() # stripで空白文字を除去
print(s)

# 数値の場合
if s.isnumeric():
    print(int(s))
```

```
aaaaa
```

> aaaaa

```py
s = input() # splitで空白文字ごとに分割
ss = s.split()
for item in ss:
    print(item)
```

```
aaa bbb ccc
```

> aaa
>
> bbb
>
> ccc

```py
s = input()
num = int(s) if s.isnumeric() else 1 # 引数の要求数
ss = [input() for i in range(num)]
print(ss)
```

```
aaa
bbb
ccc
```

> ['aaa', 'bbb', 'ccc']


### 無限ループをキー入力で抜ける
<a id="markdown-%E7%84%A1%E9%99%90%E3%83%AB%E3%83%BC%E3%83%97%E3%82%92%E3%82%AD%E3%83%BC%E5%85%A5%E5%8A%9B%E3%81%A7%E6%8A%9C%E3%81%91%E3%82%8B" name="%E7%84%A1%E9%99%90%E3%83%AB%E3%83%BC%E3%83%97%E3%82%92%E3%82%AD%E3%83%BC%E5%85%A5%E5%8A%9B%E3%81%A7%E6%8A%9C%E3%81%91%E3%82%8B"></a>

[python/python3md-termios.py](python/python3md-termios.py)

```py
import fcntl
import termios
import sys
import os

def getkey():
    fno = sys.stdin.fileno()

    #stdinの端末属性を取得
    attr_old = termios.tcgetattr(fno)

    # エコーバック・行単位での編集(カノニカルモード)を無効化する
    attr = termios.tcgetattr(fno)

    # Ctrl + CでKeyboardInterruptとする場合
    # attr[3] = attr[3] & ~termios.ECHO & ~termios.ICANON
    # Ctrl + Cをキー入力として利用する場合
    attr[3] = attr[3] & ~termios.ECHO & ~termios.ICANON & ~termios.ISIG
    # ##

    termios.tcsetattr(fno, termios.TCSADRAIN, attr)

    # NONBLOCKモードを設定して、リアルタイムに取る
    fcntl_old = fcntl.fcntl(fno, fcntl.F_GETFL)
    fcntl.fcntl(fno, fcntl.F_SETFL, fcntl_old | os.O_NONBLOCK)

    chr = 0

    try:
        # キーを取得
        c = sys.stdin.read(1)
        if len(c):
            while len(c):
                chr = (chr << 8) + ord(c)
                c = sys.stdin.read(1)
    finally:
        # stdinを元に戻す
        fcntl.fcntl(fno, fcntl.F_SETFL, fcntl_old)
        termios.tcsetattr(fno, termios.TCSANOW, attr_old)

    return chr

if __name__ == '__main__':
    while 1:
        key = getkey()
        if key == 10:
            # Enter
            break
        elif key == 27:
            # Esc
            break
        elif key == 1792836:
            # ←
            break
        elif key == 1792833:
            # ↑
            break
        elif key == 1792834:
            # ↓
            break
        elif key == 1792835:
            # →
            break
        elif key:
            print(key)
```


### 入力フォーマット別標準入力結果の抽出方法
<a id="markdown-%E5%85%A5%E5%8A%9B%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%83%E3%83%88%E5%88%A5%E6%A8%99%E6%BA%96%E5%85%A5%E5%8A%9B%E7%B5%90%E6%9E%9C%E3%81%AE%E6%8A%BD%E5%87%BA%E6%96%B9%E6%B3%95" name="%E5%85%A5%E5%8A%9B%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%83%E3%83%88%E5%88%A5%E6%A8%99%E6%BA%96%E5%85%A5%E5%8A%9B%E7%B5%90%E6%9E%9C%E3%81%AE%E6%8A%BD%E5%87%BA%E6%96%B9%E6%B3%95"></a>

競技プログラミングで標準入力からデータが与えられる場合などに使う

#### sys.stdin.readline
<a id="markdown-sys.stdin.readline" name="sys.stdin.readline"></a>

input の代わりに sys.stdin.readline を使って高速化する

```py
import sys
input = sys.stdin.readline

inputed = input().strip()
```

#### 1 行 1 列
<a id="markdown-%E8%A1%8C-1-%E5%88%97" name="%E8%A1%8C-1-%E5%88%97"></a>

```py
inputed = input().strip()
# 対象が数値なら必要に応じてキャスト
# inputed = int(input().strip())
# inputed = float(input().strip())

print (type(inputed), inputed)
```

#### 1 行 2 列
<a id="markdown-%E8%A1%8C-2-%E5%88%97" name="%E8%A1%8C-2-%E5%88%97"></a>

```py
k, v = input().split()
# 対象が数値なら必要に応じてキャスト
# k, v = (map(int,input().split()))
# k, v = (map(float,input().split()))

print (type(k), k, type(v), v)
```

```py
inputed = tuple(input().split())
# 対象が数値なら必要に応じてキャスト
# inputed = (map(int,input().split()))
# inputed = (map(float,input().split()))

print (type(inputed), inputed)
```

#### 1 行 n 列
<a id="markdown-%E8%A1%8C-n-%E5%88%97" name="%E8%A1%8C-n-%E5%88%97"></a>

```py
inputed = input().split()

# 対象が数値なら必要に応じてキャスト
# inputed = list(map(int,inputed))
# inputed = list(map(float,inputed))

# ソートする場合
# inputed = sorted(input().split())
# inputed = sorted(map(int, input().split()))

print (type(inputed), inputed)
```

#### n 行 1 列
<a id="markdown-n-%E8%A1%8C-1-%E5%88%97" name="n-%E8%A1%8C-1-%E5%88%97"></a>

EOF（または `-1` など特定の文字列）が出現するまで読み込む場合

```py
123
456
789
-1
```

```py
for val in iter(input, '-1'):
    print(val)
    # 対象が数値なら必要に応じてキャスト
    # print(int(val))
    # print(float(val))
```

1 行目に行数が、2 行目以降にデータが記載されている場合

```py
N
V1
V2
︙
VN
```

```py
# 1行読み込む
N = int(input().split())

# (a) for文
inputed = []
for _ in range(N):
    inputed.append(int(input())

# (b) 内包表記
inputed = [int(input()) for _ in range(N)]

print (type(inputed), inputed)
```

#### n 行 2 列
<a id="markdown-n-%E8%A1%8C-2-%E5%88%97" name="n-%E8%A1%8C-2-%E5%88%97"></a>

1 行目に行数が、2 行目以降にデータが記載されている場合

```py
N
X1 Y1
X2 Y2
︙　︙
XN YN
```

```py
N = int(input())
xy = [map(int, input().split()) for _ in range(N)]
x, y = [list(i) for i in zip(*xy)]
```

#### n 行 m 列（列ごとのリスト）
<a id="markdown-n-%E8%A1%8C-m-%E5%88%97%EF%BC%88%E5%88%97%E3%81%94%E3%81%A8%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88%EF%BC%89" name="n-%E8%A1%8C-m-%E5%88%97%EF%BC%88%E5%88%97%E3%81%94%E3%81%A8%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88%EF%BC%89"></a>

1 行目に行数が、2 行目以降にデータが記載されている場合

```
N
X1 Y1 … M1
X2 Y2 … M2
︙　︙　　︙
XN YN … MN
```

```py
N = int(input())
X = [0] * N
Y = [0] * N
# ︙
M = [0] * N
for i in range(N):
    X[i], Y[i], # …
        M[i] = map(int, input().split())
```

#### n 行 m 列（2 次元配列）
<a id="markdown-n-%E8%A1%8C-m-%E5%88%97%EF%BC%882-%E6%AC%A1%E5%85%83%E9%85%8D%E5%88%97%EF%BC%89" name="n-%E8%A1%8C-m-%E5%88%97%EF%BC%882-%E6%AC%A1%E5%85%83%E9%85%8D%E5%88%97%EF%BC%89"></a>

1 行目に行数が、2 行目以降にデータが記載されている場合

```
N
V11 V12 … V1M
V21 V22 … V1M
︙　　︙　　　︙
VN1 VN2 … VNM
```

```py
# 1行読み込む
N = int(input().split())

# 残りはforループ
inputed = [input().split() for i in [0] * N]
# inputed = [stdin.readline()[:-1] for _ in [0] * N] # 改行文字を除去

# inputed = [list(map(int,input().split())) for i in [0] * N]
```

```py
# まとめると
inputed = [list(map(int, input().split())) for i in range(int(input()))]
```


## 標準出力
<a id="markdown-%E6%A8%99%E6%BA%96%E5%87%BA%E5%8A%9B" name="%E6%A8%99%E6%BA%96%E5%87%BA%E5%8A%9B"></a>

```py
print('Hello Python!')

# すぐにフラッシュする(Python3.3以降)
print('Hello Python!', flush=True)

# すぐにフラッシュする(Python3.2以前)
import sys
print('Hello Python!')
sys.stdout.flush()
```

### 追記（／改行して追記）ではなく、直前の内容を上書き更新しながら出力
<a id="markdown-%E8%BF%BD%E8%A8%98%EF%BC%88%EF%BC%8F%E6%94%B9%E8%A1%8C%E3%81%97%E3%81%A6%E8%BF%BD%E8%A8%98%EF%BC%89%E3%81%A7%E3%81%AF%E3%81%AA%E3%81%8F%E3%80%81%E7%9B%B4%E5%89%8D%E3%81%AE%E5%86%85%E5%AE%B9%E3%82%92%E4%B8%8A%E6%9B%B8%E3%81%8D%E6%9B%B4%E6%96%B0%E3%81%97%E3%81%AA%E3%81%8C%E3%82%89%E5%87%BA%E5%8A%9B" name="%E8%BF%BD%E8%A8%98%EF%BC%88%EF%BC%8F%E6%94%B9%E8%A1%8C%E3%81%97%E3%81%A6%E8%BF%BD%E8%A8%98%EF%BC%89%E3%81%A7%E3%81%AF%E3%81%AA%E3%81%8F%E3%80%81%E7%9B%B4%E5%89%8D%E3%81%AE%E5%86%85%E5%AE%B9%E3%82%92%E4%B8%8A%E6%9B%B8%E3%81%8D%E6%9B%B4%E6%96%B0%E3%81%97%E3%81%AA%E3%81%8C%E3%82%89%E5%87%BA%E5%8A%9B"></a>

[python/python3md-stdout.py](python/python3md-stdout.py)

```py
import sys, time
for num, i in enumerate(range(100)):
    sys.stdout.write("\r%d" % num)
    # print("\r%d" % num, end='') # print() を使う場合は、ただの print() だと開業されてしまい上書きされないので end='' が必要
    sys.stdout.flush()
    time.sleep(0.01)
```


### 末尾に改行文字をつけずに出力する
<a id="markdown-%E6%9C%AB%E5%B0%BE%E3%81%AB%E6%94%B9%E8%A1%8C%E6%96%87%E5%AD%97%E3%82%92%E3%81%A4%E3%81%91%E3%81%9A%E3%81%AB%E5%87%BA%E5%8A%9B%E3%81%99%E3%82%8B" name="%E6%9C%AB%E5%B0%BE%E3%81%AB%E6%94%B9%E8%A1%8C%E6%96%87%E5%AD%97%E3%82%92%E3%81%A4%E3%81%91%E3%81%9A%E3%81%AB%E5%87%BA%E5%8A%9B%E3%81%99%E3%82%8B"></a>

```py
print('Hello Python!', end='');print('Hello Python!', end='')
```

> Hello Python!Hello Python!


### pprint()でデータ出力の整然化
<a id="markdown-pprint%E3%81%A7%E3%83%87%E3%83%BC%E3%82%BF%E5%87%BA%E5%8A%9B%E3%81%AE%E6%95%B4%E7%84%B6%E5%8C%96" name="pprint%E3%81%A7%E3%83%87%E3%83%BC%E3%82%BF%E5%87%BA%E5%8A%9B%E3%81%AE%E6%95%B4%E7%84%B6%E5%8C%96"></a>

辞書・リストなどのオブジェクトを整形して出力する

```py
from pprint import pprint

dctlst = [{ 1:'first', 2:'second', 3:'third'},{ 11:'first', 12:'second', 13:'third'},{ 21:'first', 22:'second', 23:'third'}]
pprint(dctlst, stream=f)
```

> [{1: 'first', 2: 'second', 3: 'third'},
>
> {11: 'first', 12: 'second', 13: 'third'},
>
> {21: 'first', 22: 'second', 23: 'third'}]

```py
from pprint import pprint

dctlst = [{ 1:'first', 2:'second', 3:'third'},{ 11:'first', 12:'second', 13:'third'},{ 21:'first', 22:'second', 23:'third'}]

# 深さを指定
pprint(dctlst, depth=1)

# 横幅を指定
pprint(dctlst, width=20)
```

> [{...}, {...}, {...}]

> [{1: 'first',
>
> 2: 'second',
>
> 3: 'third'},
>
> {11: 'first',
>
> 12: 'second',
>
> 13: 'third'},
>
> {21: 'first',
>
> 22: 'second',
>
> 23: 'third'}]


### 標準出力の内容をファイルに書き出す
<a id="markdown-%E6%A8%99%E6%BA%96%E5%87%BA%E5%8A%9B%E3%81%AE%E5%86%85%E5%AE%B9%E3%82%92%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AB%E6%9B%B8%E3%81%8D%E5%87%BA%E3%81%99" name="%E6%A8%99%E6%BA%96%E5%87%BA%E5%8A%9B%E3%81%AE%E5%86%85%E5%AE%B9%E3%82%92%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AB%E6%9B%B8%E3%81%8D%E5%87%BA%E3%81%99"></a>


#### stdout
<a id="markdown-stdout" name="stdout"></a>

```py
import sys
temp_sysout = sys.stdout
f = open('./path/to/file.txt', 'w')
sys.stdout = f

print('to file')

sys.stdout = temp_sysout
f.close()

print('to console')
```

- file.txt

> to file

- Console

> to console


#### print()
<a id="markdown-print" name="print"></a>

```py
with open('./path/to/file.txt', 'w') as f:
    print('contents', file=f)
```


### プログレスバーを表示
<a id="markdown-%E3%83%97%E3%83%AD%E3%82%B0%E3%83%AC%E3%82%B9%E3%83%90%E3%83%BC%E3%82%92%E8%A1%A8%E7%A4%BA" name="%E3%83%97%E3%83%AD%E3%82%B0%E3%83%AC%E3%82%B9%E3%83%90%E3%83%BC%E3%82%92%E8%A1%A8%E7%A4%BA"></a>

```sh
$ pip install tqdm
```


#### イテラブルなオブジェクトを指定
<a id="markdown-%E3%82%A4%E3%83%86%E3%83%A9%E3%83%96%E3%83%AB%E3%81%AA%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%92%E6%8C%87%E5%AE%9A" name="%E3%82%A4%E3%83%86%E3%83%A9%E3%83%96%E3%83%AB%E3%81%AA%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%92%E6%8C%87%E5%AE%9A"></a>

```py
from tqdm import tqdm
import time

for i in tqdm(range(100)):
    time.sleep(0.1)

for i in tqdm([1, 2, 3, 4, 5, 6, 7, 8, 9, 10]):
    time.sleep(0.1)

for i in tqdm('Lorem ipsum dolor sit amet, vidit causae eum at.'):
    time.sleep(0.1)
```


#### 全量と割合を指定
<a id="markdown-%E5%85%A8%E9%87%8F%E3%81%A8%E5%89%B2%E5%90%88%E3%82%92%E6%8C%87%E5%AE%9A" name="%E5%85%A8%E9%87%8F%E3%81%A8%E5%89%B2%E5%90%88%E3%82%92%E6%8C%87%E5%AE%9A"></a>

```py
from tqdm import tqdm
import time

total = 10000
per = 100

bar = tqdm(total = total)
for i in range(100):
    bar.update(per)
    time.sleep(0.1)
bar.close()
```


## 環境変数
<a id="markdown-%E7%92%B0%E5%A2%83%E5%A4%89%E6%95%B0" name="%E7%92%B0%E5%A2%83%E5%A4%89%E6%95%B0"></a>


### 環境変数の読み出し
<a id="markdown-%E7%92%B0%E5%A2%83%E5%A4%89%E6%95%B0%E3%81%AE%E8%AA%AD%E3%81%BF%E5%87%BA%E3%81%97" name="%E7%92%B0%E5%A2%83%E5%A4%89%E6%95%B0%E3%81%AE%E8%AA%AD%E3%81%BF%E5%87%BA%E3%81%97"></a>


#### 一覧の取得
<a id="markdown-%E4%B8%80%E8%A6%A7%E3%81%AE%E5%8F%96%E5%BE%97" name="%E4%B8%80%E8%A6%A7%E3%81%AE%E5%8F%96%E5%BE%97"></a>

```py
import os
print(os.environ)
```

> environ({
>
>     'ALLUSERSPROFILE': 'C:\\ProgramData',
>
>     'APPDATA': 'C:\\Users\\y\\AppData\\Roaming',
>
>     (中略)
>
>     'COLORTERM': 'truecolor'
>
> })

※整形済

```py
import os
for k in os.environ: # そのままforループで回す
    print(k)

for k in os.environ.keys(): # keys()メソッドをつけてforループで回す
    print(k)
```

> ALLUSERSPROFILE
>
> APPDATA
>
> (中略)
>
> COLORTERM

```py
import os
for v in os.environ.values():
    print(v)

for v in list(os.environ.values()): # list型で取得
    print(v)
```

> C:\ProgramData
>
> C:\Users\y\AppData\Roaming
>
> (中略)
>
> truecolor

```py
import os
for k, v in os.environ.items():
    print(k, v)

for k, v in list(os.environ.items()): # list型で取得
    print(k, v)
```

> ALLUSERSPROFILE C:\ProgramData
>
> APPDATA C:\Users\y\AppData\Roaming
>
> (中略)
>
> COLORTERM truecolor


#### 環境変数の存在チェック
<a id="markdown-%E7%92%B0%E5%A2%83%E5%A4%89%E6%95%B0%E3%81%AE%E5%AD%98%E5%9C%A8%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF" name="%E7%92%B0%E5%A2%83%E5%A4%89%E6%95%B0%E3%81%AE%E5%AD%98%E5%9C%A8%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF"></a>

```py
import os

# キーの存在チェック
print('ALLUSERSPROFILE' in os.environ)
print('ALLUSERSPROFILE' not in os.environ.keys())

# 値の存在チェック
print('C:\\ProgramData' in os.environ.values())

# キーと値を組み合わせてチェック
print(('ALLUSERSPROFILE', 'C:\\ProgramData') in os.environ.items())
```

> True
>
> False

> True

> True


#### キーを指定して値を取得
<a id="markdown-%E3%82%AD%E3%83%BC%E3%82%92%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%A6%E5%80%A4%E3%82%92%E5%8F%96%E5%BE%97" name="%E3%82%AD%E3%83%BC%E3%82%92%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%A6%E5%80%A4%E3%82%92%E5%8F%96%E5%BE%97"></a>

```py
import os

print(os.environ['ALLUSERSPROFILE'])
print(os.environ.get('ALLUSERSPROFILE'))
print(os.getenv('ALLUSERSPROFILE'))

print(os.environ['_ALLUSERSPROFILE']) # 指定されたキーが存在しない場合はエラー
print(os.environ.get('_ALLUSERSPROFILE')) # 指定されたキーが存在しない場合はNone
print(os.environ.get('_ALLUSERSPROFILE', 'NULL')) # 指定されたキーが存在しない場合は第2引数に指定された値
print(os.getenv('_ALLUSERSPROFILE', 'NULL')) # 指定されたキーが存在しない場合は第2引数に指定された値
```

> C:\ProgramData
>
> C:\ProgramData
>
> C:\ProgramData

> KeyError: '\_ALLUSERSPROFILE'
>
> None
>
> NULL
>
> NULL


### 環境変数の書き込み
<a id="markdown-%E7%92%B0%E5%A2%83%E5%A4%89%E6%95%B0%E3%81%AE%E6%9B%B8%E3%81%8D%E8%BE%BC%E3%81%BF" name="%E7%92%B0%E5%A2%83%E5%A4%89%E6%95%B0%E3%81%AE%E6%9B%B8%E3%81%8D%E8%BE%BC%E3%81%BF"></a>

以下の手順で環境変数を設定／上書きしても、システムの環境変数が変更されるわけではなく、実行中のスクリプトでのみ反映される

```py
import os

os.environ['SAMPLE'] = 'foobar'
print(os.environ['SAMPLE'])

os.environ['SAMPLE'] = 'hogepiyo' # 上書きされる
print(os.environ['SAMPLE'])

os.environ['SAMPLE'] = 123 # 文字列以外を代入しようとするとTypeError
print(os.environ['SAMPLE'])
```

> foobar
>
> hogepiyo
>
> TypeError: str expected, not int
>
> hogepiyo


